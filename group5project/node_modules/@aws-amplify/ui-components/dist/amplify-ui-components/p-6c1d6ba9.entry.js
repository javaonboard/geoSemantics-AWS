import{r,h as t,H as n}from"./p-84c6d66b.js";import{Logger as i,I18n as e}from"@aws-amplify/core";import{M as o,A as u}from"./p-417bb5ea.js";import{Auth as a}from"@aws-amplify/auth";import{T as f}from"./p-26837fd8.js";import{S as s,i as c,N as h}from"./p-2915ed18.js";import{d as v,o as d,a as l}from"./p-afe95d96.js";import{c as w}from"./p-2d556256.js";import p from"buffer";const m=class{constructor(t){r(this,t),this.placeholder="",this.checked=!1,this.disabled=!1}render(){return t("span",{class:"radio-button"},t("input",Object.assign({type:"radio",name:this.name,value:this.value,onInput:this.handleInputChange,placeholder:this.placeholder,id:this.fieldId,checked:this.checked,disabled:this.disabled},this.inputProps)),t("amplify-label",{htmlFor:this.fieldId},this.label))}};m.style=":host{--font-family:var(--amplify-font-family)}.radio-button{display:block;width:100%;padding:16px;font-size:var(--amplify-text-sm);font-family:var(--font-family)}.radio-button input{margin-right:12px}";var y=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then},g={}.toString,b=Array.isArray||function(r){return"[object Array]"==g.call(r)},E=(A.TYPED_ARRAY_SUPPORT=function(){try{var r=new Uint8Array(1);return r.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===r.foo()}catch(t){return!1}}())?2147483647:1073741823;function A(r,t,n){return A.TYPED_ARRAY_SUPPORT||this instanceof A?"number"==typeof r?M(this,r):function(r,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(r,t,n,i){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");var e;return e=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),A.TYPED_ARRAY_SUPPORT?e.__proto__=A.prototype:e=x(r,e),e}(r,t,n,i):"string"==typeof t?function(r,t){var n=0|I(t),i=R(r,n),e=i.write(t);return e!==n&&(i=i.slice(0,e)),i}(r,t):function(r,t){if(A.isBuffer(t)){var n=0|T(t.length),i=R(r,n);return 0===i.length||t.copy(i,0,0,n),i}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(e=t.length)!=e?R(r,0):x(r,t);if("Buffer"===t.type&&Array.isArray(t.data))return x(r,t.data)}var e;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(r,t)}(this,r,t,n):new A(r,t,n)}function T(r){if(r>=E)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E.toString(16)+" bytes");return 0|r}function R(r,t){var n;return A.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(t)).__proto__=A.prototype:(null===(n=r)&&(n=new A(t)),n.length=t),n}function M(r,t){var n=R(r,t<0?0:0|T(t));if(!A.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)n[i]=0;return n}function x(r,t){for(var n=t.length<0?0:0|T(t.length),i=R(r,n),e=0;e<n;e+=1)i[e]=255&t[e];return i}function B(r,t){var n;t=t||1/0;for(var i=r.length,e=null,o=[],u=0;u<i;++u){if((n=r.charCodeAt(u))>55295&&n<57344){if(!e){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(u+1===i){(t-=3)>-1&&o.push(239,191,189);continue}e=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),e=n;continue}n=65536+(e-55296<<10|n-56320)}else e&&(t-=3)>-1&&o.push(239,191,189);if(e=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function I(r){return A.isBuffer(r)?r.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer)?r.byteLength:("string"!=typeof r&&(r=""+r),0===r.length?0:B(r).length)}A.TYPED_ARRAY_SUPPORT&&(A.prototype.__proto__=Uint8Array.prototype,A.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&A[Symbol.species]===A&&Object.defineProperty(A,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),A.prototype.write=function(r,t,n){void 0===t||void 0===n&&"string"==typeof t?(n=this.length,t=0):isFinite(t)&&(t|=0,isFinite(n)?n|=0:n=void 0);var i=this.length-t;if((void 0===n||n>i)&&(n=i),r.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(r,t,n,i){return function(r,t,n,i){for(var e=0;e<i&&!(e+n>=t.length||e>=r.length);++e)t[e+n]=r[e];return e}(B(t,r.length-n),r,n,i)}(this,r,t,n)},A.prototype.slice=function(r,t){var n,i=this.length;if((r=~~r)<0?(r+=i)<0&&(r=0):r>i&&(r=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<r&&(t=r),A.TYPED_ARRAY_SUPPORT)(n=this.subarray(r,t)).__proto__=A.prototype;else{var e=t-r;n=new A(e,void 0);for(var o=0;o<e;++o)n[o]=this[o+r]}return n},A.prototype.copy=function(r,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=r.length&&(t=r.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===r.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),r.length-t<i-n&&(i=r.length-t+n);var e,o=i-n;if(this===r&&n<t&&t<i)for(e=o-1;e>=0;--e)r[e+t]=this[e+n];else if(o<1e3||!A.TYPED_ARRAY_SUPPORT)for(e=0;e<o;++e)r[e+t]=this[e+n];else Uint8Array.prototype.set.call(r,this.subarray(n,n+o),t);return o},A.prototype.fill=function(r,t,n){if("string"==typeof r){if("string"==typeof t?(t=0,n=this.length):"string"==typeof n&&(n=this.length),1===r.length){var i=r.charCodeAt(0);i<256&&(r=i)}}else"number"==typeof r&&(r&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var e;if(t>>>=0,n=void 0===n?this.length:n>>>0,r||(r=0),"number"==typeof r)for(e=t;e<n;++e)this[e]=r;else{var o=A.isBuffer(r)?r:new A(r),u=o.length;for(e=0;e<n-t;++e)this[e+t]=o[e%u]}return this},A.concat=function(r,t){if(!b(r))throw new TypeError('"list" argument must be an Array of Buffers');if(0===r.length)return R(null,0);var n;if(void 0===t)for(t=0,n=0;n<r.length;++n)t+=r[n].length;var i=M(null,t),e=0;for(n=0;n<r.length;++n){var o=r[n];if(!A.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,e),e+=o.length}return i},A.byteLength=I,A.prototype._isBuffer=!0,A.isBuffer=function(r){return!(null==r||!r._isBuffer)};var P,k=function(r){var t=new A(r);return t.fill(0),t},N=function(r){return new A(r)},C=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],F=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return 4*r+17},_=function(r){return C[r]},U=function(r){for(var t=0;0!==r;)t++,r>>>=1;return t},S=function(){return void 0!==P},j=function(r){return P(r)};function $(r,t,n){return r(n={path:t,exports:{},require:function(){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},n.exports),n.exports}var O=$((function(r,t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(r){return r&&void 0!==r.bit&&r.bit>=0&&r.bit<4},t.from=function(r,n){if(t.isValid(r))return r;try{return function(r){if("string"!=typeof r)throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}(r)}catch(i){return n}}}));function L(){this.buffer=[],this.length=0}L.prototype={get:function(r){var t=Math.floor(r/8);return 1==(this.buffer[t]>>>7-r%8&1)},put:function(r,t){for(var n=0;n<t;n++)this.putBit(1==(r>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(r){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),r&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Q=L;function q(r){if(!r||r<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=r,this.data=k(r*r),this.reservedBit=k(r*r)}q.prototype.set=function(r,t,n,i){var e=r*this.size+t;this.data[e]=n,i&&(this.reservedBit[e]=!0)},q.prototype.get=function(r,t){return this.data[r*this.size+t]},q.prototype.xor=function(r,t,n){this.data[r*this.size+t]^=n},q.prototype.isReserved=function(r,t){return this.reservedBit[r*this.size+t]};var z=q,D=$((function(r,t){var n=F;t.getRowColCoords=function(r){if(1===r)return[];for(var t=Math.floor(r/7)+2,i=n(r),e=145===i?26:2*Math.ceil((i-13)/(2*t-2)),o=[i-7],u=1;u<t-1;u++)o[u]=o[u-1]-e;return o.push(6),o.reverse()},t.getPositions=function(r){for(var n=[],i=t.getRowColCoords(r),e=i.length,o=0;o<e;o++)for(var u=0;u<e;u++)0===o&&0===u||0===o&&u===e-1||o===e-1&&0===u||n.push([i[o],i[u]]);return n}})),J=F,K=$((function(r,t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function n(r,n,i){switch(r){case t.Patterns.PATTERN000:return(n+i)%2==0;case t.Patterns.PATTERN001:return n%2==0;case t.Patterns.PATTERN010:return i%3==0;case t.Patterns.PATTERN011:return(n+i)%3==0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(i/3))%2==0;case t.Patterns.PATTERN101:return n*i%2+n*i%3==0;case t.Patterns.PATTERN110:return(n*i%2+n*i%3)%2==0;case t.Patterns.PATTERN111:return(n*i%3+(n+i)%2)%2==0;default:throw new Error("bad maskPattern:"+r)}}t.isValid=function(r){return null!=r&&""!==r&&!isNaN(r)&&r>=0&&r<=7},t.from=function(r){return t.isValid(r)?parseInt(r,10):void 0},t.getPenaltyN1=function(r){for(var t=r.size,n=0,i=0,e=0,o=null,u=null,a=0;a<t;a++){i=e=0,o=u=null;for(var f=0;f<t;f++){var s=r.get(a,f);s===o?i++:(i>=5&&(n+=i-5+3),o=s,i=1),(s=r.get(f,a))===u?e++:(e>=5&&(n+=e-5+3),u=s,e=1)}i>=5&&(n+=i-5+3),e>=5&&(n+=e-5+3)}return n},t.getPenaltyN2=function(r){for(var t=r.size,n=0,i=0;i<t-1;i++)for(var e=0;e<t-1;e++){var o=r.get(i,e)+r.get(i,e+1)+r.get(i+1,e)+r.get(i+1,e+1);4!==o&&0!==o||n++}return 3*n},t.getPenaltyN3=function(r){for(var t=r.size,n=0,i=0,e=0,o=0;o<t;o++){i=e=0;for(var u=0;u<t;u++)i=i<<1&2047|r.get(o,u),u>=10&&(1488===i||93===i)&&n++,e=e<<1&2047|r.get(u,o),u>=10&&(1488===e||93===e)&&n++}return 40*n},t.getPenaltyN4=function(r){for(var t=0,n=r.data.length,i=0;i<n;i++)t+=r.data[i];return 10*Math.abs(Math.ceil(100*t/n/5)-10)},t.applyMask=function(r,t){for(var i=t.size,e=0;e<i;e++)for(var o=0;o<i;o++)t.isReserved(o,e)||t.xor(o,e,n(r,o,e))},t.getBestMask=function(r,n){for(var i=Object.keys(t.Patterns).length,e=0,o=1/0,u=0;u<i;u++){n(u),t.applyMask(u,r);var a=t.getPenaltyN1(r)+t.getPenaltyN2(r)+t.getPenaltyN3(r)+t.getPenaltyN4(r);t.applyMask(u,r),a<o&&(o=a,e=u)}return e}})),Z=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],H=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430],Y=function(r,t){switch(t){case O.L:return Z[4*(r-1)+0];case O.M:return Z[4*(r-1)+1];case O.Q:return Z[4*(r-1)+2];case O.H:return Z[4*(r-1)+3];default:return}},W=function(r,t){switch(t){case O.L:return H[4*(r-1)+0];case O.M:return H[4*(r-1)+1];case O.Q:return H[4*(r-1)+2];case O.H:return H[4*(r-1)+3];default:return}},G=k(512),V=k(256);!function(){for(var r=1,t=0;t<255;t++)G[t]=r,V[r]=t,256&(r<<=1)&&(r^=285);for(t=255;t<512;t++)G[t]=G[t-255]}();var X=function(r,t){return 0===r||0===t?0:G[V[r]+V[t]]},rr=$((function(r,t){t.mul=function(r,t){for(var n=k(r.length+t.length-1),i=0;i<r.length;i++)for(var e=0;e<t.length;e++)n[i+e]^=X(r[i],t[e]);return n},t.mod=function(r,t){for(var n=N(r);n.length-t.length>=0;){for(var i=n[0],e=0;e<t.length;e++)n[e]^=X(t[e],i);for(var o=0;o<n.length&&0===n[o];)o++;n=n.slice(o)}return n},t.generateECPolynomial=function(r){for(var n=N([1]),i=0;i<r;i++)n=t.mul(n,[1,(e=i,G[e])]);var e;return n}})),tr=p.Buffer;function nr(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}nr.prototype.initialize=function(r){this.degree=r,this.genPoly=rr.generateECPolynomial(this.degree)},nr.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");var t=k(this.degree),n=tr.concat([r,t],r.length+this.degree),i=rr.mod(n,this.genPoly),e=this.degree-i.length;if(e>0){var o=k(this.degree);return i.copy(o,e),o}return i};var ir=nr,er=function(r){return!isNaN(r)&&r>=1&&r<=40},or="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",ur="(?:(?![A-Z0-9 $%*+\\-./:]|"+(or=or.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+",ar=new RegExp(or,"g"),fr=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),sr=new RegExp(ur,"g"),cr=new RegExp("[0-9]+","g"),hr=new RegExp("[A-Z $%*+\\-./:]+","g"),vr=new RegExp("^"+or+"$"),dr=new RegExp("^[0-9]+$"),lr=new RegExp("^[A-Z0-9 $%*+\\-./:]+$"),wr={KANJI:ar,BYTE_KANJI:fr,BYTE:sr,NUMERIC:cr,ALPHANUMERIC:hr,testKanji:function(r){return vr.test(r)},testNumeric:function(r){return dr.test(r)},testAlphanumeric:function(r){return lr.test(r)}},pr=$((function(r,t){t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(r,t){if(!r.ccBits)throw new Error("Invalid mode: "+r);if(!er(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?r.ccBits[0]:t<27?r.ccBits[1]:r.ccBits[2]},t.getBestModeForData=function(r){return wr.testNumeric(r)?t.NUMERIC:wr.testAlphanumeric(r)?t.ALPHANUMERIC:wr.testKanji(r)?t.KANJI:t.BYTE},t.toString=function(r){if(r&&r.id)return r.id;throw new Error("Invalid mode")},t.isValid=function(r){return r&&r.bit&&r.ccBits},t.from=function(r,n){if(t.isValid(r))return r;try{return function(r){if("string"!=typeof r)throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+r)}}(r)}catch(i){return n}}})),mr=$((function(r,t){var n=U(7973);function i(r,t){return pr.getCharCountIndicator(r,t)+4}function e(r,t){var n=0;return r.forEach((function(r){var e=i(r.mode,t);n+=e+r.getBitsLength()})),n}t.from=function(r,t){return er(r)?parseInt(r,10):t},t.getCapacity=function(r,t,n){if(!er(r))throw new Error("Invalid QR Code version");void 0===n&&(n=pr.BYTE);var e=8*(_(r)-W(r,t));if(n===pr.MIXED)return e;var o=e-i(n,r);switch(n){case pr.NUMERIC:return Math.floor(o/10*3);case pr.ALPHANUMERIC:return Math.floor(o/11*2);case pr.KANJI:return Math.floor(o/13);case pr.BYTE:default:return Math.floor(o/8)}},t.getBestVersionForData=function(r,n){var i,o=O.from(n,O.M);if(b(r)){if(r.length>1)return function(r,n){for(var i=1;i<=40;i++)if(e(r,i)<=t.getCapacity(i,n,pr.MIXED))return i}(r,o);if(0===r.length)return 1;i=r[0]}else i=r;return function(r,n,i){for(var e=1;e<=40;e++)if(n<=t.getCapacity(e,i,r))return e}(i.mode,i.getLength(),o)},t.getEncodedBits=function(r){if(!er(r)||r<7)throw new Error("Invalid QR Code version");for(var t=r<<12;U(t)-n>=0;)t^=7973<<U(t)-n;return r<<12|t}})),yr=U(1335);function gr(r){this.mode=pr.NUMERIC,this.data=r.toString()}gr.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},gr.prototype.getLength=function(){return this.data.length},gr.prototype.getBitsLength=function(){return gr.getBitsLength(this.data.length)},gr.prototype.write=function(r){var t,n,i;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),i=parseInt(n,10),r.put(i,10);var e=this.data.length-t;e>0&&(n=this.data.substr(t),i=parseInt(n,10),r.put(i,3*e+1))};var br=gr,Er=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ar(r){this.mode=pr.ALPHANUMERIC,this.data=r}Ar.getBitsLength=function(r){return 11*Math.floor(r/2)+r%2*6},Ar.prototype.getLength=function(){return this.data.length},Ar.prototype.getBitsLength=function(){return Ar.getBitsLength(this.data.length)},Ar.prototype.write=function(r){var t;for(t=0;t+2<=this.data.length;t+=2){var n=45*Er.indexOf(this.data[t]);n+=Er.indexOf(this.data[t+1]),r.put(n,11)}this.data.length%2&&r.put(Er.indexOf(this.data[t]),6)};var Tr=Ar;function Rr(r){this.mode=pr.BYTE,this.data=N(r)}Rr.getBitsLength=function(r){return 8*r},Rr.prototype.getLength=function(){return this.data.length},Rr.prototype.getBitsLength=function(){return Rr.getBitsLength(this.data.length)},Rr.prototype.write=function(r){for(var t=0,n=this.data.length;t<n;t++)r.put(this.data[t],8)};var Mr=Rr;function xr(r){this.mode=pr.KANJI,this.data=r}xr.getBitsLength=function(r){return 13*r},xr.prototype.getLength=function(){return this.data.length},xr.prototype.getBitsLength=function(){return xr.getBitsLength(this.data.length)},xr.prototype.write=function(r){var t;for(t=0;t<this.data.length;t++){var n=j(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}r.put(n=192*(n>>>8&255)+(255&n),13)}};var Br=xr,Ir=$((function(r){var t={single_source_shortest_paths:function(r,n,i){var e={},o={};o[n]=0;var u,a,f,s,c,h,v=t.PriorityQueue.make();for(v.push(n,0);!v.empty();)for(f in s=(u=v.pop()).cost,c=r[a=u.value]||{})c.hasOwnProperty(f)&&(h=s+c[f],(void 0===o[f]||o[f]>h)&&(o[f]=h,v.push(f,h),e[f]=a));if(void 0!==i&&void 0===o[i]){var d=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(d)}return e},extract_shortest_path_from_predecessor_list:function(r,t){for(var n=[],i=t;i;)n.push(i),i=r[i];return n.reverse(),n},find_path:function(r,n,i){var e=t.single_source_shortest_paths(r,n,i);return t.extract_shortest_path_from_predecessor_list(e,i)},PriorityQueue:{make:function(r){var n,i=t.PriorityQueue,e={};for(n in r=r||{},i)i.hasOwnProperty(n)&&(e[n]=i[n]);return e.queue=[],e.sorter=r.sorter||i.default_sorter,e},default_sorter:function(r,t){return r.cost-t.cost},push:function(r,t){this.queue.push({value:r,cost:t}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};r.exports=t})),Pr=$((function(r,t){function n(r){return unescape(encodeURIComponent(r)).length}function i(r,t,n){for(var i,e=[];null!==(i=r.exec(n));)e.push({data:i[0],index:i.index,mode:t,length:i[0].length});return e}function e(r){var t,n,e=i(wr.NUMERIC,pr.NUMERIC,r),o=i(wr.ALPHANUMERIC,pr.ALPHANUMERIC,r);return S()?(t=i(wr.BYTE,pr.BYTE,r),n=i(wr.KANJI,pr.KANJI,r)):(t=i(wr.BYTE_KANJI,pr.BYTE,r),n=[]),e.concat(o,t,n).sort((function(r,t){return r.index-t.index})).map((function(r){return{data:r.data,mode:r.mode,length:r.length}}))}function o(r,t){switch(t){case pr.NUMERIC:return br.getBitsLength(r);case pr.ALPHANUMERIC:return Tr.getBitsLength(r);case pr.KANJI:return Br.getBitsLength(r);case pr.BYTE:return Mr.getBitsLength(r)}}function u(r,t){var n,i=pr.getBestModeForData(r);if((n=pr.from(t,i))!==pr.BYTE&&n.bit<i.bit)throw new Error('"'+r+'" cannot be encoded with mode '+pr.toString(n)+".\n Suggested mode is: "+pr.toString(i));switch(n!==pr.KANJI||S()||(n=pr.BYTE),n){case pr.NUMERIC:return new br(r);case pr.ALPHANUMERIC:return new Tr(r);case pr.KANJI:return new Br(r);case pr.BYTE:return new Mr(r)}}t.fromArray=function(r){return r.reduce((function(r,t){return"string"==typeof t?r.push(u(t,null)):t.data&&r.push(u(t.data,t.mode)),r}),[])},t.fromString=function(r,i){for(var u=function(r,t){for(var n={},i={start:{}},e=["start"],u=0;u<r.length;u++){for(var a=r[u],f=[],s=0;s<a.length;s++){var c=a[s],h=""+u+s;f.push(h),n[h]={node:c,lastCount:0},i[h]={};for(var v=0;v<e.length;v++){var d=e[v];n[d]&&n[d].node.mode===c.mode?(i[d][h]=o(n[d].lastCount+c.length,c.mode)-o(n[d].lastCount,c.mode),n[d].lastCount+=c.length):(n[d]&&(n[d].lastCount=c.length),i[d][h]=o(c.length,c.mode)+4+pr.getCharCountIndicator(c.mode,t))}}e=f}for(v=0;v<e.length;v++)i[e[v]].end=0;return{map:i,table:n}}(function(r){for(var t=[],i=0;i<r.length;i++){var e=r[i];switch(e.mode){case pr.NUMERIC:t.push([e,{data:e.data,mode:pr.ALPHANUMERIC,length:e.length},{data:e.data,mode:pr.BYTE,length:e.length}]);break;case pr.ALPHANUMERIC:t.push([e,{data:e.data,mode:pr.BYTE,length:e.length}]);break;case pr.KANJI:t.push([e,{data:e.data,mode:pr.BYTE,length:n(e.data)}]);break;case pr.BYTE:t.push([{data:e.data,mode:pr.BYTE,length:n(e.data)}])}}return t}(e(r,S())),i),a=Ir.find_path(u.map,"start","end"),f=[],s=1;s<a.length-1;s++)f.push(u.table[a[s]].node);return t.fromArray(f.reduce((function(r,t){var n=r.length-1>=0?r[r.length-1]:null;return n&&n.mode===t.mode?(r[r.length-1].data+=t.data,r):(r.push(t),r)}),[]))},t.rawSplit=function(r){return t.fromArray(e(r,S()))}}));function kr(r,t,n){var i,e,o=r.size,u=function(r,t){for(var n=r.bit<<3|t,i=n<<10;U(i)-yr>=0;)i^=1335<<U(i)-yr;return 21522^(n<<10|i)}(t,n);for(i=0;i<15;i++)r.set(i<6?i:i<8?i+1:o-15+i,8,e=1==(u>>i&1),!0),r.set(8,i<8?o-i-1:i<9?15-i-1+1:15-i-1,e,!0);r.set(o-8,8,1,!0)}function Nr(r,t,n,i){var e;if(b(r))e=Pr.fromArray(r);else{if("string"!=typeof r)throw new Error("Invalid data");var o=t;if(!o){var u=Pr.rawSplit(r);o=mr.getBestVersionForData(u,n)}e=Pr.fromString(r,o||40)}var a=mr.getBestVersionForData(e,n);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<a)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+a+".\n")}else t=a;var f=function(r,t,n){var i=new Q;n.forEach((function(t){i.put(t.mode.bit,4),i.put(t.getLength(),pr.getCharCountIndicator(t.mode,r)),t.write(i)}));var e=8*(_(r)-W(r,t));for(i.getLengthInBits()+4<=e&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);for(var o=(e-i.getLengthInBits())/8,u=0;u<o;u++)i.put(u%2?17:236,8);return function(r,t,n){for(var i=_(t),e=i-W(t,n),o=Y(t,n),u=o-i%o,a=Math.floor(i/o),f=Math.floor(e/o),s=f+1,c=a-f,h=new ir(c),v=0,d=new Array(o),l=new Array(o),w=0,p=N(r.buffer),m=0;m<o;m++){var y=m<u?f:s;d[m]=p.slice(v,v+y),l[m]=h.encode(d[m]),v+=y,w=Math.max(w,y)}var g,b,E=k(i),A=0;for(g=0;g<w;g++)for(b=0;b<o;b++)g<d[b].length&&(E[A++]=d[b][g]);for(g=0;g<c;g++)for(b=0;b<o;b++)E[A++]=l[b][g];return E}(i,r,t)}(t,n,e),s=F(t),c=new z(s);return function(r,t){for(var n=r.size,i=function(r){var t=J(r);return[[0,0],[t-7,0],[0,t-7]]}(t),e=0;e<i.length;e++)for(var o=i[e][0],u=i[e][1],a=-1;a<=7;a++)if(!(o+a<=-1||n<=o+a))for(var f=-1;f<=7;f++)u+f<=-1||n<=u+f||r.set(o+a,u+f,a>=0&&a<=6&&(0===f||6===f)||f>=0&&f<=6&&(0===a||6===a)||a>=2&&a<=4&&f>=2&&f<=4,!0)}(c,t),function(r){for(var t=r.size,n=8;n<t-8;n++){var i=n%2==0;r.set(n,6,i,!0),r.set(6,n,i,!0)}}(c),function(r,t){for(var n=D.getPositions(t),i=0;i<n.length;i++)for(var e=n[i][0],o=n[i][1],u=-2;u<=2;u++)for(var a=-2;a<=2;a++)r.set(e+u,o+a,-2===u||2===u||-2===a||2===a||0===u&&0===a,!0)}(c,t),kr(c,n,0),t>=7&&function(r,t){for(var n,i,e,o=r.size,u=mr.getEncodedBits(t),a=0;a<18;a++)n=Math.floor(a/3),r.set(n,i=a%3+o-8-3,e=1==(u>>a&1),!0),r.set(i,n,e,!0)}(c,t),function(r,t){for(var n=r.size,i=-1,e=n-1,o=7,u=0,a=n-1;a>0;a-=2)for(6===a&&a--;;){for(var f=0;f<2;f++)if(!r.isReserved(e,a-f)){var s=!1;u<t.length&&(s=1==(t[u]>>>o&1)),r.set(e,a-f,s),-1==--o&&(u++,o=7)}if((e+=i)<0||n<=e){e-=i,i=-i;break}}}(c,f),isNaN(i)&&(i=K.getBestMask(c,kr.bind(null,c,n))),K.applyMask(i,c),kr(c,n,i),{modules:c,version:t,errorCorrectionLevel:n,maskPattern:i,segments:e}}var Cr=function(r,t){if(void 0===r||""===r)throw new Error("No input text");var n,i,e=O.M;return void 0!==t&&(e=O.from(t.errorCorrectionLevel,O.M),n=mr.from(t.version),i=K.from(t.maskPattern),t.toSJISFunc&&function(r){if("function"!=typeof r)throw new Error('"toSJISFunc" is not a valid function.');P=r}(t.toSJISFunc)),Nr(r,n,e,i)},Fr=$((function(r,t){function n(r){if("number"==typeof r&&(r=r.toString()),"string"!=typeof r)throw new Error("Color should be defined as hex string");var t=r.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+r);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(r){return[r,r]})))),6===t.length&&t.push("F","F");var n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});var t=r.width&&r.width>=21?r.width:void 0;return{width:t,scale:t?4:r.scale||4,margin:null==r.margin||r.margin<0?4:r.margin,color:{dark:n(r.color.dark||"#000000ff"),light:n(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,t){return t.width&&t.width>=r+2*t.margin?t.width/(r+2*t.margin):t.scale},t.getImageWidth=function(r,n){var i=t.getScale(r,n);return Math.floor((r+2*n.margin)*i)},t.qrToImageData=function(r,n,i){for(var e=n.modules.size,o=n.modules.data,u=t.getScale(e,i),a=Math.floor((e+2*i.margin)*u),f=i.margin*u,s=[i.color.light,i.color.dark],c=0;c<a;c++)for(var h=0;h<a;h++){var v=4*(c*a+h),d=i.color.light;c>=f&&h>=f&&c<a-f&&h<a-f&&(d=s[o[Math.floor((c-f)/u)*e+Math.floor((h-f)/u)]?1:0]),r[v++]=d.r,r[v++]=d.g,r[v++]=d.b,r[v]=d.a}}})),_r=$((function(r,t){t.render=function(r,t,n){var i=n,e=t;void 0!==i||t&&t.getContext||(i=t,t=void 0),t||(e=function(){try{return document.createElement("canvas")}catch(r){throw new Error("You need to specify a canvas element")}}()),i=Fr.getOptions(i);var o=Fr.getImageWidth(r.modules.size,i),u=e.getContext("2d"),a=u.createImageData(o,o);return Fr.qrToImageData(a.data,r,i),function(r,t,n){r.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(u,e,o),u.putImageData(a,0,0),e},t.renderToDataURL=function(r,n,i){var e=i;return void 0!==e||n&&n.getContext||(e=n,n=void 0),e||(e={}),t.render(r,n,e).toDataURL(e.type||"image/png",(e.rendererOpts||{}).quality)}}));function Ur(r,t){var n=r.a/255,i=t+'="'+r.hex+'"';return n<1?i+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':i}function Sr(r,t,n){var i=r+t;return void 0!==n&&(i+=" "+n),i}function jr(r,t,n,i,e){var o=[].slice.call(arguments,1),u=o.length,a="function"==typeof o[u-1];if(!a&&!y())throw new Error("Callback required as last argument");if(!a){if(u<1)throw new Error("Too few arguments provided");return 1===u?(n=t,t=i=void 0):2!==u||t.getContext||(i=n,n=t,t=void 0),new Promise((function(e,o){try{var u=Cr(n,i);e(r(u,t,i))}catch(a){o(a)}}))}if(u<2)throw new Error("Too few arguments provided");2===u?(e=n,n=t,t=i=void 0):3===u&&(t.getContext&&void 0===e?(e=i,i=void 0):(e=i,i=n,n=t,t=void 0));try{var f=Cr(n,i);e(null,r(f,t,i))}catch(s){e(s)}}var $r={create:Cr,toCanvas:jr.bind(null,_r.render),toDataURL:jr.bind(null,_r.renderToDataURL),toString:jr.bind(null,(function(r,t,n){return function(r,t,n){var i=Fr.getOptions(t),e=r.modules.size,o=r.modules.data,u=e+2*i.margin,a=i.color.light.a?"<path "+Ur(i.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",f="<path "+Ur(i.color.dark,"stroke")+' d="'+function(r,t,n){for(var i="",e=0,o=!1,u=0,a=0;a<r.length;a++){var f=Math.floor(a%t),s=Math.floor(a/t);f||o||(o=!0),r[a]?(u++,a>0&&f>0&&r[a-1]||(i+=o?Sr("M",f+n,.5+s+n):Sr("m",e,0),e=0,o=!1),f+1<t&&r[a+1]||(i+=Sr("h",u),u=0)):e++}return i}(o,e,i.margin)+'"/>',s='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+'viewBox="0 0 '+u+" "+u+'" shape-rendering="crispEdges">'+a+f+"</svg>\n";return"function"==typeof n&&n(null,s),s}(r,n)}))};const Or=new i("TOTP"),Lr=class{constructor(t){r(this,t),this.inputProps={autoFocus:!0},this.handleAuthStateChange=v,this.headerText=f.TOTP_HEADER_TEXT,this.issuer=f.TOTP_ISSUER,this.code=null,this.setupMessage=null,this.qrCodeInput=null,this.loading=!1}async componentWillLoad(){this.removeHubListener=d(r=>{r===u.TOTPSetup&&this.setup()}),await this.setup()}disconnectedCallback(){this.removeHubListener&&this.removeHubListener()}buildOtpAuthPath(r,t,n){return`otpauth://totp/${t}:${r.username}?secret=${n}&issuer=${t}`}async onTOTPEvent(r,t,n){Or.debug("on totp event",r,t),r===s&&t===c&&await w(n,this.handleAuthStateChange)}handleTotpInputChange(r){this.setupMessage=null,this.qrCodeInput=r.target.value}async generateQRCode(r){try{this.qrCodeImageSource=await $r.toDataURL(r)}catch(t){l(t)}}async setup(){if(!this.user||"MFA_SETUP"!==this.user.challengeName||this.loading)return;this.setupMessage=null;const r=encodeURI(e.get(this.issuer));if(!a||"function"!=typeof a.setupTOTP)throw new Error(h);this.loading=!0;try{const t=await a.setupTOTP(this.user);Or.debug("secret key",t),this.code=this.buildOtpAuthPath(this.user,r,t),this.generateQRCode(this.code)}catch(t){l(t),Or.debug(e.get(f.TOTP_SETUP_FAILURE),t)}finally{this.loading=!1}}async verifyTotpToken(r){if(r&&r.preventDefault(),!this.qrCodeInput)return void Or.debug("No TOTP Code provided");const t=this.user;if(!a||"function"!=typeof a.verifyTotpToken||"function"!=typeof a.setPreferredMFA)throw new Error(h);try{await a.verifyTotpToken(t,this.qrCodeInput),await a.setPreferredMFA(t,o.TOTP),this.setupMessage=e.get(f.TOTP_SUCCESS_MESSAGE),Or.debug(e.get(f.TOTP_SUCCESS_MESSAGE)),await this.onTOTPEvent(s,c,t)}catch(n){this.setupMessage=e.get(f.TOTP_SETUP_FAILURE),Or.error(n)}}render(){return t(n,null,t("amplify-form-section",{headerText:e.get(this.headerText),submitButtonText:e.get(f.TOTP_SUBMIT_BUTTON_TEXT),handleSubmit:r=>this.verifyTotpToken(r),loading:this.loading},t("div",{class:"totp-setup"},this.qrCodeImageSource&&t("img",{src:this.qrCodeImageSource,alt:e.get(f.QR_CODE_ALT)}),t("amplify-form-field",{label:e.get(f.TOTP_LABEL),inputProps:this.inputProps,fieldId:"totpCode",name:"totpCode",handleInputChange:r=>this.handleTotpInputChange(r)}))))}};Lr.style=".totp-setup{text-align:center;margin-bottom:30px}.totp-setup img{height:128px;width:128px}";export{m as amplify_radio_button,Lr as amplify_totp_setup}