{"ast":null,"code":"import _regeneratorRuntime from\"D:/Bao Phan/School/Python Project/group5project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Bao Phan/School/Python Project/group5project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Bao Phan/School/Python Project/group5project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./App.css';// Import Amplify and Storage\nimport Amplify,{Storage}from'aws-amplify';// withAuthenticator is a higher order component that wraps the application with a login page\nimport{withAuthenticator}from'@aws-amplify/ui-react';// Import the project config files and configure them with Amplify\nimport awsconfig from'./aws-exports';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";Amplify.configure(awsconfig);var App=function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),imageUrl=_useState2[0],setImageUrl=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];//const downloadUrl = async () => {\n// Creates download url that expires in 5 minutes/ 300 seconds\n// const downloadUrl = await Storage.get('picture.jpg', { expires: 300 });\n// window.location.href = downloadUrl\n//}\nvar handleChange=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var file,url;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:file=e.target.files[0];_context.prev=1;setLoading(true);// Upload the file to s3 with private access level. \n_context.next=5;return Storage.put('test.pdf',file,{contentType:'application/pdf'});case 5:_context.next=7;return Storage.get('picture.jpg',{level:'public'});case 7:url=_context.sent;setImageUrl(url);setLoading(false);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,12]]);}));return function handleChange(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\" Upload an PDF File\"}),loading?/*#__PURE__*/_jsx(\"h3\",{children:\"Uploading...\"}):/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/jpg\",onChange:function onChange(evt){return handleChange(evt);}}),/*#__PURE__*/_jsx(\"div\",{children:imageUrl?/*#__PURE__*/_jsx(\"img\",{style:{width:\"30rem\"},src:imageUrl}):/*#__PURE__*/_jsx(\"span\",{})})]});};// withAuthenticator wraps your App with a Login component\nexport default withAuthenticator(App);","map":{"version":3,"sources":["D:/Bao Phan/School/Python Project/group5project/src/App.js"],"names":["React","useState","Amplify","Storage","withAuthenticator","awsconfig","configure","App","imageUrl","setImageUrl","loading","setLoading","handleChange","e","file","target","files","put","contentType","get","level","url","console","log","evt","width"],"mappings":"+eAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,WAAP,CAEA;AACA,MAAOC,CAAAA,OAAP,EAAkBC,OAAlB,KAAiC,aAAjC,CACA;AACA,OAASC,iBAAT,KAAkC,uBAAlC,CACA;AACA,MAAOC,CAAAA,SAAP,KAAsB,eAAtB,C,wFACAH,OAAO,CAACI,SAAR,CAAkBD,SAAlB,EAEA,GAAME,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,eACgBN,QAAQ,CAAC,IAAD,CADxB,wCACTO,QADS,eACCC,WADD,8BAEcR,QAAQ,CAAC,KAAD,CAFtB,yCAETS,OAFS,eAEAC,UAFA,eAIhB;AACE;AACD;AACA;AACD;AACA,GAAMC,CAAAA,YAAY,0FAAG,iBAAOC,CAAP,+HACbC,IADa,CACND,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CADM,iBAGjBL,UAAU,CAAC,IAAD,CAAV,CACA;AAJiB,sBAMXR,CAAAA,OAAO,CAACc,GAAR,CAAY,UAAZ,CAAuBH,IAAvB,CAA6B,CACjCI,WAAW,CAAE,iBADoB,CAA7B,CANW,8BAUCf,CAAAA,OAAO,CAACgB,GAAR,CAAY,aAAZ,CAA2B,CAAEC,KAAK,CAAE,QAAT,CAA3B,CAVD,QAUXC,GAVW,eAWjBZ,WAAW,CAACY,GAAD,CAAX,CACAV,UAAU,CAAC,KAAD,CAAV,CAZiB,iFAcjBW,OAAO,CAACC,GAAR,cAdiB,qEAAH,kBAAZX,CAAAA,YAAY,4CAAlB,CAkBA,mBACE,aAAK,SAAS,CAAC,KAAf,wBACE,2CADF,CAEGF,OAAO,cAAG,oCAAH,cAA2B,cACjC,IAAI,CAAC,MAD4B,CACrB,MAAM,CAAC,WADc,CAEjC,QAAQ,CAAE,kBAACc,GAAD,QAASZ,CAAAA,YAAY,CAACY,GAAD,CAArB,EAFuB,EAFrC,cAME,qBACGhB,QAAQ,cAAG,YAAK,KAAK,CAAE,CAAEiB,KAAK,CAAE,OAAT,CAAZ,CAAgC,GAAG,CAAEjB,QAArC,EAAH,cAAuD,eADlE,EANF,GADF,CAYD,CAvCD,CAyCA;AACA,cAAeJ,CAAAA,iBAAiB,CAACG,GAAD,CAAhC","sourcesContent":["import React, { useState } from 'react';\nimport './App.css';\n\n// Import Amplify and Storage\nimport Amplify, { Storage } from 'aws-amplify';\n// withAuthenticator is a higher order component that wraps the application with a login page\nimport { withAuthenticator } from '@aws-amplify/ui-react';\n// Import the project config files and configure them with Amplify\nimport awsconfig from './aws-exports';\nAmplify.configure(awsconfig);\n\nconst App = () => {\n  const [imageUrl, setImageUrl] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  //const downloadUrl = async () => {\n    // Creates download url that expires in 5 minutes/ 300 seconds\n   // const downloadUrl = await Storage.get('picture.jpg', { expires: 300 });\n   // window.location.href = downloadUrl\n  //}\n  const handleChange = async (e) => {\n    const file = e.target.files[0];\n    try {\n      setLoading(true);\n      // Upload the file to s3 with private access level. \n      \n      await Storage.put('test.pdf',file, {    \n        contentType: 'application/pdf'\n      });\n      // Retrieve the uploaded file to display\n      const url = await Storage.get('picture.jpg', { level: 'public' })\n      setImageUrl(url);\n      setLoading(false);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  return (\n    <div className=\"App\">\n      <h1> Upload an PDF File</h1>\n      {loading ? <h3>Uploading...</h3> : <input\n        type=\"file\" accept='image/jpg'\n        onChange={(evt) => handleChange(evt)}\n      />}\n      <div>\n        {imageUrl ? <img style={{ width: \"30rem\" }} src={imageUrl} /> : <span />}\n      </div>  \n    </div>\n  );\n}\n\n// withAuthenticator wraps your App with a Login component\nexport default withAuthenticator(App);\n"]},"metadata":{},"sourceType":"module"}