{"code":"(this.webpackJsonpgroup5project=this.webpackJsonpgroup5project||[]).push([[8],{185:function(t,e,r){\"use strict\";r.r(e),r.d(e,\"amplify_radio_button\",(function(){return v})),r.d(e,\"amplify_totp_setup\",(function(){return Kt}));var n=r(7),o=r(25),i=r(4),a=r(21),u=r(39),s=r(3),f=r(13),c=r(62),h=r(224),l=r(6),d=r.n(l),g=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{s(n.next(t))}catch(e){i(e)}}function u(t){try{s(n.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}s((n=n.apply(t,e||[])).next())}))},p=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},\"function\"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(u){i=[6,u],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},v=function(){function t(t){Object(n.k)(this,t),this.placeholder=\"\",this.checked=!1,this.disabled=!1}return t.prototype.render=function(){return Object(n.i)(\"span\",{class:\"radio-button\"},Object(n.i)(\"input\",Object.assign({type:\"radio\",name:this.name,value:this.value,onInput:this.handleInputChange,placeholder:this.placeholder,id:this.fieldId,checked:this.checked,disabled:this.disabled},this.inputProps)),Object(n.i)(\"amplify-label\",{htmlFor:this.fieldId},this.label))},t}();v.style=\":host{--font-family:var(--amplify-font-family)}.radio-button{display:block;width:100%;padding:16px;font-size:var(--amplify-text-sm);font-family:var(--font-family)}.radio-button input{margin-right:12px}\";var y=function(){return\"function\"===typeof Promise&&Promise.prototype&&Promise.prototype.then},w={}.toString,m=Array.isArray||function(t){return\"[object Array]\"==w.call(t)};E.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(e){return!1}}();var b=E.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function E(t,e,r){return E.TYPED_ARRAY_SUPPORT||this instanceof E?\"number\"===typeof t?A(this,t):function(t,e,r,n){if(\"number\"===typeof e)throw new TypeError('\"value\" argument must not be a number');if(\"undefined\"!==typeof ArrayBuffer&&e instanceof ArrayBuffer)return function(t,e,r,n){if(r<0||e.byteLength<r)throw new RangeError(\"'offset' is out of bounds\");if(e.byteLength<r+(n||0))throw new RangeError(\"'length' is out of bounds\");var o;o=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);E.TYPED_ARRAY_SUPPORT?o.__proto__=E.prototype:o=R(t,o);return o}(t,e,r,n);if(\"string\"===typeof e)return function(t,e){var r=0|I(e),n=P(t,r),o=n.write(e);o!==r&&(n=n.slice(0,o));return n}(t,e);return function(t,e){if(E.isBuffer(e)){var r=0|T(e.length),n=P(t,r);return 0===n.length||e.copy(n,0,0,r),n}if(e){if(\"undefined\"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||\"length\"in e)return\"number\"!==typeof e.length||(o=e.length)!==o?P(t,0):R(t,e);if(\"Buffer\"===e.type&&Array.isArray(e.data))return R(t,e.data)}var o;throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}(t,e)}(this,t,e,r):new E(t,e,r)}function T(t){if(t>=b)throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+b.toString(16)+\" bytes\");return 0|t}function P(t,e){var r;return E.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(e)).__proto__=E.prototype:(null===(r=t)&&(r=new E(e)),r.length=e),r}function A(t,e){var r=P(t,e<0?0:0|T(e));if(!E.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)r[n]=0;return r}function R(t,e){for(var r=e.length<0?0:0|T(e.length),n=P(t,r),o=0;o<r;o+=1)n[o]=255&e[o];return n}function C(t,e){var r;e=e||1/0;for(var n=t.length,o=null,i=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error(\"Invalid code point\");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function I(t){return E.isBuffer(t)?t.length:\"undefined\"!==typeof ArrayBuffer&&\"function\"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)?t.byteLength:(\"string\"!==typeof t&&(t=\"\"+t),0===t.length?0:C(t).length)}E.TYPED_ARRAY_SUPPORT&&(E.prototype.__proto__=Uint8Array.prototype,E.__proto__=Uint8Array,\"undefined\"!==typeof Symbol&&Symbol.species&&E[Symbol.species]===E&&Object.defineProperty(E,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),E.prototype.write=function(t,e,r){void 0===e||void 0===r&&\"string\"===typeof e?(r=this.length,e=0):isFinite(e)&&(e|=0,isFinite(r)?r|=0:r=void 0);var n=this.length-e;if((void 0===r||r>n)&&(r=n),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");return function(t,e,r,n){return function(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}(C(e,t.length-r),t,r,n)}(this,t,e,r)},E.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),E.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=E.prototype;else{var o=e-t;r=new E(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+t]}return r},E.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError(\"targetStart out of bounds\");if(r<0||r>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(n<0)throw new RangeError(\"sourceEnd out of bounds\");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o,i=n-r;if(this===t&&r<e&&e<n)for(o=i-1;o>=0;--o)t[o+e]=this[o+r];else if(i<1e3||!E.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},E.prototype.fill=function(t,e,r){if(\"string\"===typeof t){if(\"string\"===typeof e?(e=0,r=this.length):\"string\"===typeof r&&(r=this.length),1===t.length){var n=t.charCodeAt(0);n<256&&(t=n)}}else\"number\"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError(\"Out of range index\");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),\"number\"===typeof t)for(o=e;o<r;++o)this[o]=t;else{var i=E.isBuffer(t)?t:new E(t),a=i.length;for(o=0;o<r-e;++o)this[o+e]=i[o%a]}return this},E.concat=function(t,e){if(!m(t))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===t.length)return P(null,0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=A(null,e),o=0;for(r=0;r<t.length;++r){var i=t[r];if(!E.isBuffer(i))throw new TypeError('\"list\" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},E.byteLength=I,E.prototype._isBuffer=!0,E.isBuffer=function(t){return!(null==t||!t._isBuffer)};var B,_=function(t){var e=new E(t);return e.fill(0),e},M=function(t){return new E(t)},N=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],S=function(t){if(!t)throw new Error('\"version\" cannot be null or undefined');if(t<1||t>40)throw new Error('\"version\" should be in range from 1 to 40');return 4*t+17},x=function(t){return N[t]},L=function(t){for(var e=0;0!==t;)e++,t>>>=1;return e},O=function(t){if(\"function\"!==typeof t)throw new Error('\"toSJISFunc\" is not a valid function.');B=t},U=function(){return\"undefined\"!==typeof B},k=function(t){return B(t)};function Y(t,e,r){return t(r={path:e,exports:{},require:function(t,e){return function(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}()}},r.exports),r.exports}var F=Y((function(t,e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&\"undefined\"!==typeof t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,r){if(e.isValid(t))return t;try{return function(t){if(\"string\"!==typeof t)throw new Error(\"Param is not a string\");switch(t.toLowerCase()){case\"l\":case\"low\":return e.L;case\"m\":case\"medium\":return e.M;case\"q\":case\"quartile\":return e.Q;case\"h\":case\"high\":return e.H;default:throw new Error(\"Unknown EC Level: \"+t)}}(t)}catch(n){return r}}}));function j(){this.buffer=[],this.length=0}j.prototype={get:function(t){var e=Math.floor(t/8);return 1===(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var r=0;r<e;r++)this.putBit(1===(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var D=j;function q(t){if(!t||t<1)throw new Error(\"BitMatrix size must be defined and greater than 0\");this.size=t,this.data=_(t*t),this.reservedBit=_(t*t)}q.prototype.set=function(t,e,r,n){var o=t*this.size+e;this.data[o]=r,n&&(this.reservedBit[o]=!0)},q.prototype.get=function(t,e){return this.data[t*this.size+e]},q.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r},q.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var z=q,H=Y((function(t,e){var r=S;e.getRowColCoords=function(t){if(1===t)return[];for(var e=Math.floor(t/7)+2,n=r(t),o=145===n?26:2*Math.ceil((n-13)/(2*e-2)),i=[n-7],a=1;a<e-1;a++)i[a]=i[a-1]-o;return i.push(6),i.reverse()},e.getPositions=function(t){for(var r=[],n=e.getRowColCoords(t),o=n.length,i=0;i<o;i++)for(var a=0;a<o;a++)0===i&&0===a||0===i&&a===o-1||i===o-1&&0===a||r.push([n[i],n[a]]);return r}})),J=S,K=function(t){var e=J(t);return[[0,0],[e-7,0],[0,e-7]]},Q=Y((function(t,e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var r=3,n=3,o=40,i=10;function a(t,r,n){switch(t){case e.Patterns.PATTERN000:return(r+n)%2===0;case e.Patterns.PATTERN001:return r%2===0;case e.Patterns.PATTERN010:return n%3===0;case e.Patterns.PATTERN011:return(r+n)%3===0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(n/3))%2===0;case e.Patterns.PATTERN101:return r*n%2+r*n%3===0;case e.Patterns.PATTERN110:return(r*n%2+r*n%3)%2===0;case e.Patterns.PATTERN111:return(r*n%3+(r+n)%2)%2===0;default:throw new Error(\"bad maskPattern:\"+t)}}e.isValid=function(t){return null!=t&&\"\"!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){for(var e=t.size,n=0,o=0,i=0,a=null,u=null,s=0;s<e;s++){o=i=0,a=u=null;for(var f=0;f<e;f++){var c=t.get(s,f);c===a?o++:(o>=5&&(n+=r+(o-5)),a=c,o=1),(c=t.get(f,s))===u?i++:(i>=5&&(n+=r+(i-5)),u=c,i=1)}o>=5&&(n+=r+(o-5)),i>=5&&(n+=r+(i-5))}return n},e.getPenaltyN2=function(t){for(var e=t.size,r=0,o=0;o<e-1;o++)for(var i=0;i<e-1;i++){var a=t.get(o,i)+t.get(o,i+1)+t.get(o+1,i)+t.get(o+1,i+1);4!==a&&0!==a||r++}return r*n},e.getPenaltyN3=function(t){for(var e=t.size,r=0,n=0,i=0,a=0;a<e;a++){n=i=0;for(var u=0;u<e;u++)n=n<<1&2047|t.get(a,u),u>=10&&(1488===n||93===n)&&r++,i=i<<1&2047|t.get(u,a),u>=10&&(1488===i||93===i)&&r++}return r*o},e.getPenaltyN4=function(t){for(var e=0,r=t.data.length,n=0;n<r;n++)e+=t.data[n];return Math.abs(Math.ceil(100*e/r/5)-10)*i},e.applyMask=function(t,e){for(var r=e.size,n=0;n<r;n++)for(var o=0;o<r;o++)e.isReserved(o,n)||e.xor(o,n,a(t,o,n))},e.getBestMask=function(t,r){for(var n=Object.keys(e.Patterns).length,o=0,i=1/0,a=0;a<n;a++){r(a),e.applyMask(a,t);var u=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(a,t),u<i&&(i=u,o=a)}return o}})),V=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],$=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430],X=function(t,e){switch(e){case F.L:return V[4*(t-1)+0];case F.M:return V[4*(t-1)+1];case F.Q:return V[4*(t-1)+2];case F.H:return V[4*(t-1)+3];default:return}},G=function(t,e){switch(e){case F.L:return $[4*(t-1)+0];case F.M:return $[4*(t-1)+1];case F.Q:return $[4*(t-1)+2];case F.H:return $[4*(t-1)+3];default:return}},W=_(512),Z=_(256);!function(){for(var t=1,e=0;e<255;e++)W[e]=t,Z[t]=e,256&(t<<=1)&&(t^=285);for(e=255;e<512;e++)W[e]=W[e-255]}();var tt=function(t){return W[t]},et=function(t,e){return 0===t||0===e?0:W[Z[t]+Z[e]]},rt=Y((function(t,e){e.mul=function(t,e){for(var r=_(t.length+e.length-1),n=0;n<t.length;n++)for(var o=0;o<e.length;o++)r[n+o]^=et(t[n],e[o]);return r},e.mod=function(t,e){for(var r=M(t);r.length-e.length>=0;){for(var n=r[0],o=0;o<e.length;o++)r[o]^=et(e[o],n);for(var i=0;i<r.length&&0===r[i];)i++;r=r.slice(i)}return r},e.generateECPolynomial=function(t){for(var r=M([1]),n=0;n<t;n++)r=e.mul(r,[1,tt(n)]);return r}})),nt=d.a.Buffer;function ot(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}ot.prototype.initialize=function(t){this.degree=t,this.genPoly=rt.generateECPolynomial(this.degree)},ot.prototype.encode=function(t){if(!this.genPoly)throw new Error(\"Encoder not initialized\");var e=_(this.degree),r=nt.concat([t,e],t.length+this.degree),n=rt.mod(r,this.genPoly),o=this.degree-n.length;if(o>0){var i=_(this.degree);return n.copy(i,o),i}return n};var it=ot,at=function(t){return!isNaN(t)&&t>=1&&t<=40},ut=\"[0-9]+\",st=\"(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+\",ft=\"(?:(?![A-Z0-9 $%*+\\\\-./:]|\"+(st=st.replace(/u/g,\"\\\\u\"))+\")(?:.|[\\r\\n]))+\",ct=new RegExp(st,\"g\"),ht=new RegExp(\"[^A-Z0-9 $%*+\\\\-./:]+\",\"g\"),lt=new RegExp(ft,\"g\"),dt=new RegExp(ut,\"g\"),gt=new RegExp(\"[A-Z $%*+\\\\-./:]+\",\"g\"),pt=new RegExp(\"^\"+st+\"$\"),vt=new RegExp(\"^[0-9]+$\"),yt=new RegExp(\"^[A-Z0-9 $%*+\\\\-./:]+$\"),wt={KANJI:ct,BYTE_KANJI:ht,BYTE:lt,NUMERIC:dt,ALPHANUMERIC:gt,testKanji:function(t){return pt.test(t)},testNumeric:function(t){return vt.test(t)},testAlphanumeric:function(t){return yt.test(t)}},mt=Y((function(t,e){e.NUMERIC={id:\"Numeric\",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:\"Alphanumeric\",bit:2,ccBits:[9,11,13]},e.BYTE={id:\"Byte\",bit:4,ccBits:[8,16,16]},e.KANJI={id:\"Kanji\",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error(\"Invalid mode: \"+t);if(!at(e))throw new Error(\"Invalid version: \"+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return wt.testNumeric(t)?e.NUMERIC:wt.testAlphanumeric(t)?e.ALPHANUMERIC:wt.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error(\"Invalid mode\")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,r){if(e.isValid(t))return t;try{return function(t){if(\"string\"!==typeof t)throw new Error(\"Param is not a string\");switch(t.toLowerCase()){case\"numeric\":return e.NUMERIC;case\"alphanumeric\":return e.ALPHANUMERIC;case\"kanji\":return e.KANJI;case\"byte\":return e.BYTE;default:throw new Error(\"Unknown mode: \"+t)}}(t)}catch(n){return r}}})),bt=Y((function(t,e){var r=L(7973);function n(t,e){return mt.getCharCountIndicator(t,e)+4}function o(t,e){var r=0;return t.forEach((function(t){var o=n(t.mode,e);r+=o+t.getBitsLength()})),r}e.from=function(t,e){return at(t)?parseInt(t,10):e},e.getCapacity=function(t,e,r){if(!at(t))throw new Error(\"Invalid QR Code version\");\"undefined\"===typeof r&&(r=mt.BYTE);var o=8*(x(t)-G(t,e));if(r===mt.MIXED)return o;var i=o-n(r,t);switch(r){case mt.NUMERIC:return Math.floor(i/10*3);case mt.ALPHANUMERIC:return Math.floor(i/11*2);case mt.KANJI:return Math.floor(i/13);case mt.BYTE:default:return Math.floor(i/8)}},e.getBestVersionForData=function(t,r){var n,i=F.from(r,F.M);if(m(t)){if(t.length>1)return function(t,r){for(var n=1;n<=40;n++)if(o(t,n)<=e.getCapacity(n,r,mt.MIXED))return n}(t,i);if(0===t.length)return 1;n=t[0]}else n=t;return function(t,r,n){for(var o=1;o<=40;o++)if(r<=e.getCapacity(o,n,t))return o}(n.mode,n.getLength(),i)},e.getEncodedBits=function(t){if(!at(t)||t<7)throw new Error(\"Invalid QR Code version\");for(var e=t<<12;L(e)-r>=0;)e^=7973<<L(e)-r;return t<<12|e}})),Et=L(1335),Tt=function(t,e){for(var r=t.bit<<3|e,n=r<<10;L(n)-Et>=0;)n^=1335<<L(n)-Et;return 21522^(r<<10|n)};function Pt(t){this.mode=mt.NUMERIC,this.data=t.toString()}Pt.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},Pt.prototype.getLength=function(){return this.data.length},Pt.prototype.getBitsLength=function(){return Pt.getBitsLength(this.data.length)},Pt.prototype.write=function(t){var e,r,n;for(e=0;e+3<=this.data.length;e+=3)r=this.data.substr(e,3),n=parseInt(r,10),t.put(n,10);var o=this.data.length-e;o>0&&(r=this.data.substr(e),n=parseInt(r,10),t.put(n,3*o+1))};var At=Pt,Rt=[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\",\" \",\"$\",\"%\",\"*\",\"+\",\"-\",\".\",\"/\",\":\"];function Ct(t){this.mode=mt.ALPHANUMERIC,this.data=t}Ct.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},Ct.prototype.getLength=function(){return this.data.length},Ct.prototype.getBitsLength=function(){return Ct.getBitsLength(this.data.length)},Ct.prototype.write=function(t){var e;for(e=0;e+2<=this.data.length;e+=2){var r=45*Rt.indexOf(this.data[e]);r+=Rt.indexOf(this.data[e+1]),t.put(r,11)}this.data.length%2&&t.put(Rt.indexOf(this.data[e]),6)};var It=Ct;function Bt(t){this.mode=mt.BYTE,this.data=M(t)}Bt.getBitsLength=function(t){return 8*t},Bt.prototype.getLength=function(){return this.data.length},Bt.prototype.getBitsLength=function(){return Bt.getBitsLength(this.data.length)},Bt.prototype.write=function(t){for(var e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var _t=Bt;function Mt(t){this.mode=mt.KANJI,this.data=t}Mt.getBitsLength=function(t){return 13*t},Mt.prototype.getLength=function(){return this.data.length},Mt.prototype.getBitsLength=function(){return Mt.getBitsLength(this.data.length)},Mt.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var r=k(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else{if(!(r>=57408&&r<=60351))throw new Error(\"Invalid SJIS character: \"+this.data[e]+\"\\nMake sure your charset is UTF-8\");r-=49472}r=192*(r>>>8&255)+(255&r),t.put(r,13)}};var Nt=Mt,St=Y((function(t){var e={single_source_shortest_paths:function(t,r,n){var o={},i={};i[r]=0;var a,u,s,f,c,h,l,d=e.PriorityQueue.make();for(d.push(r,0);!d.empty();)for(s in u=(a=d.pop()).value,f=a.cost,c=t[u]||{})c.hasOwnProperty(s)&&(h=f+c[s],l=i[s],(\"undefined\"===typeof i[s]||l>h)&&(i[s]=h,d.push(s,h),o[s]=u));if(\"undefined\"!==typeof n&&\"undefined\"===typeof i[n]){var g=[\"Could not find a path from \",r,\" to \",n,\".\"].join(\"\");throw new Error(g)}return o},extract_shortest_path_from_predecessor_list:function(t,e){for(var r=[],n=e;n;)r.push(n),n=t[n];return r.reverse(),r},find_path:function(t,r,n){var o=e.single_source_shortest_paths(t,r,n);return e.extract_shortest_path_from_predecessor_list(o,n)},PriorityQueue:{make:function(t){var r,n=e.PriorityQueue,o={};for(r in t=t||{},n)n.hasOwnProperty(r)&&(o[r]=n[r]);return o.queue=[],o.sorter=t.sorter||n.default_sorter,o},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var r={value:t,cost:e};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=e})),xt=Y((function(t,e){function r(t){return unescape(encodeURIComponent(t)).length}function n(t,e,r){for(var n,o=[];null!==(n=t.exec(r));)o.push({data:n[0],index:n.index,mode:e,length:n[0].length});return o}function o(t){var e,r,o=n(wt.NUMERIC,mt.NUMERIC,t),i=n(wt.ALPHANUMERIC,mt.ALPHANUMERIC,t);return U()?(e=n(wt.BYTE,mt.BYTE,t),r=n(wt.KANJI,mt.KANJI,t)):(e=n(wt.BYTE_KANJI,mt.BYTE,t),r=[]),o.concat(i,e,r).sort((function(t,e){return t.index-e.index})).map((function(t){return{data:t.data,mode:t.mode,length:t.length}}))}function i(t,e){switch(e){case mt.NUMERIC:return At.getBitsLength(t);case mt.ALPHANUMERIC:return It.getBitsLength(t);case mt.KANJI:return Nt.getBitsLength(t);case mt.BYTE:return _t.getBitsLength(t)}}function a(t,e){var r,n=mt.getBestModeForData(t);if((r=mt.from(e,n))!==mt.BYTE&&r.bit<n.bit)throw new Error('\"'+t+'\" cannot be encoded with mode '+mt.toString(r)+\".\\n Suggested mode is: \"+mt.toString(n));switch(r!==mt.KANJI||U()||(r=mt.BYTE),r){case mt.NUMERIC:return new At(t);case mt.ALPHANUMERIC:return new It(t);case mt.KANJI:return new Nt(t);case mt.BYTE:return new _t(t)}}e.fromArray=function(t){return t.reduce((function(t,e){return\"string\"===typeof e?t.push(a(e,null)):e.data&&t.push(a(e.data,e.mode)),t}),[])},e.fromString=function(t,n){for(var a=function(t,e){for(var r={},n={start:{}},o=[\"start\"],a=0;a<t.length;a++){for(var u=t[a],s=[],f=0;f<u.length;f++){var c=u[f],h=\"\"+a+f;s.push(h),r[h]={node:c,lastCount:0},n[h]={};for(var l=0;l<o.length;l++){var d=o[l];r[d]&&r[d].node.mode===c.mode?(n[d][h]=i(r[d].lastCount+c.length,c.mode)-i(r[d].lastCount,c.mode),r[d].lastCount+=c.length):(r[d]&&(r[d].lastCount=c.length),n[d][h]=i(c.length,c.mode)+4+mt.getCharCountIndicator(c.mode,e))}}o=s}for(l=0;l<o.length;l++)n[o[l]].end=0;return{map:n,table:r}}(function(t){for(var e=[],n=0;n<t.length;n++){var o=t[n];switch(o.mode){case mt.NUMERIC:e.push([o,{data:o.data,mode:mt.ALPHANUMERIC,length:o.length},{data:o.data,mode:mt.BYTE,length:o.length}]);break;case mt.ALPHANUMERIC:e.push([o,{data:o.data,mode:mt.BYTE,length:o.length}]);break;case mt.KANJI:e.push([o,{data:o.data,mode:mt.BYTE,length:r(o.data)}]);break;case mt.BYTE:e.push([{data:o.data,mode:mt.BYTE,length:r(o.data)}])}}return e}(o(t,U())),n),u=St.find_path(a.map,\"start\",\"end\"),s=[],f=1;f<u.length-1;f++)s.push(a.table[u[f]].node);return e.fromArray(function(t){return t.reduce((function(t,e){var r=t.length-1>=0?t[t.length-1]:null;return r&&r.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)}),[])}(s))},e.rawSplit=function(t){return e.fromArray(o(t,U()))}}));function Lt(t,e,r){var n,o,i=t.size,a=Tt(e,r);for(n=0;n<15;n++)o=1===(a>>n&1),n<6?t.set(n,8,o,!0):n<8?t.set(n+1,8,o,!0):t.set(i-15+n,8,o,!0),n<8?t.set(8,i-n-1,o,!0):n<9?t.set(8,15-n-1+1,o,!0):t.set(8,15-n-1,o,!0);t.set(i-8,8,1,!0)}function Ot(t,e,r){var n=new D;r.forEach((function(e){n.put(e.mode.bit,4),n.put(e.getLength(),mt.getCharCountIndicator(e.mode,t)),e.write(n)}));var o=8*(x(t)-G(t,e));for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);for(var i=(o-n.getLengthInBits())/8,a=0;a<i;a++)n.put(a%2?17:236,8);return function(t,e,r){for(var n=x(e),o=G(e,r),i=n-o,a=X(e,r),u=a-n%a,s=Math.floor(n/a),f=Math.floor(i/a),c=f+1,h=s-f,l=new it(h),d=0,g=new Array(a),p=new Array(a),v=0,y=M(t.buffer),w=0;w<a;w++){var m=w<u?f:c;g[w]=y.slice(d,d+m),p[w]=l.encode(g[w]),d+=m,v=Math.max(v,m)}var b,E,T=_(n),P=0;for(b=0;b<v;b++)for(E=0;E<a;E++)b<g[E].length&&(T[P++]=g[E][b]);for(b=0;b<h;b++)for(E=0;E<a;E++)T[P++]=p[E][b];return T}(n,t,e)}function Ut(t,e,r,n){var o;if(m(t))o=xt.fromArray(t);else{if(\"string\"!==typeof t)throw new Error(\"Invalid data\");var i=e;if(!i){var a=xt.rawSplit(t);i=bt.getBestVersionForData(a,r)}o=xt.fromString(t,i||40)}var u=bt.getBestVersionForData(o,r);if(!u)throw new Error(\"The amount of data is too big to be stored in a QR Code\");if(e){if(e<u)throw new Error(\"\\nThe chosen QR Code version cannot contain this amount of data.\\nMinimum version required to store current data is: \"+u+\".\\n\")}else e=u;var s=Ot(e,r,o),f=S(e),c=new z(f);return function(t,e){for(var r=t.size,n=K(e),o=0;o<n.length;o++)for(var i=n[o][0],a=n[o][1],u=-1;u<=7;u++)if(!(i+u<=-1||r<=i+u))for(var s=-1;s<=7;s++)a+s<=-1||r<=a+s||(u>=0&&u<=6&&(0===s||6===s)||s>=0&&s<=6&&(0===u||6===u)||u>=2&&u<=4&&s>=2&&s<=4?t.set(i+u,a+s,!0,!0):t.set(i+u,a+s,!1,!0))}(c,e),function(t){for(var e=t.size,r=8;r<e-8;r++){var n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}(c),function(t,e){for(var r=H.getPositions(e),n=0;n<r.length;n++)for(var o=r[n][0],i=r[n][1],a=-2;a<=2;a++)for(var u=-2;u<=2;u++)-2===a||2===a||-2===u||2===u||0===a&&0===u?t.set(o+a,i+u,!0,!0):t.set(o+a,i+u,!1,!0)}(c,e),Lt(c,r,0),e>=7&&function(t,e){for(var r,n,o,i=t.size,a=bt.getEncodedBits(e),u=0;u<18;u++)r=Math.floor(u/3),n=u%3+i-8-3,o=1===(a>>u&1),t.set(r,n,o,!0),t.set(n,r,o,!0)}(c,e),function(t,e){for(var r=t.size,n=-1,o=r-1,i=7,a=0,u=r-1;u>0;u-=2)for(6===u&&u--;;){for(var s=0;s<2;s++)if(!t.isReserved(o,u-s)){var f=!1;a<e.length&&(f=1===(e[a]>>>i&1)),t.set(o,u-s,f),-1===--i&&(a++,i=7)}if((o+=n)<0||r<=o){o-=n,n=-n;break}}}(c,s),isNaN(n)&&(n=Q.getBestMask(c,Lt.bind(null,c,r))),Q.applyMask(n,c),Lt(c,r,n),{modules:c,version:e,errorCorrectionLevel:r,maskPattern:n,segments:o}}var kt=function(t,e){if(\"undefined\"===typeof t||\"\"===t)throw new Error(\"No input text\");var r,n,o=F.M;return\"undefined\"!==typeof e&&(o=F.from(e.errorCorrectionLevel,F.M),r=bt.from(e.version),n=Q.from(e.maskPattern),e.toSJISFunc&&O(e.toSJISFunc)),Ut(t,r,o,n)},Yt=Y((function(t,e){function r(t){if(\"number\"===typeof t&&(t=t.toString()),\"string\"!==typeof t)throw new Error(\"Color should be defined as hex string\");var e=t.slice().replace(\"#\",\"\").split(\"\");if(e.length<3||5===e.length||e.length>8)throw new Error(\"Invalid hex color: \"+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map((function(t){return[t,t]})))),6===e.length&&e.push(\"F\",\"F\");var r=parseInt(e.join(\"\"),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:\"#\"+e.slice(0,6).join(\"\")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});var e=\"undefined\"===typeof t.margin||null===t.margin||t.margin<0?4:t.margin,n=t.width&&t.width>=21?t.width:void 0,o=t.scale||4;return{width:n,scale:n?4:o,margin:e,color:{dark:r(t.color.dark||\"#000000ff\"),light:r(t.color.light||\"#ffffffff\")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,r){var n=e.getScale(t,r);return Math.floor((t+2*r.margin)*n)},e.qrToImageData=function(t,r,n){for(var o=r.modules.size,i=r.modules.data,a=e.getScale(o,n),u=Math.floor((o+2*n.margin)*a),s=n.margin*a,f=[n.color.light,n.color.dark],c=0;c<u;c++)for(var h=0;h<u;h++){var l=4*(c*u+h),d=n.color.light;if(c>=s&&h>=s&&c<u-s&&h<u-s)d=f[i[Math.floor((c-s)/a)*o+Math.floor((h-s)/a)]?1:0];t[l++]=d.r,t[l++]=d.g,t[l++]=d.b,t[l]=d.a}}})),Ft=Y((function(t,e){e.render=function(t,e,r){var n=r,o=e;\"undefined\"!==typeof n||e&&e.getContext||(n=e,e=void 0),e||(o=function(){try{return document.createElement(\"canvas\")}catch(t){throw new Error(\"You need to specify a canvas element\")}}()),n=Yt.getOptions(n);var i=Yt.getImageWidth(t.modules.size,n),a=o.getContext(\"2d\"),u=a.createImageData(i,i);return Yt.qrToImageData(u.data,t,n),function(t,e,r){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=r,e.width=r,e.style.height=r+\"px\",e.style.width=r+\"px\"}(a,o,i),a.putImageData(u,0,0),o},e.renderToDataURL=function(t,r,n){var o=n;\"undefined\"!==typeof o||r&&r.getContext||(o=r,r=void 0),o||(o={});var i=e.render(t,r,o),a=o.type||\"image/png\",u=o.rendererOpts||{};return i.toDataURL(a,u.quality)}}));function jt(t,e){var r=t.a/255,n=e+'=\"'+t.hex+'\"';return r<1?n+\" \"+e+'-opacity=\"'+r.toFixed(2).slice(1)+'\"':n}function Dt(t,e,r){var n=t+e;return\"undefined\"!==typeof r&&(n+=\" \"+r),n}var qt=function(t,e,r){var n=Yt.getOptions(e),o=t.modules.size,i=t.modules.data,a=o+2*n.margin,u=n.color.light.a?\"<path \"+jt(n.color.light,\"fill\")+' d=\"M0 0h'+a+\"v\"+a+'H0z\"/>':\"\",s=\"<path \"+jt(n.color.dark,\"stroke\")+' d=\"'+function(t,e,r){for(var n=\"\",o=0,i=!1,a=0,u=0;u<t.length;u++){var s=Math.floor(u%e),f=Math.floor(u/e);s||i||(i=!0),t[u]?(a++,u>0&&s>0&&t[u-1]||(n+=i?Dt(\"M\",s+r,.5+f+r):Dt(\"m\",o,0),o=0,i=!1),s+1<e&&t[u+1]||(n+=Dt(\"h\",a),a=0)):o++}return n}(i,o,n.margin)+'\"/>',f='viewBox=\"0 0 '+a+\" \"+a+'\"',c='<svg xmlns=\"http://www.w3.org/2000/svg\" '+(n.width?'width=\"'+n.width+'\" height=\"'+n.width+'\" ':\"\")+f+' shape-rendering=\"crispEdges\">'+u+s+\"</svg>\\n\";return\"function\"===typeof r&&r(null,c),c};function zt(t,e,r,n,o){var i=[].slice.call(arguments,1),a=i.length,u=\"function\"===typeof i[a-1];if(!u&&!y())throw new Error(\"Callback required as last argument\");if(!u){if(a<1)throw new Error(\"Too few arguments provided\");return 1===a?(r=e,e=n=void 0):2!==a||e.getContext||(n=r,r=e,e=void 0),new Promise((function(o,i){try{var a=kt(r,n);o(t(a,e,n))}catch(u){i(u)}}))}if(a<2)throw new Error(\"Too few arguments provided\");2===a?(o=r,r=e,e=n=void 0):3===a&&(e.getContext&&\"undefined\"===typeof o?(o=n,n=void 0):(o=n,n=r,r=e,e=void 0));try{var s=kt(r,n);o(null,t(s,e,n))}catch(f){o(f)}}var Ht={create:kt,toCanvas:zt.bind(null,Ft.render),toDataURL:zt.bind(null,Ft.renderToDataURL),toString:zt.bind(null,(function(t,e,r){return qt(t,r)}))},Jt=new o.a(\"TOTP\"),Kt=function(){function t(t){Object(n.k)(this,t),this.inputProps={autoFocus:!0},this.handleAuthStateChange=c.d,this.headerText=s.a.TOTP_HEADER_TEXT,this.issuer=s.a.TOTP_ISSUER,this.code=null,this.setupMessage=null,this.qrCodeInput=null,this.loading=!1}return t.prototype.componentWillLoad=function(){return g(this,void 0,void 0,(function(){var t=this;return p(this,(function(e){switch(e.label){case 0:return this.removeHubListener=Object(c.h)((function(e){e===a.a.TOTPSetup&&t.setup()})),[4,this.setup()];case 1:return e.sent(),[2]}}))}))},t.prototype.disconnectedCallback=function(){this.removeHubListener&&this.removeHubListener()},t.prototype.buildOtpAuthPath=function(t,e,r){return\"otpauth://totp/\"+e+\":\"+t.username+\"?secret=\"+r+\"&issuer=\"+e},t.prototype.onTOTPEvent=function(t,e,r){return g(this,void 0,void 0,(function(){return p(this,(function(n){switch(n.label){case 0:return Jt.debug(\"on totp event\",t,e),t!==f.g||e!==f.r?[3,2]:[4,Object(h.a)(r,this.handleAuthStateChange)];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.handleTotpInputChange=function(t){this.setupMessage=null,this.qrCodeInput=t.target.value},t.prototype.generateQRCode=function(t){return g(this,void 0,void 0,(function(){var e,r;return p(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,Ht.toDataURL(t)];case 1:return e.qrCodeImageSource=n.sent(),[3,3];case 2:return r=n.sent(),Object(c.a)(r),[3,3];case 3:return[2]}}))}))},t.prototype.setup=function(){return g(this,void 0,void 0,(function(){var t,e,r;return p(this,(function(n){switch(n.label){case 0:if(!this.user||\"MFA_SETUP\"!==this.user.challengeName||this.loading)return[2];if(this.setupMessage=null,t=encodeURI(i.a.get(this.issuer)),!u.a||\"function\"!==typeof u.a.setupTOTP)throw new Error(f.d);this.loading=!0,n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,u.a.setupTOTP(this.user)];case 2:return e=n.sent(),Jt.debug(\"secret key\",e),this.code=this.buildOtpAuthPath(this.user,t,e),this.generateQRCode(this.code),[3,5];case 3:return r=n.sent(),Object(c.a)(r),Jt.debug(i.a.get(s.a.TOTP_SETUP_FAILURE),r),[3,5];case 4:return this.loading=!1,[7];case 5:return[2]}}))}))},t.prototype.verifyTotpToken=function(t){return g(this,void 0,void 0,(function(){var e,r;return p(this,(function(n){switch(n.label){case 0:if(t&&t.preventDefault(),!this.qrCodeInput)return Jt.debug(\"No TOTP Code provided\"),[2];if(e=this.user,!u.a||\"function\"!==typeof u.a.verifyTotpToken||\"function\"!==typeof u.a.setPreferredMFA)throw new Error(f.d);n.label=1;case 1:return n.trys.push([1,5,,6]),[4,u.a.verifyTotpToken(e,this.qrCodeInput)];case 2:return n.sent(),[4,u.a.setPreferredMFA(e,a.c.TOTP)];case 3:return n.sent(),this.setupMessage=i.a.get(s.a.TOTP_SUCCESS_MESSAGE),Jt.debug(i.a.get(s.a.TOTP_SUCCESS_MESSAGE)),[4,this.onTOTPEvent(f.g,f.r,e)];case 4:return n.sent(),[3,6];case 5:return r=n.sent(),this.setupMessage=i.a.get(s.a.TOTP_SETUP_FAILURE),Jt.error(r),[3,6];case 6:return[2]}}))}))},t.prototype.render=function(){var t=this;return Object(n.i)(n.b,null,Object(n.i)(\"amplify-form-section\",{headerText:i.a.get(this.headerText),submitButtonText:i.a.get(s.a.TOTP_SUBMIT_BUTTON_TEXT),handleSubmit:function(e){return t.verifyTotpToken(e)},loading:this.loading},Object(n.i)(\"div\",{class:\"totp-setup\"},this.qrCodeImageSource&&Object(n.i)(\"img\",{src:this.qrCodeImageSource,alt:i.a.get(s.a.QR_CODE_ALT)}),Object(n.i)(\"amplify-form-field\",{label:i.a.get(s.a.TOTP_LABEL),inputProps:this.inputProps,fieldId:\"totpCode\",name:\"totpCode\",handleInputChange:function(e){return t.handleTotpInputChange(e)}}))))},t}();Kt.style=\".totp-setup{text-align:center;margin-bottom:30px}.totp-setup img{height:128px;width:128px}\"},224:function(t,e,r){\"use strict\";r.d(e,\"a\",(function(){return g})),r.d(e,\"b\",(function(){return p}));var n=r(25),o=r(18),i=r(21),a=r(39),u=r(11),s=r(3),f=r(13),c=r(62),h=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{s(n.next(t))}catch(e){i(e)}}function u(t){try{s(n.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}s((n=n.apply(t,e||[])).next())}))},l=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},\"function\"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(u){i=[6,u],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},d=new n.a(\"auth-helpers\");function g(t,e){return h(this,void 0,void 0,(function(){var r,n,u;return l(this,(function(s){switch(s.label){case 0:if(!a.a||\"function\"!==typeof a.a.verifiedContact)throw new Error(f.d);if(!v(t))return e(i.a.SignedIn,t),[2];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,a.a.verifiedContact(t)];case 2:return r=s.sent(),!Object(o.d)(r.verified)||Object(o.d)(r.unverified)?e(i.a.SignedIn,t):(n=Object.assign(t,r),e(i.a.VerifyContact,n)),[3,4];case 3:return u=s.sent(),Object(c.a)(u),[3,4];case 4:return[2]}}))}))}var p=function(t,e,r){return h(void 0,void 0,void 0,(function(){var n,o;return l(this,(function(u){switch(u.label){case 0:if(!a.a||\"function\"!==typeof a.a.signIn)throw new Error(f.d);u.label=1;case 1:return u.trys.push([1,9,,10]),[4,a.a.signIn(t,e)];case 2:return n=u.sent(),d.debug(n),n.challengeName!==i.b.SMSMFA&&n.challengeName!==i.b.SoftwareTokenMFA?[3,3]:(d.debug(\"confirm user with \"+n.challengeName),r(i.a.ConfirmSignIn,n),[3,8]);case 3:return n.challengeName!==i.b.NewPasswordRequired?[3,4]:(d.debug(\"require new password\",n.challengeParam),r(i.a.ResetPassword,n),[3,8]);case 4:return n.challengeName!==i.b.MFASetup?[3,5]:(d.debug(\"TOTP setup\",n.challengeParam),r(i.a.TOTPSetup,n),[3,8]);case 5:return n.challengeName===i.b.CustomChallenge&&n.challengeParam&&\"true\"===n.challengeParam.trigger?(d.debug(\"custom challenge\",n.challengeParam),r(i.a.CustomConfirmSignIn,n),[3,8]):[3,6];case 6:return[4,g(n,r)];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:return\"UserNotConfirmedException\"===(o=u.sent()).code?(d.debug(\"the user is not confirmed\"),r(i.a.ConfirmSignUp,{username:t})):\"PasswordResetRequiredException\"===o.code?(d.debug(\"the user requires a new password\"),r(i.a.ForgotPassword,{username:t})):\"InvalidParameterException\"===o.code&&\"\"===e&&(d.debug(\"Password cannot be empty\"),o.message=s.a.EMPTY_PASSWORD),Object(c.a)(o),[3,10];case 10:return[2]}}))}))},v=function(t){return t instanceof u.e}}}]);","name":"static/js/8.60ac3ee0.chunk.js","map":{"version":3,"sources":["static/js/8.60ac3ee0.chunk.js"],"names":["this","push","185","module","__webpack_exports__","__webpack_require__","r","d","AmplifyRadioButton","AmplifyTOTPSetup","_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__","_aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__","_aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__","_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_3__","_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_4__","_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_5__","_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_6__","_helpers_09e7c279_js__WEBPACK_IMPORTED_MODULE_7__","_auth_helpers_63cc23c0_js__WEBPACK_IMPORTED_MODULE_8__","buffer__WEBPACK_IMPORTED_MODULE_9__","buffer__WEBPACK_IMPORTED_MODULE_9___default","n","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","call","pop","length","hostRef","Object","placeholder","checked","disabled","prototype","render","class","assign","type","name","onInput","handleInputChange","id","fieldId","inputProps","htmlFor","style","canPromise","toString","isarray","Array","isArray","arr","Buffer","TYPED_ARRAY_SUPPORT","Uint8Array","__proto__","foo","typedArraySupport","K_MAX_LENGTH","arg","offset","allocUnsafe","that","ArrayBuffer","array","byteOffset","byteLength","RangeError","buf","undefined","fromArrayLike","fromArrayBuffer","string","createBuffer","actual","write","slice","fromString","obj","isBuffer","len","copy","buffer","val","data","fromObject","from","size","i","utf8ToBytes","units","codePoint","Infinity","leadSurrogate","bytes","charCodeAt","Error","isView","species","defineProperty","configurable","enumerable","writable","isFinite","remaining","src","dst","blitBuffer","utf8Write","start","end","newBuf","subarray","sliceLen","target","targetStart","set","fill","code","concat","list","pos","_isBuffer","b","toSJISFunction","typedarrayBuffer","CODEWORDS_COUNT","utils","version","digit","kanji","createCommonjsModule","fn","basedir","path","exports","require","base","commonjsRequire","errorCorrectionLevel","L","bit","M","Q","H","isValid","level","defaultValue","toLowerCase","BitBuffer","get","index","bufIndex","Math","floor","put","num","putBit","getLengthInBits","bitBuffer","BitMatrix","reservedBit","row","col","reserved","xor","isReserved","bitMatrix","alignmentPattern","getSymbolSize","getRowColCoords","posCount","intervals","ceil","positions","reverse","getPositions","coords","posLength","j","getSymbolSize$1","finderPattern","maskPattern","Patterns","PATTERN000","PATTERN001","PATTERN010","PATTERN011","PATTERN100","PATTERN101","PATTERN110","PATTERN111","PenaltyScores","getMaskAt","mask","isNaN","parseInt","getPenaltyN1","points","sameCountCol","sameCountRow","lastCol","lastRow","getPenaltyN2","last","getPenaltyN3","bitsCol","bitsRow","getPenaltyN4","darkCount","modulesCount","abs","applyMask","pattern","getBestMask","setupFormatFunc","numPatterns","keys","bestPattern","lowerPenalty","p","penalty","EC_BLOCKS_TABLE","EC_CODEWORDS_TABLE","errorCorrectionCode","errorCorrectionLevel$1","EXP_TABLE","LOG_TABLE","x","galoisField","polynomial","mul","p1","p2","coeff","mod","divident","divisor","generateECPolynomial","degree","poly","Buffer$1","a","ReedSolomonEncoder","genPoly","initialize","encode","pad","paddedData","remainder","buff","reedSolomonEncoder","versionCheck","numeric","byte","replace","KANJI","RegExp","BYTE_KANJI","BYTE","NUMERIC","ALPHANUMERIC","TEST_KANJI","TEST_NUMERIC","TEST_ALPHANUMERIC","regex","testKanji","str","test","testNumeric","testAlphanumeric","mode","ccBits","MIXED","getCharCountIndicator","getBestModeForData","dataStr","G18_BCH","getReservedBitsCount","mode$1","getTotalBitsFromDataArray","segments","totalBits","forEach","reservedBits","getBitsLength","getCapacity","dataTotalCodewordsBits","usableBits","getBestVersionForData","seg","ecl","currentVersion","getBestVersionForMixedData","getBestVersionForDataLength","getLength","getEncodedBits","G15_BCH","formatInfo","NumericData","group","substr","remainingNum","numericData","ALPHA_NUM_CHARS","AlphanumericData","indexOf","alphanumericData","ByteData","l","byteData","KanjiData","kanjiData","dijkstra_1","dijkstra","single_source_shortest_paths","graph","s","predecessors","costs","closest","u","cost_of_s_to_u","adjacent_nodes","cost_of_s_to_u_plus_cost_of_e","cost_of_s_to_v","open","PriorityQueue","make","empty","cost","hasOwnProperty","msg","join","extract_shortest_path_from_predecessor_list","nodes","find_path","opts","key","T","queue","sorter","default_sorter","item","sort","shift","getStringByteLength","unescape","encodeURIComponent","getSegments","exec","getSegmentsFromString","byteSegs","kanjiSegs","numSegs","alphaNumSegs","s1","s2","map","getSegmentBitsLength","buildSingleSegment","modesHint","bestMode","fromArray","reduce","acc","table","prevNodeIds","nodeGroup","currentNodeIds","node","lastCount","prevNodeId","buildGraph","segs","buildNodes","optimizedSegs","curr","prevSeg","mergeSegments","rawSplit","setupFormatInfo","matrix","bits","createData","remainingByte","totalCodewords","ecTotalCodewords","dataTotalCodewords","ecTotalBlocks","blocksInGroup1","totalCodewordsInGroup1","dataCodewordsInGroup1","dataCodewordsInGroup2","ecCount","rs","dcData","ecData","maxDataSize","dataSize","max","createCodewords","createSymbol","version$1","maskPattern$1","segments$1","estimatedVersion","rawSegments","bestVersion","dataBits","moduleCount","modules","c","setupFinderPattern","setupTimingPattern","setupAlignmentPattern","setupVersionInfo","inc","bitIndex","byteIndex","dark","setupData","bind","qrcode","options","toSJISFunc","utils$1","hex2rgba","hex","hexCode","split","hexValue","getOptions","color","margin","width","scale","light","rendererOpts","getScale","qrSize","getImageWidth","qrToImageData","imgData","qr","symbolSize","scaledMargin","palette","posDst","pxColor","canvas","qrData","canvasEl","getContext","document","createElement","getCanvasElement","ctx","image","createImageData","clearRect","height","clearCanvas","putImageData","renderToDataURL","toDataURL","quality","getColorAttrib","attrib","alpha","toFixed","svgCmd","cmd","svgTag","cb","qrcodesize","bg","moveBy","newRow","lineLength","qrToPath","viewBox","renderCanvas","renderFunc","text","args","arguments","argsNum","isLastArgCb","browser","create","toCanvas","logger","class_1","autoFocus","handleAuthStateChange","headerText","TOTP_HEADER_TEXT","issuer","TOTP_ISSUER","setupMessage","qrCodeInput","loading","componentWillLoad","_this","_a","removeHubListener","authState","TOTPSetup","setup","disconnectedCallback","buildOtpAuthPath","user","secretKey","username","onTOTPEvent","event","debug","handleTotpInputChange","generateQRCode","codeFromTotp","error_1","_b","qrCodeImageSource","encodedIssuer","error_2","challengeName","encodeURI","setupTOTP","TOTP_SETUP_FAILURE","verifyTotpToken","error_3","preventDefault","setPreferredMFA","TOTP","TOTP_SUCCESS_MESSAGE","error","submitButtonText","TOTP_SUBMIT_BUTTON_TEXT","handleSubmit","alt","QR_CODE_ALT","TOTP_LABEL","224","checkContact","handleSignIn","_aws_amplify_core__WEBPACK_IMPORTED_MODULE_0__","_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__","_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__","newUser","verifiedContact","isCognitoUser","SignedIn","verified","unverified","VerifyContact","password","signIn","SMSMFA","SoftwareTokenMFA","ConfirmSignIn","NewPasswordRequired","challengeParam","ResetPassword","MFASetup","CustomChallenge","trigger","CustomConfirmSignIn","ConfirmSignUp","ForgotPassword","message","EMPTY_PASSWORD"],"mappings":"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"},"input":"(this[\"webpackJsonpgroup5project\"] = this[\"webpackJsonpgroup5project\"] || []).push([[8],{\n\n/***/ 185:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"amplify_radio_button\", function() { return AmplifyRadioButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"amplify_totp_setup\", function() { return AmplifyTOTPSetup; });\n/* harmony import */ var _index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);\n/* harmony import */ var _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(25);\n/* harmony import */ var _aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(4);\n/* harmony import */ var _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(21);\n/* harmony import */ var _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(39);\n/* harmony import */ var _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(3);\n/* harmony import */ var _constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(13);\n/* harmony import */ var _helpers_09e7c279_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(62);\n/* harmony import */ var _auth_helpers_63cc23c0_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(224);\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(6);\n/* harmony import */ var buffer__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(buffer__WEBPACK_IMPORTED_MODULE_9__);\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = undefined && undefined.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\n\n\n\n\n\n\n\n\n\nvar amplifyRadioButtonCss = \":host{--font-family:var(--amplify-font-family)}.radio-button{display:block;width:100%;padding:16px;font-size:var(--amplify-text-sm);font-family:var(--font-family)}.radio-button input{margin-right:12px}\";\n\nvar AmplifyRadioButton =\n/** @class */\nfunction () {\n  function AmplifyRadioButton(hostRef) {\n    Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* r */ \"k\"])(this, hostRef);\n    /** (Optional) The placeholder for the input element.  Using hints is recommended, but placeholders can also be useful to convey information to users. */\n\n    this.placeholder = '';\n    /** If `true`, the radio button is selected. */\n\n    this.checked = false;\n    /** If `true`, the checkbox is disabled */\n\n    this.disabled = false;\n  }\n\n  AmplifyRadioButton.prototype.render = function () {\n    return Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"span\", {\n      class: \"radio-button\"\n    }, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"input\", Object.assign({\n      type: \"radio\",\n      name: this.name,\n      value: this.value,\n      onInput: this.handleInputChange,\n      placeholder: this.placeholder,\n      id: this.fieldId,\n      checked: this.checked,\n      disabled: this.disabled\n    }, this.inputProps)), Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-label\", {\n      htmlFor: this.fieldId\n    }, this.label));\n  };\n\n  return AmplifyRadioButton;\n}();\n\nAmplifyRadioButton.style = amplifyRadioButtonCss; // can-promise has a crash in some versions of react native that dont have\n// standard global objects\n// https://github.com/soldair/node-qrcode/issues/157\n\nvar canPromise = function canPromise() {\n  return typeof Promise === 'function' && Promise.prototype && Promise.prototype.then;\n};\n\nvar toString = {}.toString;\n\nvar isarray = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\nfunction typedArraySupport() {\n  // Can typed array instances be augmented?\n  try {\n    var arr = new Uint8Array(1);\n    arr.__proto__ = {\n      __proto__: Uint8Array.prototype,\n      foo: function foo() {\n        return 42;\n      }\n    };\n    return arr.foo() === 42;\n  } catch (e) {\n    return false;\n  }\n}\n\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport();\nvar K_MAX_LENGTH = Buffer.TYPED_ARRAY_SUPPORT ? 0x7fffffff : 0x3fffffff;\n\nfunction Buffer(arg, offset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, offset, length);\n  }\n\n  if (typeof arg === 'number') {\n    return allocUnsafe(this, arg);\n  }\n\n  return from(this, arg, offset, length);\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype;\n  Buffer.__proto__ = Uint8Array; // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n\n  if (typeof Symbol !== 'undefined' && Symbol.species && Buffer[Symbol.species] === Buffer) {\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true,\n      enumerable: false,\n      writable: false\n    });\n  }\n}\n\nfunction checked(length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' + 'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes');\n  }\n\n  return length | 0;\n}\n\nfunction isnan(val) {\n  return val !== val; // eslint-disable-line no-self-compare\n}\n\nfunction createBuffer(that, length) {\n  var buf;\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    buf = new Uint8Array(length);\n    buf.__proto__ = Buffer.prototype;\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    buf = that;\n\n    if (buf === null) {\n      buf = new Buffer(length);\n    }\n\n    buf.length = length;\n  }\n\n  return buf;\n}\n\nfunction allocUnsafe(that, size) {\n  var buf = createBuffer(that, size < 0 ? 0 : checked(size) | 0);\n\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      buf[i] = 0;\n    }\n  }\n\n  return buf;\n}\n\nfunction fromString(that, string) {\n  var length = byteLength(string) | 0;\n  var buf = createBuffer(that, length);\n  var actual = buf.write(string);\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual);\n  }\n\n  return buf;\n}\n\nfunction fromArrayLike(that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0;\n  var buf = createBuffer(that, length);\n\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255;\n  }\n\n  return buf;\n}\n\nfunction fromArrayBuffer(that, array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds');\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds');\n  }\n\n  var buf;\n\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array);\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset);\n  } else {\n    buf = new Uint8Array(array, byteOffset, length);\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    buf.__proto__ = Buffer.prototype;\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    buf = fromArrayLike(that, buf);\n  }\n\n  return buf;\n}\n\nfunction fromObject(that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0;\n    var buf = createBuffer(that, len);\n\n    if (buf.length === 0) {\n      return buf;\n    }\n\n    obj.copy(buf, 0, 0, len);\n    return buf;\n  }\n\n  if (obj) {\n    if (typeof ArrayBuffer !== 'undefined' && obj.buffer instanceof ArrayBuffer || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0);\n      }\n\n      return fromArrayLike(that, obj);\n    }\n\n    if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n      return fromArrayLike(that, obj.data);\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.');\n}\n\nfunction utf8ToBytes(string, units) {\n  units = units || Infinity;\n  var codePoint;\n  var length = string.length;\n  var leadSurrogate = null;\n  var bytes = [];\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i); // is surrogate component\n\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n          continue;\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n          continue;\n        } // valid lead\n\n\n        leadSurrogate = codePoint;\n        continue;\n      } // 2 leads in a row\n\n\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n        leadSurrogate = codePoint;\n        continue;\n      } // valid surrogate pair\n\n\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n    }\n\n    leadSurrogate = null; // encode utf8\n\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break;\n      bytes.push(codePoint);\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break;\n      bytes.push(codePoint >> 0x6 | 0xC0, codePoint & 0x3F | 0x80);\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break;\n      bytes.push(codePoint >> 0xC | 0xE0, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break;\n      bytes.push(codePoint >> 0x12 | 0xF0, codePoint >> 0xC & 0x3F | 0x80, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n    } else {\n      throw new Error('Invalid code point');\n    }\n  }\n\n  return bytes;\n}\n\nfunction byteLength(string) {\n  if (Buffer.isBuffer(string)) {\n    return string.length;\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' && (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength;\n  }\n\n  if (typeof string !== 'string') {\n    string = '' + string;\n  }\n\n  var len = string.length;\n  if (len === 0) return 0;\n  return utf8ToBytes(string).length;\n}\n\nfunction blitBuffer(src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if (i + offset >= dst.length || i >= src.length) break;\n    dst[i + offset] = src[i];\n  }\n\n  return i;\n}\n\nfunction utf8Write(buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);\n}\n\nfunction from(that, value, offset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number');\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, offset, length);\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value);\n  }\n\n  return fromObject(that, value);\n}\n\nBuffer.prototype.write = function write(string, offset, length) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    length = this.length;\n    offset = 0; // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    length = this.length;\n    offset = 0; // Buffer#write(string, offset[, length])\n  } else if (isFinite(offset)) {\n    offset = offset | 0;\n\n    if (isFinite(length)) {\n      length = length | 0;\n    } else {\n      length = undefined;\n    }\n  }\n\n  var remaining = this.length - offset;\n  if (length === undefined || length > remaining) length = remaining;\n\n  if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds');\n  }\n\n  return utf8Write(this, string, offset, length);\n};\n\nBuffer.prototype.slice = function slice(start, end) {\n  var len = this.length;\n  start = ~~start;\n  end = end === undefined ? len : ~~end;\n\n  if (start < 0) {\n    start += len;\n    if (start < 0) start = 0;\n  } else if (start > len) {\n    start = len;\n  }\n\n  if (end < 0) {\n    end += len;\n    if (end < 0) end = 0;\n  } else if (end > len) {\n    end = len;\n  }\n\n  if (end < start) end = start;\n  var newBuf;\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end); // Return an augmented `Uint8Array` instance\n\n    newBuf.__proto__ = Buffer.prototype;\n  } else {\n    var sliceLen = end - start;\n    newBuf = new Buffer(sliceLen, undefined);\n\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start];\n    }\n  }\n\n  return newBuf;\n};\n\nBuffer.prototype.copy = function copy(target, targetStart, start, end) {\n  if (!start) start = 0;\n  if (!end && end !== 0) end = this.length;\n  if (targetStart >= target.length) targetStart = target.length;\n  if (!targetStart) targetStart = 0;\n  if (end > 0 && end < start) end = start; // Copy 0 bytes; we're done\n\n  if (end === start) return 0;\n  if (target.length === 0 || this.length === 0) return 0; // Fatal error conditions\n\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds');\n  }\n\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds');\n  if (end < 0) throw new RangeError('sourceEnd out of bounds'); // Are we oob?\n\n  if (end > this.length) end = this.length;\n\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start;\n  }\n\n  var len = end - start;\n  var i;\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start];\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start];\n    }\n  } else {\n    Uint8Array.prototype.set.call(target, this.subarray(start, start + len), targetStart);\n  }\n\n  return len;\n};\n\nBuffer.prototype.fill = function fill(val, start, end) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      start = 0;\n      end = this.length;\n    } else if (typeof end === 'string') {\n      end = this.length;\n    }\n\n    if (val.length === 1) {\n      var code = val.charCodeAt(0);\n\n      if (code < 256) {\n        val = code;\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255;\n  } // Invalid ranges are not set to a default, so can range check early.\n\n\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index');\n  }\n\n  if (end <= start) {\n    return this;\n  }\n\n  start = start >>> 0;\n  end = end === undefined ? this.length : end >>> 0;\n  if (!val) val = 0;\n  var i;\n\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val;\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val) ? val : new Buffer(val);\n    var len = bytes.length;\n\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len];\n    }\n  }\n\n  return this;\n};\n\nBuffer.concat = function concat(list, length) {\n  if (!isarray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers');\n  }\n\n  if (list.length === 0) {\n    return createBuffer(null, 0);\n  }\n\n  var i;\n\n  if (length === undefined) {\n    length = 0;\n\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length;\n    }\n  }\n\n  var buffer = allocUnsafe(null, length);\n  var pos = 0;\n\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i];\n\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers');\n    }\n\n    buf.copy(buffer, pos);\n    pos += buf.length;\n  }\n\n  return buffer;\n};\n\nBuffer.byteLength = byteLength;\nBuffer.prototype._isBuffer = true;\n\nBuffer.isBuffer = function isBuffer(b) {\n  return !!(b != null && b._isBuffer);\n};\n\nvar alloc = function alloc(size) {\n  var buffer = new Buffer(size);\n  buffer.fill(0);\n  return buffer;\n};\n\nvar from_1 = function from_1(data) {\n  return new Buffer(data);\n};\n\nvar typedarrayBuffer = {\n  alloc: alloc,\n  from: from_1\n};\nvar toSJISFunction;\nvar CODEWORDS_COUNT = [0, 26, 44, 70, 100, 134, 172, 196, 242, 292, 346, 404, 466, 532, 581, 655, 733, 815, 901, 991, 1085, 1156, 1258, 1364, 1474, 1588, 1706, 1828, 1921, 2051, 2185, 2323, 2465, 2611, 2761, 2876, 3034, 3196, 3362, 3532, 3706];\n/**\n * Returns the QR Code size for the specified version\n *\n * @param  {Number} version QR Code version\n * @return {Number}         size of QR code\n */\n\nvar getSymbolSize = function getSymbolSize(version) {\n  if (!version) throw new Error('\"version\" cannot be null or undefined');\n  if (version < 1 || version > 40) throw new Error('\"version\" should be in range from 1 to 40');\n  return version * 4 + 17;\n};\n/**\n * Returns the total number of codewords used to store data and EC information.\n *\n * @param  {Number} version QR Code version\n * @return {Number}         Data length in bits\n */\n\n\nvar getSymbolTotalCodewords = function getSymbolTotalCodewords(version) {\n  return CODEWORDS_COUNT[version];\n};\n/**\n * Encode data with Bose-Chaudhuri-Hocquenghem\n *\n * @param  {Number} data Value to encode\n * @return {Number}      Encoded value\n */\n\n\nvar getBCHDigit = function getBCHDigit(data) {\n  var digit = 0;\n\n  while (data !== 0) {\n    digit++;\n    data >>>= 1;\n  }\n\n  return digit;\n};\n\nvar setToSJISFunction = function setToSJISFunction(f) {\n  if (typeof f !== 'function') {\n    throw new Error('\"toSJISFunc\" is not a valid function.');\n  }\n\n  toSJISFunction = f;\n};\n\nvar isKanjiModeEnabled = function isKanjiModeEnabled() {\n  return typeof toSJISFunction !== 'undefined';\n};\n\nvar toSJIS = function toSJIS(kanji) {\n  return toSJISFunction(kanji);\n};\n\nvar utils = {\n  getSymbolSize: getSymbolSize,\n  getSymbolTotalCodewords: getSymbolTotalCodewords,\n  getBCHDigit: getBCHDigit,\n  setToSJISFunction: setToSJISFunction,\n  isKanjiModeEnabled: isKanjiModeEnabled,\n  toSJIS: toSJIS\n};\n\nfunction createCommonjsModule(fn, basedir, module) {\n  return module = {\n    path: basedir,\n    exports: {},\n    require: function require(path, base) {\n      return commonjsRequire();\n    }\n  }, fn(module, module.exports), module.exports;\n}\n\nfunction commonjsRequire() {\n  throw new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');\n}\n\nvar errorCorrectionLevel = createCommonjsModule(function (module, exports) {\n  exports.L = {\n    bit: 1\n  };\n  exports.M = {\n    bit: 0\n  };\n  exports.Q = {\n    bit: 3\n  };\n  exports.H = {\n    bit: 2\n  };\n\n  function fromString(string) {\n    if (typeof string !== 'string') {\n      throw new Error('Param is not a string');\n    }\n\n    var lcStr = string.toLowerCase();\n\n    switch (lcStr) {\n      case 'l':\n      case 'low':\n        return exports.L;\n\n      case 'm':\n      case 'medium':\n        return exports.M;\n\n      case 'q':\n      case 'quartile':\n        return exports.Q;\n\n      case 'h':\n      case 'high':\n        return exports.H;\n\n      default:\n        throw new Error('Unknown EC Level: ' + string);\n    }\n  }\n\n  exports.isValid = function isValid(level) {\n    return level && typeof level.bit !== 'undefined' && level.bit >= 0 && level.bit < 4;\n  };\n\n  exports.from = function from(value, defaultValue) {\n    if (exports.isValid(value)) {\n      return value;\n    }\n\n    try {\n      return fromString(value);\n    } catch (e) {\n      return defaultValue;\n    }\n  };\n});\n\nfunction BitBuffer() {\n  this.buffer = [];\n  this.length = 0;\n}\n\nBitBuffer.prototype = {\n  get: function get(index) {\n    var bufIndex = Math.floor(index / 8);\n    return (this.buffer[bufIndex] >>> 7 - index % 8 & 1) === 1;\n  },\n  put: function put(num, length) {\n    for (var i = 0; i < length; i++) {\n      this.putBit((num >>> length - i - 1 & 1) === 1);\n    }\n  },\n  getLengthInBits: function getLengthInBits() {\n    return this.length;\n  },\n  putBit: function putBit(bit) {\n    var bufIndex = Math.floor(this.length / 8);\n\n    if (this.buffer.length <= bufIndex) {\n      this.buffer.push(0);\n    }\n\n    if (bit) {\n      this.buffer[bufIndex] |= 0x80 >>> this.length % 8;\n    }\n\n    this.length++;\n  }\n};\nvar bitBuffer = BitBuffer;\n/**\n * Helper class to handle QR Code symbol modules\n *\n * @param {Number} size Symbol size\n */\n\nfunction BitMatrix(size) {\n  if (!size || size < 1) {\n    throw new Error('BitMatrix size must be defined and greater than 0');\n  }\n\n  this.size = size;\n  this.data = typedarrayBuffer.alloc(size * size);\n  this.reservedBit = typedarrayBuffer.alloc(size * size);\n}\n/**\n * Set bit value at specified location\n * If reserved flag is set, this bit will be ignored during masking process\n *\n * @param {Number}  row\n * @param {Number}  col\n * @param {Boolean} value\n * @param {Boolean} reserved\n */\n\n\nBitMatrix.prototype.set = function (row, col, value, reserved) {\n  var index = row * this.size + col;\n  this.data[index] = value;\n  if (reserved) this.reservedBit[index] = true;\n};\n/**\n * Returns bit value at specified location\n *\n * @param  {Number}  row\n * @param  {Number}  col\n * @return {Boolean}\n */\n\n\nBitMatrix.prototype.get = function (row, col) {\n  return this.data[row * this.size + col];\n};\n/**\n * Applies xor operator at specified location\n * (used during masking process)\n *\n * @param {Number}  row\n * @param {Number}  col\n * @param {Boolean} value\n */\n\n\nBitMatrix.prototype.xor = function (row, col, value) {\n  this.data[row * this.size + col] ^= value;\n};\n/**\n * Check if bit at specified location is reserved\n *\n * @param {Number}   row\n * @param {Number}   col\n * @return {Boolean}\n */\n\n\nBitMatrix.prototype.isReserved = function (row, col) {\n  return this.reservedBit[row * this.size + col];\n};\n\nvar bitMatrix = BitMatrix;\nvar alignmentPattern = createCommonjsModule(function (module, exports) {\n  /**\n   * Alignment pattern are fixed reference pattern in defined positions\n   * in a matrix symbology, which enables the decode software to re-synchronise\n   * the coordinate mapping of the image modules in the event of moderate amounts\n   * of distortion of the image.\n   *\n   * Alignment patterns are present only in QR Code symbols of version 2 or larger\n   * and their number depends on the symbol version.\n   */\n  var getSymbolSize = utils.getSymbolSize;\n  /**\n   * Calculate the row/column coordinates of the center module of each alignment pattern\n   * for the specified QR Code version.\n   *\n   * The alignment patterns are positioned symmetrically on either side of the diagonal\n   * running from the top left corner of the symbol to the bottom right corner.\n   *\n   * Since positions are simmetrical only half of the coordinates are returned.\n   * Each item of the array will represent in turn the x and y coordinate.\n   * @see {@link getPositions}\n   *\n   * @param  {Number} version QR Code version\n   * @return {Array}          Array of coordinate\n   */\n\n  exports.getRowColCoords = function getRowColCoords(version) {\n    if (version === 1) return [];\n    var posCount = Math.floor(version / 7) + 2;\n    var size = getSymbolSize(version);\n    var intervals = size === 145 ? 26 : Math.ceil((size - 13) / (2 * posCount - 2)) * 2;\n    var positions = [size - 7]; // Last coord is always (size - 7)\n\n    for (var i = 1; i < posCount - 1; i++) {\n      positions[i] = positions[i - 1] - intervals;\n    }\n\n    positions.push(6); // First coord is always 6\n\n    return positions.reverse();\n  };\n  /**\n   * Returns an array containing the positions of each alignment pattern.\n   * Each array's element represent the center point of the pattern as (x, y) coordinates\n   *\n   * Coordinates are calculated expanding the row/column coordinates returned by {@link getRowColCoords}\n   * and filtering out the items that overlaps with finder pattern\n   *\n   * @example\n   * For a Version 7 symbol {@link getRowColCoords} returns values 6, 22 and 38.\n   * The alignment patterns, therefore, are to be centered on (row, column)\n   * positions (6,22), (22,6), (22,22), (22,38), (38,22), (38,38).\n   * Note that the coordinates (6,6), (6,38), (38,6) are occupied by finder patterns\n   * and are not therefore used for alignment patterns.\n   *\n   * var pos = getPositions(7)\n   * // [[6,22], [22,6], [22,22], [22,38], [38,22], [38,38]]\n   *\n   * @param  {Number} version QR Code version\n   * @return {Array}          Array of coordinates\n   */\n\n\n  exports.getPositions = function getPositions(version) {\n    var coords = [];\n    var pos = exports.getRowColCoords(version);\n    var posLength = pos.length;\n\n    for (var i = 0; i < posLength; i++) {\n      for (var j = 0; j < posLength; j++) {\n        // Skip if position is occupied by finder patterns\n        if (i === 0 && j === 0 || // top-left\n        i === 0 && j === posLength - 1 || // bottom-left\n        i === posLength - 1 && j === 0) {\n          // top-right\n          continue;\n        }\n\n        coords.push([pos[i], pos[j]]);\n      }\n    }\n\n    return coords;\n  };\n});\nvar getSymbolSize$1 = utils.getSymbolSize;\nvar FINDER_PATTERN_SIZE = 7;\n/**\n * Returns an array containing the positions of each finder pattern.\n * Each array's element represent the top-left point of the pattern as (x, y) coordinates\n *\n * @param  {Number} version QR Code version\n * @return {Array}          Array of coordinates\n */\n\nvar getPositions = function getPositions(version) {\n  var size = getSymbolSize$1(version);\n  return [// top-left\n  [0, 0], // top-right\n  [size - FINDER_PATTERN_SIZE, 0], // bottom-left\n  [0, size - FINDER_PATTERN_SIZE]];\n};\n\nvar finderPattern = {\n  getPositions: getPositions\n};\nvar maskPattern = createCommonjsModule(function (module, exports) {\n  /**\n   * Data mask pattern reference\n   * @type {Object}\n   */\n  exports.Patterns = {\n    PATTERN000: 0,\n    PATTERN001: 1,\n    PATTERN010: 2,\n    PATTERN011: 3,\n    PATTERN100: 4,\n    PATTERN101: 5,\n    PATTERN110: 6,\n    PATTERN111: 7\n  };\n  /**\n   * Weighted penalty scores for the undesirable features\n   * @type {Object}\n   */\n\n  var PenaltyScores = {\n    N1: 3,\n    N2: 3,\n    N3: 40,\n    N4: 10\n  };\n  /**\n   * Check if mask pattern value is valid\n   *\n   * @param  {Number}  mask    Mask pattern\n   * @return {Boolean}         true if valid, false otherwise\n   */\n\n  exports.isValid = function isValid(mask) {\n    return mask != null && mask !== '' && !isNaN(mask) && mask >= 0 && mask <= 7;\n  };\n  /**\n   * Returns mask pattern from a value.\n   * If value is not valid, returns undefined\n   *\n   * @param  {Number|String} value        Mask pattern value\n   * @return {Number}                     Valid mask pattern or undefined\n   */\n\n\n  exports.from = function from(value) {\n    return exports.isValid(value) ? parseInt(value, 10) : undefined;\n  };\n  /**\n  * Find adjacent modules in row/column with the same color\n  * and assign a penalty value.\n  *\n  * Points: N1 + i\n  * i is the amount by which the number of adjacent modules of the same color exceeds 5\n  */\n\n\n  exports.getPenaltyN1 = function getPenaltyN1(data) {\n    var size = data.size;\n    var points = 0;\n    var sameCountCol = 0;\n    var sameCountRow = 0;\n    var lastCol = null;\n    var lastRow = null;\n\n    for (var row = 0; row < size; row++) {\n      sameCountCol = sameCountRow = 0;\n      lastCol = lastRow = null;\n\n      for (var col = 0; col < size; col++) {\n        var module = data.get(row, col);\n\n        if (module === lastCol) {\n          sameCountCol++;\n        } else {\n          if (sameCountCol >= 5) points += PenaltyScores.N1 + (sameCountCol - 5);\n          lastCol = module;\n          sameCountCol = 1;\n        }\n\n        module = data.get(col, row);\n\n        if (module === lastRow) {\n          sameCountRow++;\n        } else {\n          if (sameCountRow >= 5) points += PenaltyScores.N1 + (sameCountRow - 5);\n          lastRow = module;\n          sameCountRow = 1;\n        }\n      }\n\n      if (sameCountCol >= 5) points += PenaltyScores.N1 + (sameCountCol - 5);\n      if (sameCountRow >= 5) points += PenaltyScores.N1 + (sameCountRow - 5);\n    }\n\n    return points;\n  };\n  /**\n   * Find 2x2 blocks with the same color and assign a penalty value\n   *\n   * Points: N2 * (m - 1) * (n - 1)\n   */\n\n\n  exports.getPenaltyN2 = function getPenaltyN2(data) {\n    var size = data.size;\n    var points = 0;\n\n    for (var row = 0; row < size - 1; row++) {\n      for (var col = 0; col < size - 1; col++) {\n        var last = data.get(row, col) + data.get(row, col + 1) + data.get(row + 1, col) + data.get(row + 1, col + 1);\n        if (last === 4 || last === 0) points++;\n      }\n    }\n\n    return points * PenaltyScores.N2;\n  };\n  /**\n   * Find 1:1:3:1:1 ratio (dark:light:dark:light:dark) pattern in row/column,\n   * preceded or followed by light area 4 modules wide\n   *\n   * Points: N3 * number of pattern found\n   */\n\n\n  exports.getPenaltyN3 = function getPenaltyN3(data) {\n    var size = data.size;\n    var points = 0;\n    var bitsCol = 0;\n    var bitsRow = 0;\n\n    for (var row = 0; row < size; row++) {\n      bitsCol = bitsRow = 0;\n\n      for (var col = 0; col < size; col++) {\n        bitsCol = bitsCol << 1 & 0x7FF | data.get(row, col);\n        if (col >= 10 && (bitsCol === 0x5D0 || bitsCol === 0x05D)) points++;\n        bitsRow = bitsRow << 1 & 0x7FF | data.get(col, row);\n        if (col >= 10 && (bitsRow === 0x5D0 || bitsRow === 0x05D)) points++;\n      }\n    }\n\n    return points * PenaltyScores.N3;\n  };\n  /**\n   * Calculate proportion of dark modules in entire symbol\n   *\n   * Points: N4 * k\n   *\n   * k is the rating of the deviation of the proportion of dark modules\n   * in the symbol from 50% in steps of 5%\n   */\n\n\n  exports.getPenaltyN4 = function getPenaltyN4(data) {\n    var darkCount = 0;\n    var modulesCount = data.data.length;\n\n    for (var i = 0; i < modulesCount; i++) {\n      darkCount += data.data[i];\n    }\n\n    var k = Math.abs(Math.ceil(darkCount * 100 / modulesCount / 5) - 10);\n    return k * PenaltyScores.N4;\n  };\n  /**\n   * Return mask value at given position\n   *\n   * @param  {Number} maskPattern Pattern reference value\n   * @param  {Number} i           Row\n   * @param  {Number} j           Column\n   * @return {Boolean}            Mask value\n   */\n\n\n  function getMaskAt(maskPattern, i, j) {\n    switch (maskPattern) {\n      case exports.Patterns.PATTERN000:\n        return (i + j) % 2 === 0;\n\n      case exports.Patterns.PATTERN001:\n        return i % 2 === 0;\n\n      case exports.Patterns.PATTERN010:\n        return j % 3 === 0;\n\n      case exports.Patterns.PATTERN011:\n        return (i + j) % 3 === 0;\n\n      case exports.Patterns.PATTERN100:\n        return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 === 0;\n\n      case exports.Patterns.PATTERN101:\n        return i * j % 2 + i * j % 3 === 0;\n\n      case exports.Patterns.PATTERN110:\n        return (i * j % 2 + i * j % 3) % 2 === 0;\n\n      case exports.Patterns.PATTERN111:\n        return (i * j % 3 + (i + j) % 2) % 2 === 0;\n\n      default:\n        throw new Error('bad maskPattern:' + maskPattern);\n    }\n  }\n  /**\n   * Apply a mask pattern to a BitMatrix\n   *\n   * @param  {Number}    pattern Pattern reference number\n   * @param  {BitMatrix} data    BitMatrix data\n   */\n\n\n  exports.applyMask = function applyMask(pattern, data) {\n    var size = data.size;\n\n    for (var col = 0; col < size; col++) {\n      for (var row = 0; row < size; row++) {\n        if (data.isReserved(row, col)) continue;\n        data.xor(row, col, getMaskAt(pattern, row, col));\n      }\n    }\n  };\n  /**\n   * Returns the best mask pattern for data\n   *\n   * @param  {BitMatrix} data\n   * @return {Number} Mask pattern reference number\n   */\n\n\n  exports.getBestMask = function getBestMask(data, setupFormatFunc) {\n    var numPatterns = Object.keys(exports.Patterns).length;\n    var bestPattern = 0;\n    var lowerPenalty = Infinity;\n\n    for (var p = 0; p < numPatterns; p++) {\n      setupFormatFunc(p);\n      exports.applyMask(p, data); // Calculate penalty\n\n      var penalty = exports.getPenaltyN1(data) + exports.getPenaltyN2(data) + exports.getPenaltyN3(data) + exports.getPenaltyN4(data); // Undo previously applied mask\n\n      exports.applyMask(p, data);\n\n      if (penalty < lowerPenalty) {\n        lowerPenalty = penalty;\n        bestPattern = p;\n      }\n    }\n\n    return bestPattern;\n  };\n});\nvar EC_BLOCKS_TABLE = [// L  M  Q  H\n1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 2, 2, 4, 1, 2, 4, 4, 2, 4, 4, 4, 2, 4, 6, 5, 2, 4, 6, 6, 2, 5, 8, 8, 4, 5, 8, 8, 4, 5, 8, 11, 4, 8, 10, 11, 4, 9, 12, 16, 4, 9, 16, 16, 6, 10, 12, 18, 6, 10, 17, 16, 6, 11, 16, 19, 6, 13, 18, 21, 7, 14, 21, 25, 8, 16, 20, 25, 8, 17, 23, 25, 9, 17, 23, 34, 9, 18, 25, 30, 10, 20, 27, 32, 12, 21, 29, 35, 12, 23, 34, 37, 12, 25, 34, 40, 13, 26, 35, 42, 14, 28, 38, 45, 15, 29, 40, 48, 16, 31, 43, 51, 17, 33, 45, 54, 18, 35, 48, 57, 19, 37, 51, 60, 19, 38, 53, 63, 20, 40, 56, 66, 21, 43, 59, 70, 22, 45, 62, 74, 24, 47, 65, 77, 25, 49, 68, 81];\nvar EC_CODEWORDS_TABLE = [// L  M  Q  H\n7, 10, 13, 17, 10, 16, 22, 28, 15, 26, 36, 44, 20, 36, 52, 64, 26, 48, 72, 88, 36, 64, 96, 112, 40, 72, 108, 130, 48, 88, 132, 156, 60, 110, 160, 192, 72, 130, 192, 224, 80, 150, 224, 264, 96, 176, 260, 308, 104, 198, 288, 352, 120, 216, 320, 384, 132, 240, 360, 432, 144, 280, 408, 480, 168, 308, 448, 532, 180, 338, 504, 588, 196, 364, 546, 650, 224, 416, 600, 700, 224, 442, 644, 750, 252, 476, 690, 816, 270, 504, 750, 900, 300, 560, 810, 960, 312, 588, 870, 1050, 336, 644, 952, 1110, 360, 700, 1020, 1200, 390, 728, 1050, 1260, 420, 784, 1140, 1350, 450, 812, 1200, 1440, 480, 868, 1290, 1530, 510, 924, 1350, 1620, 540, 980, 1440, 1710, 570, 1036, 1530, 1800, 570, 1064, 1590, 1890, 600, 1120, 1680, 1980, 630, 1204, 1770, 2100, 660, 1260, 1860, 2220, 720, 1316, 1950, 2310, 750, 1372, 2040, 2430];\n/**\n * Returns the number of error correction block that the QR Code should contain\n * for the specified version and error correction level.\n *\n * @param  {Number} version              QR Code version\n * @param  {Number} errorCorrectionLevel Error correction level\n * @return {Number}                      Number of error correction blocks\n */\n\nvar getBlocksCount = function getBlocksCount(version, errorCorrectionLevel$1) {\n  switch (errorCorrectionLevel$1) {\n    case errorCorrectionLevel.L:\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 0];\n\n    case errorCorrectionLevel.M:\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 1];\n\n    case errorCorrectionLevel.Q:\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 2];\n\n    case errorCorrectionLevel.H:\n      return EC_BLOCKS_TABLE[(version - 1) * 4 + 3];\n\n    default:\n      return undefined;\n  }\n};\n/**\n * Returns the number of error correction codewords to use for the specified\n * version and error correction level.\n *\n * @param  {Number} version              QR Code version\n * @param  {Number} errorCorrectionLevel Error correction level\n * @return {Number}                      Number of error correction codewords\n */\n\n\nvar getTotalCodewordsCount = function getTotalCodewordsCount(version, errorCorrectionLevel$1) {\n  switch (errorCorrectionLevel$1) {\n    case errorCorrectionLevel.L:\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 0];\n\n    case errorCorrectionLevel.M:\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 1];\n\n    case errorCorrectionLevel.Q:\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 2];\n\n    case errorCorrectionLevel.H:\n      return EC_CODEWORDS_TABLE[(version - 1) * 4 + 3];\n\n    default:\n      return undefined;\n  }\n};\n\nvar errorCorrectionCode = {\n  getBlocksCount: getBlocksCount,\n  getTotalCodewordsCount: getTotalCodewordsCount\n};\nvar EXP_TABLE = typedarrayBuffer.alloc(512);\nvar LOG_TABLE = typedarrayBuffer.alloc(256);\n\n(function initTables() {\n  var x = 1;\n\n  for (var i = 0; i < 255; i++) {\n    EXP_TABLE[i] = x;\n    LOG_TABLE[x] = i;\n    x <<= 1; // multiply by 2\n    // The QR code specification says to use byte-wise modulo 100011101 arithmetic.\n    // This means that when a number is 256 or larger, it should be XORed with 0x11D.\n\n    if (x & 0x100) {\n      // similar to x >= 256, but a lot faster (because 0x100 == 256)\n      x ^= 0x11D;\n    }\n  } // Optimization: double the size of the anti-log table so that we don't need to mod 255 to\n  // stay inside the bounds (because we will mainly use this table for the multiplication of\n  // two GF numbers, no more).\n  // @see {@link mul}\n\n\n  for (i = 255; i < 512; i++) {\n    EXP_TABLE[i] = EXP_TABLE[i - 255];\n  }\n})();\n/**\n * Returns log value of n inside Galois Field\n *\n * @param  {Number} n\n * @return {Number}\n */\n\n\nvar log = function log(n) {\n  if (n < 1) throw new Error('log(' + n + ')');\n  return LOG_TABLE[n];\n};\n/**\n * Returns anti-log value of n inside Galois Field\n *\n * @param  {Number} n\n * @return {Number}\n */\n\n\nvar exp = function exp(n) {\n  return EXP_TABLE[n];\n};\n/**\n * Multiplies two number inside Galois Field\n *\n * @param  {Number} x\n * @param  {Number} y\n * @return {Number}\n */\n\n\nvar mul = function mul(x, y) {\n  if (x === 0 || y === 0) return 0; // should be EXP_TABLE[(LOG_TABLE[x] + LOG_TABLE[y]) % 255] if EXP_TABLE wasn't oversized\n  // @see {@link initTables}\n\n  return EXP_TABLE[LOG_TABLE[x] + LOG_TABLE[y]];\n};\n\nvar galoisField = {\n  log: log,\n  exp: exp,\n  mul: mul\n};\nvar polynomial = createCommonjsModule(function (module, exports) {\n  /**\n   * Multiplies two polynomials inside Galois Field\n   *\n   * @param  {Buffer} p1 Polynomial\n   * @param  {Buffer} p2 Polynomial\n   * @return {Buffer}    Product of p1 and p2\n   */\n  exports.mul = function mul(p1, p2) {\n    var coeff = typedarrayBuffer.alloc(p1.length + p2.length - 1);\n\n    for (var i = 0; i < p1.length; i++) {\n      for (var j = 0; j < p2.length; j++) {\n        coeff[i + j] ^= galoisField.mul(p1[i], p2[j]);\n      }\n    }\n\n    return coeff;\n  };\n  /**\n   * Calculate the remainder of polynomials division\n   *\n   * @param  {Buffer} divident Polynomial\n   * @param  {Buffer} divisor  Polynomial\n   * @return {Buffer}          Remainder\n   */\n\n\n  exports.mod = function mod(divident, divisor) {\n    var result = typedarrayBuffer.from(divident);\n\n    while (result.length - divisor.length >= 0) {\n      var coeff = result[0];\n\n      for (var i = 0; i < divisor.length; i++) {\n        result[i] ^= galoisField.mul(divisor[i], coeff);\n      } // remove all zeros from buffer head\n\n\n      var offset = 0;\n\n      while (offset < result.length && result[offset] === 0) {\n        offset++;\n      }\n\n      result = result.slice(offset);\n    }\n\n    return result;\n  };\n  /**\n   * Generate an irreducible generator polynomial of specified degree\n   * (used by Reed-Solomon encoder)\n   *\n   * @param  {Number} degree Degree of the generator polynomial\n   * @return {Buffer}        Buffer containing polynomial coefficients\n   */\n\n\n  exports.generateECPolynomial = function generateECPolynomial(degree) {\n    var poly = typedarrayBuffer.from([1]);\n\n    for (var i = 0; i < degree; i++) {\n      poly = exports.mul(poly, [1, galoisField.exp(i)]);\n    }\n\n    return poly;\n  };\n});\nvar Buffer$1 = buffer__WEBPACK_IMPORTED_MODULE_9___default.a.Buffer;\n\nfunction ReedSolomonEncoder(degree) {\n  this.genPoly = undefined;\n  this.degree = degree;\n  if (this.degree) this.initialize(this.degree);\n}\n/**\n * Initialize the encoder.\n * The input param should correspond to the number of error correction codewords.\n *\n * @param  {Number} degree\n */\n\n\nReedSolomonEncoder.prototype.initialize = function initialize(degree) {\n  // create an irreducible generator polynomial\n  this.degree = degree;\n  this.genPoly = polynomial.generateECPolynomial(this.degree);\n};\n/**\n * Encodes a chunk of data\n *\n * @param  {Buffer} data Buffer containing input data\n * @return {Buffer}      Buffer containing encoded data\n */\n\n\nReedSolomonEncoder.prototype.encode = function encode(data) {\n  if (!this.genPoly) {\n    throw new Error('Encoder not initialized');\n  } // Calculate EC for this data block\n  // extends data size to data+genPoly size\n\n\n  var pad = typedarrayBuffer.alloc(this.degree);\n  var paddedData = Buffer$1.concat([data, pad], data.length + this.degree); // The error correction codewords are the remainder after dividing the data codewords\n  // by a generator polynomial\n\n  var remainder = polynomial.mod(paddedData, this.genPoly); // return EC data blocks (last n byte, where n is the degree of genPoly)\n  // If coefficients number in remainder are less than genPoly degree,\n  // pad with 0s to the left to reach the needed number of coefficients\n\n  var start = this.degree - remainder.length;\n\n  if (start > 0) {\n    var buff = typedarrayBuffer.alloc(this.degree);\n    remainder.copy(buff, start);\n    return buff;\n  }\n\n  return remainder;\n};\n\nvar reedSolomonEncoder = ReedSolomonEncoder;\n/**\n * Check if QR Code version is valid\n *\n * @param  {Number}  version QR Code version\n * @return {Boolean}         true if valid version, false otherwise\n */\n\nvar isValid = function isValid(version) {\n  return !isNaN(version) && version >= 1 && version <= 40;\n};\n\nvar versionCheck = {\n  isValid: isValid\n};\nvar numeric = '[0-9]+';\nvar alphanumeric = '[A-Z $%*+\\\\-./:]+';\nvar kanji = '(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|' + '[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|' + '[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|' + '[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+';\nkanji = kanji.replace(/u/g, \"\\\\u\");\nvar byte = '(?:(?![A-Z0-9 $%*+\\\\-./:]|' + kanji + ')(?:.|[\\r\\n]))+';\nvar KANJI = new RegExp(kanji, 'g');\nvar BYTE_KANJI = new RegExp('[^A-Z0-9 $%*+\\\\-./:]+', 'g');\nvar BYTE = new RegExp(byte, 'g');\nvar NUMERIC = new RegExp(numeric, 'g');\nvar ALPHANUMERIC = new RegExp(alphanumeric, 'g');\nvar TEST_KANJI = new RegExp('^' + kanji + '$');\nvar TEST_NUMERIC = new RegExp('^' + numeric + '$');\nvar TEST_ALPHANUMERIC = new RegExp('^[A-Z0-9 $%*+\\\\-./:]+$');\n\nvar testKanji = function testKanji(str) {\n  return TEST_KANJI.test(str);\n};\n\nvar testNumeric = function testNumeric(str) {\n  return TEST_NUMERIC.test(str);\n};\n\nvar testAlphanumeric = function testAlphanumeric(str) {\n  return TEST_ALPHANUMERIC.test(str);\n};\n\nvar regex = {\n  KANJI: KANJI,\n  BYTE_KANJI: BYTE_KANJI,\n  BYTE: BYTE,\n  NUMERIC: NUMERIC,\n  ALPHANUMERIC: ALPHANUMERIC,\n  testKanji: testKanji,\n  testNumeric: testNumeric,\n  testAlphanumeric: testAlphanumeric\n};\nvar mode = createCommonjsModule(function (module, exports) {\n  /**\n   * Numeric mode encodes data from the decimal digit set (0 - 9)\n   * (byte values 30HEX to 39HEX).\n   * Normally, 3 data characters are represented by 10 bits.\n   *\n   * @type {Object}\n   */\n  exports.NUMERIC = {\n    id: 'Numeric',\n    bit: 1 << 0,\n    ccBits: [10, 12, 14]\n  };\n  /**\n   * Alphanumeric mode encodes data from a set of 45 characters,\n   * i.e. 10 numeric digits (0 - 9),\n   *      26 alphabetic characters (A - Z),\n   *   and 9 symbols (SP, $, %, *, +, -, ., /, :).\n   * Normally, two input characters are represented by 11 bits.\n   *\n   * @type {Object}\n   */\n\n  exports.ALPHANUMERIC = {\n    id: 'Alphanumeric',\n    bit: 1 << 1,\n    ccBits: [9, 11, 13]\n  };\n  /**\n   * In byte mode, data is encoded at 8 bits per character.\n   *\n   * @type {Object}\n   */\n\n  exports.BYTE = {\n    id: 'Byte',\n    bit: 1 << 2,\n    ccBits: [8, 16, 16]\n  };\n  /**\n   * The Kanji mode efficiently encodes Kanji characters in accordance with\n   * the Shift JIS system based on JIS X 0208.\n   * The Shift JIS values are shifted from the JIS X 0208 values.\n   * JIS X 0208 gives details of the shift coded representation.\n   * Each two-byte character value is compacted to a 13-bit binary codeword.\n   *\n   * @type {Object}\n   */\n\n  exports.KANJI = {\n    id: 'Kanji',\n    bit: 1 << 3,\n    ccBits: [8, 10, 12]\n  };\n  /**\n   * Mixed mode will contain a sequences of data in a combination of any of\n   * the modes described above\n   *\n   * @type {Object}\n   */\n\n  exports.MIXED = {\n    bit: -1\n  };\n  /**\n   * Returns the number of bits needed to store the data length\n   * according to QR Code specifications.\n   *\n   * @param  {Mode}   mode    Data mode\n   * @param  {Number} version QR Code version\n   * @return {Number}         Number of bits\n   */\n\n  exports.getCharCountIndicator = function getCharCountIndicator(mode, version) {\n    if (!mode.ccBits) throw new Error('Invalid mode: ' + mode);\n\n    if (!versionCheck.isValid(version)) {\n      throw new Error('Invalid version: ' + version);\n    }\n\n    if (version >= 1 && version < 10) return mode.ccBits[0];else if (version < 27) return mode.ccBits[1];\n    return mode.ccBits[2];\n  };\n  /**\n   * Returns the most efficient mode to store the specified data\n   *\n   * @param  {String} dataStr Input data string\n   * @return {Mode}           Best mode\n   */\n\n\n  exports.getBestModeForData = function getBestModeForData(dataStr) {\n    if (regex.testNumeric(dataStr)) return exports.NUMERIC;else if (regex.testAlphanumeric(dataStr)) return exports.ALPHANUMERIC;else if (regex.testKanji(dataStr)) return exports.KANJI;else return exports.BYTE;\n  };\n  /**\n   * Return mode name as string\n   *\n   * @param {Mode} mode Mode object\n   * @returns {String}  Mode name\n   */\n\n\n  exports.toString = function toString(mode) {\n    if (mode && mode.id) return mode.id;\n    throw new Error('Invalid mode');\n  };\n  /**\n   * Check if input param is a valid mode object\n   *\n   * @param   {Mode}    mode Mode object\n   * @returns {Boolean} True if valid mode, false otherwise\n   */\n\n\n  exports.isValid = function isValid(mode) {\n    return mode && mode.bit && mode.ccBits;\n  };\n  /**\n   * Get mode object from its name\n   *\n   * @param   {String} string Mode name\n   * @returns {Mode}          Mode object\n   */\n\n\n  function fromString(string) {\n    if (typeof string !== 'string') {\n      throw new Error('Param is not a string');\n    }\n\n    var lcStr = string.toLowerCase();\n\n    switch (lcStr) {\n      case 'numeric':\n        return exports.NUMERIC;\n\n      case 'alphanumeric':\n        return exports.ALPHANUMERIC;\n\n      case 'kanji':\n        return exports.KANJI;\n\n      case 'byte':\n        return exports.BYTE;\n\n      default:\n        throw new Error('Unknown mode: ' + string);\n    }\n  }\n  /**\n   * Returns mode from a value.\n   * If value is not a valid mode, returns defaultValue\n   *\n   * @param  {Mode|String} value        Encoding mode\n   * @param  {Mode}        defaultValue Fallback value\n   * @return {Mode}                     Encoding mode\n   */\n\n\n  exports.from = function from(value, defaultValue) {\n    if (exports.isValid(value)) {\n      return value;\n    }\n\n    try {\n      return fromString(value);\n    } catch (e) {\n      return defaultValue;\n    }\n  };\n});\nvar version = createCommonjsModule(function (module, exports) {\n  // Generator polynomial used to encode version information\n  var G18 = 1 << 12 | 1 << 11 | 1 << 10 | 1 << 9 | 1 << 8 | 1 << 5 | 1 << 2 | 1 << 0;\n  var G18_BCH = utils.getBCHDigit(G18);\n\n  function getBestVersionForDataLength(mode, length, errorCorrectionLevel) {\n    for (var currentVersion = 1; currentVersion <= 40; currentVersion++) {\n      if (length <= exports.getCapacity(currentVersion, errorCorrectionLevel, mode)) {\n        return currentVersion;\n      }\n    }\n\n    return undefined;\n  }\n\n  function getReservedBitsCount(mode$1, version) {\n    // Character count indicator + mode indicator bits\n    return mode.getCharCountIndicator(mode$1, version) + 4;\n  }\n\n  function getTotalBitsFromDataArray(segments, version) {\n    var totalBits = 0;\n    segments.forEach(function (data) {\n      var reservedBits = getReservedBitsCount(data.mode, version);\n      totalBits += reservedBits + data.getBitsLength();\n    });\n    return totalBits;\n  }\n\n  function getBestVersionForMixedData(segments, errorCorrectionLevel) {\n    for (var currentVersion = 1; currentVersion <= 40; currentVersion++) {\n      var length = getTotalBitsFromDataArray(segments, currentVersion);\n\n      if (length <= exports.getCapacity(currentVersion, errorCorrectionLevel, mode.MIXED)) {\n        return currentVersion;\n      }\n    }\n\n    return undefined;\n  }\n  /**\n   * Returns version number from a value.\n   * If value is not a valid version, returns defaultValue\n   *\n   * @param  {Number|String} value        QR Code version\n   * @param  {Number}        defaultValue Fallback value\n   * @return {Number}                     QR Code version number\n   */\n\n\n  exports.from = function from(value, defaultValue) {\n    if (versionCheck.isValid(value)) {\n      return parseInt(value, 10);\n    }\n\n    return defaultValue;\n  };\n  /**\n   * Returns how much data can be stored with the specified QR code version\n   * and error correction level\n   *\n   * @param  {Number} version              QR Code version (1-40)\n   * @param  {Number} errorCorrectionLevel Error correction level\n   * @param  {Mode}   mode                 Data mode\n   * @return {Number}                      Quantity of storable data\n   */\n\n\n  exports.getCapacity = function getCapacity(version, errorCorrectionLevel, mode$1) {\n    if (!versionCheck.isValid(version)) {\n      throw new Error('Invalid QR Code version');\n    } // Use Byte mode as default\n\n\n    if (typeof mode$1 === 'undefined') mode$1 = mode.BYTE; // Total codewords for this QR code version (Data + Error correction)\n\n    var totalCodewords = utils.getSymbolTotalCodewords(version); // Total number of error correction codewords\n\n    var ecTotalCodewords = errorCorrectionCode.getTotalCodewordsCount(version, errorCorrectionLevel); // Total number of data codewords\n\n    var dataTotalCodewordsBits = (totalCodewords - ecTotalCodewords) * 8;\n    if (mode$1 === mode.MIXED) return dataTotalCodewordsBits;\n    var usableBits = dataTotalCodewordsBits - getReservedBitsCount(mode$1, version); // Return max number of storable codewords\n\n    switch (mode$1) {\n      case mode.NUMERIC:\n        return Math.floor(usableBits / 10 * 3);\n\n      case mode.ALPHANUMERIC:\n        return Math.floor(usableBits / 11 * 2);\n\n      case mode.KANJI:\n        return Math.floor(usableBits / 13);\n\n      case mode.BYTE:\n      default:\n        return Math.floor(usableBits / 8);\n    }\n  };\n  /**\n   * Returns the minimum version needed to contain the amount of data\n   *\n   * @param  {Segment} data                    Segment of data\n   * @param  {Number} [errorCorrectionLevel=H] Error correction level\n   * @param  {Mode} mode                       Data mode\n   * @return {Number}                          QR Code version\n   */\n\n\n  exports.getBestVersionForData = function getBestVersionForData(data, errorCorrectionLevel$1) {\n    var seg;\n    var ecl = errorCorrectionLevel.from(errorCorrectionLevel$1, errorCorrectionLevel.M);\n\n    if (isarray(data)) {\n      if (data.length > 1) {\n        return getBestVersionForMixedData(data, ecl);\n      }\n\n      if (data.length === 0) {\n        return 1;\n      }\n\n      seg = data[0];\n    } else {\n      seg = data;\n    }\n\n    return getBestVersionForDataLength(seg.mode, seg.getLength(), ecl);\n  };\n  /**\n   * Returns version information with relative error correction bits\n   *\n   * The version information is included in QR Code symbols of version 7 or larger.\n   * It consists of an 18-bit sequence containing 6 data bits,\n   * with 12 error correction bits calculated using the (18, 6) Golay code.\n   *\n   * @param  {Number} version QR Code version\n   * @return {Number}         Encoded version info bits\n   */\n\n\n  exports.getEncodedBits = function getEncodedBits(version) {\n    if (!versionCheck.isValid(version) || version < 7) {\n      throw new Error('Invalid QR Code version');\n    }\n\n    var d = version << 12;\n\n    while (utils.getBCHDigit(d) - G18_BCH >= 0) {\n      d ^= G18 << utils.getBCHDigit(d) - G18_BCH;\n    }\n\n    return version << 12 | d;\n  };\n});\nvar G15 = 1 << 10 | 1 << 8 | 1 << 5 | 1 << 4 | 1 << 2 | 1 << 1 | 1 << 0;\nvar G15_MASK = 1 << 14 | 1 << 12 | 1 << 10 | 1 << 4 | 1 << 1;\nvar G15_BCH = utils.getBCHDigit(G15);\n/**\n * Returns format information with relative error correction bits\n *\n * The format information is a 15-bit sequence containing 5 data bits,\n * with 10 error correction bits calculated using the (15, 5) BCH code.\n *\n * @param  {Number} errorCorrectionLevel Error correction level\n * @param  {Number} mask                 Mask pattern\n * @return {Number}                      Encoded format information bits\n */\n\nvar getEncodedBits = function getEncodedBits(errorCorrectionLevel, mask) {\n  var data = errorCorrectionLevel.bit << 3 | mask;\n  var d = data << 10;\n\n  while (utils.getBCHDigit(d) - G15_BCH >= 0) {\n    d ^= G15 << utils.getBCHDigit(d) - G15_BCH;\n  } // xor final data with mask pattern in order to ensure that\n  // no combination of Error Correction Level and data mask pattern\n  // will result in an all-zero data string\n\n\n  return (data << 10 | d) ^ G15_MASK;\n};\n\nvar formatInfo = {\n  getEncodedBits: getEncodedBits\n};\n\nfunction NumericData(data) {\n  this.mode = mode.NUMERIC;\n  this.data = data.toString();\n}\n\nNumericData.getBitsLength = function getBitsLength(length) {\n  return 10 * Math.floor(length / 3) + (length % 3 ? length % 3 * 3 + 1 : 0);\n};\n\nNumericData.prototype.getLength = function getLength() {\n  return this.data.length;\n};\n\nNumericData.prototype.getBitsLength = function getBitsLength() {\n  return NumericData.getBitsLength(this.data.length);\n};\n\nNumericData.prototype.write = function write(bitBuffer) {\n  var i, group, value; // The input data string is divided into groups of three digits,\n  // and each group is converted to its 10-bit binary equivalent.\n\n  for (i = 0; i + 3 <= this.data.length; i += 3) {\n    group = this.data.substr(i, 3);\n    value = parseInt(group, 10);\n    bitBuffer.put(value, 10);\n  } // If the number of input digits is not an exact multiple of three,\n  // the final one or two digits are converted to 4 or 7 bits respectively.\n\n\n  var remainingNum = this.data.length - i;\n\n  if (remainingNum > 0) {\n    group = this.data.substr(i);\n    value = parseInt(group, 10);\n    bitBuffer.put(value, remainingNum * 3 + 1);\n  }\n};\n\nvar numericData = NumericData;\n/**\n * Array of characters available in alphanumeric mode\n *\n * As per QR Code specification, to each character\n * is assigned a value from 0 to 44 which in this case coincides\n * with the array index\n *\n * @type {Array}\n */\n\nvar ALPHA_NUM_CHARS = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', ' ', '$', '%', '*', '+', '-', '.', '/', ':'];\n\nfunction AlphanumericData(data) {\n  this.mode = mode.ALPHANUMERIC;\n  this.data = data;\n}\n\nAlphanumericData.getBitsLength = function getBitsLength(length) {\n  return 11 * Math.floor(length / 2) + 6 * (length % 2);\n};\n\nAlphanumericData.prototype.getLength = function getLength() {\n  return this.data.length;\n};\n\nAlphanumericData.prototype.getBitsLength = function getBitsLength() {\n  return AlphanumericData.getBitsLength(this.data.length);\n};\n\nAlphanumericData.prototype.write = function write(bitBuffer) {\n  var i; // Input data characters are divided into groups of two characters\n  // and encoded as 11-bit binary codes.\n\n  for (i = 0; i + 2 <= this.data.length; i += 2) {\n    // The character value of the first character is multiplied by 45\n    var value = ALPHA_NUM_CHARS.indexOf(this.data[i]) * 45; // The character value of the second digit is added to the product\n\n    value += ALPHA_NUM_CHARS.indexOf(this.data[i + 1]); // The sum is then stored as 11-bit binary number\n\n    bitBuffer.put(value, 11);\n  } // If the number of input data characters is not a multiple of two,\n  // the character value of the final character is encoded as a 6-bit binary number.\n\n\n  if (this.data.length % 2) {\n    bitBuffer.put(ALPHA_NUM_CHARS.indexOf(this.data[i]), 6);\n  }\n};\n\nvar alphanumericData = AlphanumericData;\n\nfunction ByteData(data) {\n  this.mode = mode.BYTE;\n  this.data = typedarrayBuffer.from(data);\n}\n\nByteData.getBitsLength = function getBitsLength(length) {\n  return length * 8;\n};\n\nByteData.prototype.getLength = function getLength() {\n  return this.data.length;\n};\n\nByteData.prototype.getBitsLength = function getBitsLength() {\n  return ByteData.getBitsLength(this.data.length);\n};\n\nByteData.prototype.write = function (bitBuffer) {\n  for (var i = 0, l = this.data.length; i < l; i++) {\n    bitBuffer.put(this.data[i], 8);\n  }\n};\n\nvar byteData = ByteData;\n\nfunction KanjiData(data) {\n  this.mode = mode.KANJI;\n  this.data = data;\n}\n\nKanjiData.getBitsLength = function getBitsLength(length) {\n  return length * 13;\n};\n\nKanjiData.prototype.getLength = function getLength() {\n  return this.data.length;\n};\n\nKanjiData.prototype.getBitsLength = function getBitsLength() {\n  return KanjiData.getBitsLength(this.data.length);\n};\n\nKanjiData.prototype.write = function (bitBuffer) {\n  var i; // In the Shift JIS system, Kanji characters are represented by a two byte combination.\n  // These byte values are shifted from the JIS X 0208 values.\n  // JIS X 0208 gives details of the shift coded representation.\n\n  for (i = 0; i < this.data.length; i++) {\n    var value = utils.toSJIS(this.data[i]); // For characters with Shift JIS values from 0x8140 to 0x9FFC:\n\n    if (value >= 0x8140 && value <= 0x9FFC) {\n      // Subtract 0x8140 from Shift JIS value\n      value -= 0x8140; // For characters with Shift JIS values from 0xE040 to 0xEBBF\n    } else if (value >= 0xE040 && value <= 0xEBBF) {\n      // Subtract 0xC140 from Shift JIS value\n      value -= 0xC140;\n    } else {\n      throw new Error('Invalid SJIS character: ' + this.data[i] + '\\n' + 'Make sure your charset is UTF-8');\n    } // Multiply most significant byte of result by 0xC0\n    // and add least significant byte to product\n\n\n    value = (value >>> 8 & 0xff) * 0xC0 + (value & 0xff); // Convert result to a 13-bit binary string\n\n    bitBuffer.put(value, 13);\n  }\n};\n\nvar kanjiData = KanjiData;\nvar dijkstra_1 = createCommonjsModule(function (module) {\n  /******************************************************************************\n   * Created 2008-08-19.\n   *\n   * Dijkstra path-finding functions. Adapted from the Dijkstar Python project.\n   *\n   * Copyright (C) 2008\n   *   Wyatt Baldwin <self@wyattbaldwin.com>\n   *   All rights reserved\n   *\n   * Licensed under the MIT license.\n   *\n   *   http://www.opensource.org/licenses/mit-license.php\n   *\n   * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n   * THE SOFTWARE.\n   *****************************************************************************/\n  var dijkstra = {\n    single_source_shortest_paths: function single_source_shortest_paths(graph, s, d) {\n      // Predecessor map for each node that has been encountered.\n      // node ID => predecessor node ID\n      var predecessors = {}; // Costs of shortest paths from s to all nodes encountered.\n      // node ID => cost\n\n      var costs = {};\n      costs[s] = 0; // Costs of shortest paths from s to all nodes encountered; differs from\n      // `costs` in that it provides easy access to the node that currently has\n      // the known shortest path from s.\n      // XXX: Do we actually need both `costs` and `open`?\n\n      var open = dijkstra.PriorityQueue.make();\n      open.push(s, 0);\n      var closest, u, v, cost_of_s_to_u, adjacent_nodes, cost_of_e, cost_of_s_to_u_plus_cost_of_e, cost_of_s_to_v, first_visit;\n\n      while (!open.empty()) {\n        // In the nodes remaining in graph that have a known cost from s,\n        // find the node, u, that currently has the shortest path from s.\n        closest = open.pop();\n        u = closest.value;\n        cost_of_s_to_u = closest.cost; // Get nodes adjacent to u...\n\n        adjacent_nodes = graph[u] || {}; // ...and explore the edges that connect u to those nodes, updating\n        // the cost of the shortest paths to any or all of those nodes as\n        // necessary. v is the node across the current edge from u.\n\n        for (v in adjacent_nodes) {\n          if (adjacent_nodes.hasOwnProperty(v)) {\n            // Get the cost of the edge running from u to v.\n            cost_of_e = adjacent_nodes[v]; // Cost of s to u plus the cost of u to v across e--this is *a*\n            // cost from s to v that may or may not be less than the current\n            // known cost to v.\n\n            cost_of_s_to_u_plus_cost_of_e = cost_of_s_to_u + cost_of_e; // If we haven't visited v yet OR if the current known cost from s to\n            // v is greater than the new cost we just found (cost of s to u plus\n            // cost of u to v across e), update v's cost in the cost list and\n            // update v's predecessor in the predecessor list (it's now u).\n\n            cost_of_s_to_v = costs[v];\n            first_visit = typeof costs[v] === 'undefined';\n\n            if (first_visit || cost_of_s_to_v > cost_of_s_to_u_plus_cost_of_e) {\n              costs[v] = cost_of_s_to_u_plus_cost_of_e;\n              open.push(v, cost_of_s_to_u_plus_cost_of_e);\n              predecessors[v] = u;\n            }\n          }\n        }\n      }\n\n      if (typeof d !== 'undefined' && typeof costs[d] === 'undefined') {\n        var msg = ['Could not find a path from ', s, ' to ', d, '.'].join('');\n        throw new Error(msg);\n      }\n\n      return predecessors;\n    },\n    extract_shortest_path_from_predecessor_list: function extract_shortest_path_from_predecessor_list(predecessors, d) {\n      var nodes = [];\n      var u = d;\n\n      while (u) {\n        nodes.push(u);\n        u = predecessors[u];\n      }\n\n      nodes.reverse();\n      return nodes;\n    },\n    find_path: function find_path(graph, s, d) {\n      var predecessors = dijkstra.single_source_shortest_paths(graph, s, d);\n      return dijkstra.extract_shortest_path_from_predecessor_list(predecessors, d);\n    },\n\n    /**\n     * A very naive priority queue implementation.\n     */\n    PriorityQueue: {\n      make: function make(opts) {\n        var T = dijkstra.PriorityQueue,\n            t = {},\n            key;\n        opts = opts || {};\n\n        for (key in T) {\n          if (T.hasOwnProperty(key)) {\n            t[key] = T[key];\n          }\n        }\n\n        t.queue = [];\n        t.sorter = opts.sorter || T.default_sorter;\n        return t;\n      },\n      default_sorter: function default_sorter(a, b) {\n        return a.cost - b.cost;\n      },\n\n      /**\n       * Add a new item to the queue and ensure the highest priority element\n       * is at the front of the queue.\n       */\n      push: function push(value, cost) {\n        var item = {\n          value: value,\n          cost: cost\n        };\n        this.queue.push(item);\n        this.queue.sort(this.sorter);\n      },\n\n      /**\n       * Return the highest priority element in the queue.\n       */\n      pop: function pop() {\n        return this.queue.shift();\n      },\n      empty: function empty() {\n        return this.queue.length === 0;\n      }\n    }\n  }; // node.js module exports\n\n  {\n    module.exports = dijkstra;\n  }\n});\nvar segments = createCommonjsModule(function (module, exports) {\n  /**\n   * Returns UTF8 byte length\n   *\n   * @param  {String} str Input string\n   * @return {Number}     Number of byte\n   */\n  function getStringByteLength(str) {\n    return unescape(encodeURIComponent(str)).length;\n  }\n  /**\n   * Get a list of segments of the specified mode\n   * from a string\n   *\n   * @param  {Mode}   mode Segment mode\n   * @param  {String} str  String to process\n   * @return {Array}       Array of object with segments data\n   */\n\n\n  function getSegments(regex, mode, str) {\n    var segments = [];\n    var result;\n\n    while ((result = regex.exec(str)) !== null) {\n      segments.push({\n        data: result[0],\n        index: result.index,\n        mode: mode,\n        length: result[0].length\n      });\n    }\n\n    return segments;\n  }\n  /**\n   * Extracts a series of segments with the appropriate\n   * modes from a string\n   *\n   * @param  {String} dataStr Input string\n   * @return {Array}          Array of object with segments data\n   */\n\n\n  function getSegmentsFromString(dataStr) {\n    var numSegs = getSegments(regex.NUMERIC, mode.NUMERIC, dataStr);\n    var alphaNumSegs = getSegments(regex.ALPHANUMERIC, mode.ALPHANUMERIC, dataStr);\n    var byteSegs;\n    var kanjiSegs;\n\n    if (utils.isKanjiModeEnabled()) {\n      byteSegs = getSegments(regex.BYTE, mode.BYTE, dataStr);\n      kanjiSegs = getSegments(regex.KANJI, mode.KANJI, dataStr);\n    } else {\n      byteSegs = getSegments(regex.BYTE_KANJI, mode.BYTE, dataStr);\n      kanjiSegs = [];\n    }\n\n    var segs = numSegs.concat(alphaNumSegs, byteSegs, kanjiSegs);\n    return segs.sort(function (s1, s2) {\n      return s1.index - s2.index;\n    }).map(function (obj) {\n      return {\n        data: obj.data,\n        mode: obj.mode,\n        length: obj.length\n      };\n    });\n  }\n  /**\n   * Returns how many bits are needed to encode a string of\n   * specified length with the specified mode\n   *\n   * @param  {Number} length String length\n   * @param  {Mode} mode     Segment mode\n   * @return {Number}        Bit length\n   */\n\n\n  function getSegmentBitsLength(length, mode$1) {\n    switch (mode$1) {\n      case mode.NUMERIC:\n        return numericData.getBitsLength(length);\n\n      case mode.ALPHANUMERIC:\n        return alphanumericData.getBitsLength(length);\n\n      case mode.KANJI:\n        return kanjiData.getBitsLength(length);\n\n      case mode.BYTE:\n        return byteData.getBitsLength(length);\n    }\n  }\n  /**\n   * Merges adjacent segments which have the same mode\n   *\n   * @param  {Array} segs Array of object with segments data\n   * @return {Array}      Array of object with segments data\n   */\n\n\n  function mergeSegments(segs) {\n    return segs.reduce(function (acc, curr) {\n      var prevSeg = acc.length - 1 >= 0 ? acc[acc.length - 1] : null;\n\n      if (prevSeg && prevSeg.mode === curr.mode) {\n        acc[acc.length - 1].data += curr.data;\n        return acc;\n      }\n\n      acc.push(curr);\n      return acc;\n    }, []);\n  }\n  /**\n   * Generates a list of all possible nodes combination which\n   * will be used to build a segments graph.\n   *\n   * Nodes are divided by groups. Each group will contain a list of all the modes\n   * in which is possible to encode the given text.\n   *\n   * For example the text '12345' can be encoded as Numeric, Alphanumeric or Byte.\n   * The group for '12345' will contain then 3 objects, one for each\n   * possible encoding mode.\n   *\n   * Each node represents a possible segment.\n   *\n   * @param  {Array} segs Array of object with segments data\n   * @return {Array}      Array of object with segments data\n   */\n\n\n  function buildNodes(segs) {\n    var nodes = [];\n\n    for (var i = 0; i < segs.length; i++) {\n      var seg = segs[i];\n\n      switch (seg.mode) {\n        case mode.NUMERIC:\n          nodes.push([seg, {\n            data: seg.data,\n            mode: mode.ALPHANUMERIC,\n            length: seg.length\n          }, {\n            data: seg.data,\n            mode: mode.BYTE,\n            length: seg.length\n          }]);\n          break;\n\n        case mode.ALPHANUMERIC:\n          nodes.push([seg, {\n            data: seg.data,\n            mode: mode.BYTE,\n            length: seg.length\n          }]);\n          break;\n\n        case mode.KANJI:\n          nodes.push([seg, {\n            data: seg.data,\n            mode: mode.BYTE,\n            length: getStringByteLength(seg.data)\n          }]);\n          break;\n\n        case mode.BYTE:\n          nodes.push([{\n            data: seg.data,\n            mode: mode.BYTE,\n            length: getStringByteLength(seg.data)\n          }]);\n      }\n    }\n\n    return nodes;\n  }\n  /**\n   * Builds a graph from a list of nodes.\n   * All segments in each node group will be connected with all the segments of\n   * the next group and so on.\n   *\n   * At each connection will be assigned a weight depending on the\n   * segment's byte length.\n   *\n   * @param  {Array} nodes    Array of object with segments data\n   * @param  {Number} version QR Code version\n   * @return {Object}         Graph of all possible segments\n   */\n\n\n  function buildGraph(nodes, version) {\n    var table = {};\n    var graph = {\n      'start': {}\n    };\n    var prevNodeIds = ['start'];\n\n    for (var i = 0; i < nodes.length; i++) {\n      var nodeGroup = nodes[i];\n      var currentNodeIds = [];\n\n      for (var j = 0; j < nodeGroup.length; j++) {\n        var node = nodeGroup[j];\n        var key = '' + i + j;\n        currentNodeIds.push(key);\n        table[key] = {\n          node: node,\n          lastCount: 0\n        };\n        graph[key] = {};\n\n        for (var n = 0; n < prevNodeIds.length; n++) {\n          var prevNodeId = prevNodeIds[n];\n\n          if (table[prevNodeId] && table[prevNodeId].node.mode === node.mode) {\n            graph[prevNodeId][key] = getSegmentBitsLength(table[prevNodeId].lastCount + node.length, node.mode) - getSegmentBitsLength(table[prevNodeId].lastCount, node.mode);\n            table[prevNodeId].lastCount += node.length;\n          } else {\n            if (table[prevNodeId]) table[prevNodeId].lastCount = node.length;\n            graph[prevNodeId][key] = getSegmentBitsLength(node.length, node.mode) + 4 + mode.getCharCountIndicator(node.mode, version); // switch cost\n          }\n        }\n      }\n\n      prevNodeIds = currentNodeIds;\n    }\n\n    for (n = 0; n < prevNodeIds.length; n++) {\n      graph[prevNodeIds[n]]['end'] = 0;\n    }\n\n    return {\n      map: graph,\n      table: table\n    };\n  }\n  /**\n   * Builds a segment from a specified data and mode.\n   * If a mode is not specified, the more suitable will be used.\n   *\n   * @param  {String} data             Input data\n   * @param  {Mode | String} modesHint Data mode\n   * @return {Segment}                 Segment\n   */\n\n\n  function buildSingleSegment(data, modesHint) {\n    var mode$1;\n    var bestMode = mode.getBestModeForData(data);\n    mode$1 = mode.from(modesHint, bestMode); // Make sure data can be encoded\n\n    if (mode$1 !== mode.BYTE && mode$1.bit < bestMode.bit) {\n      throw new Error('\"' + data + '\"' + ' cannot be encoded with mode ' + mode.toString(mode$1) + '.\\n Suggested mode is: ' + mode.toString(bestMode));\n    } // Use Mode.BYTE if Kanji support is disabled\n\n\n    if (mode$1 === mode.KANJI && !utils.isKanjiModeEnabled()) {\n      mode$1 = mode.BYTE;\n    }\n\n    switch (mode$1) {\n      case mode.NUMERIC:\n        return new numericData(data);\n\n      case mode.ALPHANUMERIC:\n        return new alphanumericData(data);\n\n      case mode.KANJI:\n        return new kanjiData(data);\n\n      case mode.BYTE:\n        return new byteData(data);\n    }\n  }\n  /**\n   * Builds a list of segments from an array.\n   * Array can contain Strings or Objects with segment's info.\n   *\n   * For each item which is a string, will be generated a segment with the given\n   * string and the more appropriate encoding mode.\n   *\n   * For each item which is an object, will be generated a segment with the given\n   * data and mode.\n   * Objects must contain at least the property \"data\".\n   * If property \"mode\" is not present, the more suitable mode will be used.\n   *\n   * @param  {Array} array Array of objects with segments data\n   * @return {Array}       Array of Segments\n   */\n\n\n  exports.fromArray = function fromArray(array) {\n    return array.reduce(function (acc, seg) {\n      if (typeof seg === 'string') {\n        acc.push(buildSingleSegment(seg, null));\n      } else if (seg.data) {\n        acc.push(buildSingleSegment(seg.data, seg.mode));\n      }\n\n      return acc;\n    }, []);\n  };\n  /**\n   * Builds an optimized sequence of segments from a string,\n   * which will produce the shortest possible bitstream.\n   *\n   * @param  {String} data    Input string\n   * @param  {Number} version QR Code version\n   * @return {Array}          Array of segments\n   */\n\n\n  exports.fromString = function fromString(data, version) {\n    var segs = getSegmentsFromString(data, utils.isKanjiModeEnabled());\n    var nodes = buildNodes(segs);\n    var graph = buildGraph(nodes, version);\n    var path = dijkstra_1.find_path(graph.map, 'start', 'end');\n    var optimizedSegs = [];\n\n    for (var i = 1; i < path.length - 1; i++) {\n      optimizedSegs.push(graph.table[path[i]].node);\n    }\n\n    return exports.fromArray(mergeSegments(optimizedSegs));\n  };\n  /**\n   * Splits a string in various segments with the modes which\n   * best represent their content.\n   * The produced segments are far from being optimized.\n   * The output of this function is only used to estimate a QR Code version\n   * which may contain the data.\n   *\n   * @param  {string} data Input string\n   * @return {Array}       Array of segments\n   */\n\n\n  exports.rawSplit = function rawSplit(data) {\n    return exports.fromArray(getSegmentsFromString(data, utils.isKanjiModeEnabled()));\n  };\n});\n/**\n * QRCode for JavaScript\n *\n * modified by Ryan Day for nodejs support\n * Copyright (c) 2011 Ryan Day\n *\n * Licensed under the MIT license:\n *   http://www.opensource.org/licenses/mit-license.php\n *\n//---------------------------------------------------------------------\n// QRCode for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//   http://www.opensource.org/licenses/mit-license.php\n//\n// The word \"QR Code\" is registered trademark of\n// DENSO WAVE INCORPORATED\n//   http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\n*/\n\n/**\n * Add finder patterns bits to matrix\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\n\nfunction setupFinderPattern(matrix, version) {\n  var size = matrix.size;\n  var pos = finderPattern.getPositions(version);\n\n  for (var i = 0; i < pos.length; i++) {\n    var row = pos[i][0];\n    var col = pos[i][1];\n\n    for (var r = -1; r <= 7; r++) {\n      if (row + r <= -1 || size <= row + r) continue;\n\n      for (var c = -1; c <= 7; c++) {\n        if (col + c <= -1 || size <= col + c) continue;\n\n        if (r >= 0 && r <= 6 && (c === 0 || c === 6) || c >= 0 && c <= 6 && (r === 0 || r === 6) || r >= 2 && r <= 4 && c >= 2 && c <= 4) {\n          matrix.set(row + r, col + c, true, true);\n        } else {\n          matrix.set(row + r, col + c, false, true);\n        }\n      }\n    }\n  }\n}\n/**\n * Add timing pattern bits to matrix\n *\n * Note: this function must be called before {@link setupAlignmentPattern}\n *\n * @param  {BitMatrix} matrix Modules matrix\n */\n\n\nfunction setupTimingPattern(matrix) {\n  var size = matrix.size;\n\n  for (var r = 8; r < size - 8; r++) {\n    var value = r % 2 === 0;\n    matrix.set(r, 6, value, true);\n    matrix.set(6, r, value, true);\n  }\n}\n/**\n * Add alignment patterns bits to matrix\n *\n * Note: this function must be called after {@link setupTimingPattern}\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\n\n\nfunction setupAlignmentPattern(matrix, version) {\n  var pos = alignmentPattern.getPositions(version);\n\n  for (var i = 0; i < pos.length; i++) {\n    var row = pos[i][0];\n    var col = pos[i][1];\n\n    for (var r = -2; r <= 2; r++) {\n      for (var c = -2; c <= 2; c++) {\n        if (r === -2 || r === 2 || c === -2 || c === 2 || r === 0 && c === 0) {\n          matrix.set(row + r, col + c, true, true);\n        } else {\n          matrix.set(row + r, col + c, false, true);\n        }\n      }\n    }\n  }\n}\n/**\n * Add version info bits to matrix\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\n\n\nfunction setupVersionInfo(matrix, version$1) {\n  var size = matrix.size;\n  var bits = version.getEncodedBits(version$1);\n  var row, col, mod;\n\n  for (var i = 0; i < 18; i++) {\n    row = Math.floor(i / 3);\n    col = i % 3 + size - 8 - 3;\n    mod = (bits >> i & 1) === 1;\n    matrix.set(row, col, mod, true);\n    matrix.set(col, row, mod, true);\n  }\n}\n/**\n * Add format info bits to matrix\n *\n * @param  {BitMatrix} matrix               Modules matrix\n * @param  {ErrorCorrectionLevel}    errorCorrectionLevel Error correction level\n * @param  {Number}    maskPattern          Mask pattern reference value\n */\n\n\nfunction setupFormatInfo(matrix, errorCorrectionLevel, maskPattern) {\n  var size = matrix.size;\n  var bits = formatInfo.getEncodedBits(errorCorrectionLevel, maskPattern);\n  var i, mod;\n\n  for (i = 0; i < 15; i++) {\n    mod = (bits >> i & 1) === 1; // vertical\n\n    if (i < 6) {\n      matrix.set(i, 8, mod, true);\n    } else if (i < 8) {\n      matrix.set(i + 1, 8, mod, true);\n    } else {\n      matrix.set(size - 15 + i, 8, mod, true);\n    } // horizontal\n\n\n    if (i < 8) {\n      matrix.set(8, size - i - 1, mod, true);\n    } else if (i < 9) {\n      matrix.set(8, 15 - i - 1 + 1, mod, true);\n    } else {\n      matrix.set(8, 15 - i - 1, mod, true);\n    }\n  } // fixed module\n\n\n  matrix.set(size - 8, 8, 1, true);\n}\n/**\n * Add encoded data bits to matrix\n *\n * @param  {BitMatrix} matrix Modules matrix\n * @param  {Buffer}    data   Data codewords\n */\n\n\nfunction setupData(matrix, data) {\n  var size = matrix.size;\n  var inc = -1;\n  var row = size - 1;\n  var bitIndex = 7;\n  var byteIndex = 0;\n\n  for (var col = size - 1; col > 0; col -= 2) {\n    if (col === 6) col--;\n\n    while (true) {\n      for (var c = 0; c < 2; c++) {\n        if (!matrix.isReserved(row, col - c)) {\n          var dark = false;\n\n          if (byteIndex < data.length) {\n            dark = (data[byteIndex] >>> bitIndex & 1) === 1;\n          }\n\n          matrix.set(row, col - c, dark);\n          bitIndex--;\n\n          if (bitIndex === -1) {\n            byteIndex++;\n            bitIndex = 7;\n          }\n        }\n      }\n\n      row += inc;\n\n      if (row < 0 || size <= row) {\n        row -= inc;\n        inc = -inc;\n        break;\n      }\n    }\n  }\n}\n/**\n * Create encoded codewords from data input\n *\n * @param  {Number}   version              QR Code version\n * @param  {ErrorCorrectionLevel}   errorCorrectionLevel Error correction level\n * @param  {ByteData} data                 Data input\n * @return {Buffer}                        Buffer containing encoded codewords\n */\n\n\nfunction createData(version, errorCorrectionLevel, segments) {\n  // Prepare data buffer\n  var buffer = new bitBuffer();\n  segments.forEach(function (data) {\n    // prefix data with mode indicator (4 bits)\n    buffer.put(data.mode.bit, 4); // Prefix data with character count indicator.\n    // The character count indicator is a string of bits that represents the\n    // number of characters that are being encoded.\n    // The character count indicator must be placed after the mode indicator\n    // and must be a certain number of bits long, depending on the QR version\n    // and data mode\n    // @see {@link Mode.getCharCountIndicator}.\n\n    buffer.put(data.getLength(), mode.getCharCountIndicator(data.mode, version)); // add binary data sequence to buffer\n\n    data.write(buffer);\n  }); // Calculate required number of bits\n\n  var totalCodewords = utils.getSymbolTotalCodewords(version);\n  var ecTotalCodewords = errorCorrectionCode.getTotalCodewordsCount(version, errorCorrectionLevel);\n  var dataTotalCodewordsBits = (totalCodewords - ecTotalCodewords) * 8; // Add a terminator.\n  // If the bit string is shorter than the total number of required bits,\n  // a terminator of up to four 0s must be added to the right side of the string.\n  // If the bit string is more than four bits shorter than the required number of bits,\n  // add four 0s to the end.\n\n  if (buffer.getLengthInBits() + 4 <= dataTotalCodewordsBits) {\n    buffer.put(0, 4);\n  } // If the bit string is fewer than four bits shorter, add only the number of 0s that\n  // are needed to reach the required number of bits.\n  // After adding the terminator, if the number of bits in the string is not a multiple of 8,\n  // pad the string on the right with 0s to make the string's length a multiple of 8.\n\n\n  while (buffer.getLengthInBits() % 8 !== 0) {\n    buffer.putBit(0);\n  } // Add pad bytes if the string is still shorter than the total number of required bits.\n  // Extend the buffer to fill the data capacity of the symbol corresponding to\n  // the Version and Error Correction Level by adding the Pad Codewords 11101100 (0xEC)\n  // and 00010001 (0x11) alternately.\n\n\n  var remainingByte = (dataTotalCodewordsBits - buffer.getLengthInBits()) / 8;\n\n  for (var i = 0; i < remainingByte; i++) {\n    buffer.put(i % 2 ? 0x11 : 0xEC, 8);\n  }\n\n  return createCodewords(buffer, version, errorCorrectionLevel);\n}\n/**\n * Encode input data with Reed-Solomon and return codewords with\n * relative error correction bits\n *\n * @param  {BitBuffer} bitBuffer            Data to encode\n * @param  {Number}    version              QR Code version\n * @param  {ErrorCorrectionLevel} errorCorrectionLevel Error correction level\n * @return {Buffer}                         Buffer containing encoded codewords\n */\n\n\nfunction createCodewords(bitBuffer, version, errorCorrectionLevel) {\n  // Total codewords for this QR code version (Data + Error correction)\n  var totalCodewords = utils.getSymbolTotalCodewords(version); // Total number of error correction codewords\n\n  var ecTotalCodewords = errorCorrectionCode.getTotalCodewordsCount(version, errorCorrectionLevel); // Total number of data codewords\n\n  var dataTotalCodewords = totalCodewords - ecTotalCodewords; // Total number of blocks\n\n  var ecTotalBlocks = errorCorrectionCode.getBlocksCount(version, errorCorrectionLevel); // Calculate how many blocks each group should contain\n\n  var blocksInGroup2 = totalCodewords % ecTotalBlocks;\n  var blocksInGroup1 = ecTotalBlocks - blocksInGroup2;\n  var totalCodewordsInGroup1 = Math.floor(totalCodewords / ecTotalBlocks);\n  var dataCodewordsInGroup1 = Math.floor(dataTotalCodewords / ecTotalBlocks);\n  var dataCodewordsInGroup2 = dataCodewordsInGroup1 + 1; // Number of EC codewords is the same for both groups\n\n  var ecCount = totalCodewordsInGroup1 - dataCodewordsInGroup1; // Initialize a Reed-Solomon encoder with a generator polynomial of degree ecCount\n\n  var rs = new reedSolomonEncoder(ecCount);\n  var offset = 0;\n  var dcData = new Array(ecTotalBlocks);\n  var ecData = new Array(ecTotalBlocks);\n  var maxDataSize = 0;\n  var buffer = typedarrayBuffer.from(bitBuffer.buffer); // Divide the buffer into the required number of blocks\n\n  for (var b = 0; b < ecTotalBlocks; b++) {\n    var dataSize = b < blocksInGroup1 ? dataCodewordsInGroup1 : dataCodewordsInGroup2; // extract a block of data from buffer\n\n    dcData[b] = buffer.slice(offset, offset + dataSize); // Calculate EC codewords for this data block\n\n    ecData[b] = rs.encode(dcData[b]);\n    offset += dataSize;\n    maxDataSize = Math.max(maxDataSize, dataSize);\n  } // Create final data\n  // Interleave the data and error correction codewords from each block\n\n\n  var data = typedarrayBuffer.alloc(totalCodewords);\n  var index = 0;\n  var i, r; // Add data codewords\n\n  for (i = 0; i < maxDataSize; i++) {\n    for (r = 0; r < ecTotalBlocks; r++) {\n      if (i < dcData[r].length) {\n        data[index++] = dcData[r][i];\n      }\n    }\n  } // Apped EC codewords\n\n\n  for (i = 0; i < ecCount; i++) {\n    for (r = 0; r < ecTotalBlocks; r++) {\n      data[index++] = ecData[r][i];\n    }\n  }\n\n  return data;\n}\n/**\n * Build QR Code symbol\n *\n * @param  {String} data                 Input string\n * @param  {Number} version              QR Code version\n * @param  {ErrorCorretionLevel} errorCorrectionLevel Error level\n * @param  {MaskPattern} maskPattern     Mask pattern\n * @return {Object}                      Object containing symbol data\n */\n\n\nfunction createSymbol(data, version$1, errorCorrectionLevel, maskPattern$1) {\n  var segments$1;\n\n  if (isarray(data)) {\n    segments$1 = segments.fromArray(data);\n  } else if (typeof data === 'string') {\n    var estimatedVersion = version$1;\n\n    if (!estimatedVersion) {\n      var rawSegments = segments.rawSplit(data); // Estimate best version that can contain raw splitted segments\n\n      estimatedVersion = version.getBestVersionForData(rawSegments, errorCorrectionLevel);\n    } // Build optimized segments\n    // If estimated version is undefined, try with the highest version\n\n\n    segments$1 = segments.fromString(data, estimatedVersion || 40);\n  } else {\n    throw new Error('Invalid data');\n  } // Get the min version that can contain data\n\n\n  var bestVersion = version.getBestVersionForData(segments$1, errorCorrectionLevel); // If no version is found, data cannot be stored\n\n  if (!bestVersion) {\n    throw new Error('The amount of data is too big to be stored in a QR Code');\n  } // If not specified, use min version as default\n\n\n  if (!version$1) {\n    version$1 = bestVersion; // Check if the specified version can contain the data\n  } else if (version$1 < bestVersion) {\n    throw new Error('\\n' + 'The chosen QR Code version cannot contain this amount of data.\\n' + 'Minimum version required to store current data is: ' + bestVersion + '.\\n');\n  }\n\n  var dataBits = createData(version$1, errorCorrectionLevel, segments$1); // Allocate matrix buffer\n\n  var moduleCount = utils.getSymbolSize(version$1);\n  var modules = new bitMatrix(moduleCount); // Add function modules\n\n  setupFinderPattern(modules, version$1);\n  setupTimingPattern(modules);\n  setupAlignmentPattern(modules, version$1); // Add temporary dummy bits for format info just to set them as reserved.\n  // This is needed to prevent these bits from being masked by {@link MaskPattern.applyMask}\n  // since the masking operation must be performed only on the encoding region.\n  // These blocks will be replaced with correct values later in code.\n\n  setupFormatInfo(modules, errorCorrectionLevel, 0);\n\n  if (version$1 >= 7) {\n    setupVersionInfo(modules, version$1);\n  } // Add data codewords\n\n\n  setupData(modules, dataBits);\n\n  if (isNaN(maskPattern$1)) {\n    // Find best mask pattern\n    maskPattern$1 = maskPattern.getBestMask(modules, setupFormatInfo.bind(null, modules, errorCorrectionLevel));\n  } // Apply mask pattern\n\n\n  maskPattern.applyMask(maskPattern$1, modules); // Replace format info bits with correct values\n\n  setupFormatInfo(modules, errorCorrectionLevel, maskPattern$1);\n  return {\n    modules: modules,\n    version: version$1,\n    errorCorrectionLevel: errorCorrectionLevel,\n    maskPattern: maskPattern$1,\n    segments: segments$1\n  };\n}\n/**\n * QR Code\n *\n * @param {String | Array} data                 Input data\n * @param {Object} options                      Optional configurations\n * @param {Number} options.version              QR Code version\n * @param {String} options.errorCorrectionLevel Error correction level\n * @param {Function} options.toSJISFunc         Helper func to convert utf8 to sjis\n */\n\n\nvar create = function create(data, options) {\n  if (typeof data === 'undefined' || data === '') {\n    throw new Error('No input text');\n  }\n\n  var errorCorrectionLevel$1 = errorCorrectionLevel.M;\n  var version$1;\n  var mask;\n\n  if (typeof options !== 'undefined') {\n    // Use higher error correction level as default\n    errorCorrectionLevel$1 = errorCorrectionLevel.from(options.errorCorrectionLevel, errorCorrectionLevel.M);\n    version$1 = version.from(options.version);\n    mask = maskPattern.from(options.maskPattern);\n\n    if (options.toSJISFunc) {\n      utils.setToSJISFunction(options.toSJISFunc);\n    }\n  }\n\n  return createSymbol(data, version$1, errorCorrectionLevel$1, mask);\n};\n\nvar qrcode = {\n  create: create\n};\nvar utils$1 = createCommonjsModule(function (module, exports) {\n  function hex2rgba(hex) {\n    if (typeof hex === 'number') {\n      hex = hex.toString();\n    }\n\n    if (typeof hex !== 'string') {\n      throw new Error('Color should be defined as hex string');\n    }\n\n    var hexCode = hex.slice().replace('#', '').split('');\n\n    if (hexCode.length < 3 || hexCode.length === 5 || hexCode.length > 8) {\n      throw new Error('Invalid hex color: ' + hex);\n    } // Convert from short to long form (fff -> ffffff)\n\n\n    if (hexCode.length === 3 || hexCode.length === 4) {\n      hexCode = Array.prototype.concat.apply([], hexCode.map(function (c) {\n        return [c, c];\n      }));\n    } // Add default alpha value\n\n\n    if (hexCode.length === 6) hexCode.push('F', 'F');\n    var hexValue = parseInt(hexCode.join(''), 16);\n    return {\n      r: hexValue >> 24 & 255,\n      g: hexValue >> 16 & 255,\n      b: hexValue >> 8 & 255,\n      a: hexValue & 255,\n      hex: '#' + hexCode.slice(0, 6).join('')\n    };\n  }\n\n  exports.getOptions = function getOptions(options) {\n    if (!options) options = {};\n    if (!options.color) options.color = {};\n    var margin = typeof options.margin === 'undefined' || options.margin === null || options.margin < 0 ? 4 : options.margin;\n    var width = options.width && options.width >= 21 ? options.width : undefined;\n    var scale = options.scale || 4;\n    return {\n      width: width,\n      scale: width ? 4 : scale,\n      margin: margin,\n      color: {\n        dark: hex2rgba(options.color.dark || '#000000ff'),\n        light: hex2rgba(options.color.light || '#ffffffff')\n      },\n      type: options.type,\n      rendererOpts: options.rendererOpts || {}\n    };\n  };\n\n  exports.getScale = function getScale(qrSize, opts) {\n    return opts.width && opts.width >= qrSize + opts.margin * 2 ? opts.width / (qrSize + opts.margin * 2) : opts.scale;\n  };\n\n  exports.getImageWidth = function getImageWidth(qrSize, opts) {\n    var scale = exports.getScale(qrSize, opts);\n    return Math.floor((qrSize + opts.margin * 2) * scale);\n  };\n\n  exports.qrToImageData = function qrToImageData(imgData, qr, opts) {\n    var size = qr.modules.size;\n    var data = qr.modules.data;\n    var scale = exports.getScale(size, opts);\n    var symbolSize = Math.floor((size + opts.margin * 2) * scale);\n    var scaledMargin = opts.margin * scale;\n    var palette = [opts.color.light, opts.color.dark];\n\n    for (var i = 0; i < symbolSize; i++) {\n      for (var j = 0; j < symbolSize; j++) {\n        var posDst = (i * symbolSize + j) * 4;\n        var pxColor = opts.color.light;\n\n        if (i >= scaledMargin && j >= scaledMargin && i < symbolSize - scaledMargin && j < symbolSize - scaledMargin) {\n          var iSrc = Math.floor((i - scaledMargin) / scale);\n          var jSrc = Math.floor((j - scaledMargin) / scale);\n          pxColor = palette[data[iSrc * size + jSrc] ? 1 : 0];\n        }\n\n        imgData[posDst++] = pxColor.r;\n        imgData[posDst++] = pxColor.g;\n        imgData[posDst++] = pxColor.b;\n        imgData[posDst] = pxColor.a;\n      }\n    }\n  };\n});\nvar canvas = createCommonjsModule(function (module, exports) {\n  function clearCanvas(ctx, canvas, size) {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    if (!canvas.style) canvas.style = {};\n    canvas.height = size;\n    canvas.width = size;\n    canvas.style.height = size + 'px';\n    canvas.style.width = size + 'px';\n  }\n\n  function getCanvasElement() {\n    try {\n      return document.createElement('canvas');\n    } catch (e) {\n      throw new Error('You need to specify a canvas element');\n    }\n  }\n\n  exports.render = function render(qrData, canvas, options) {\n    var opts = options;\n    var canvasEl = canvas;\n\n    if (typeof opts === 'undefined' && (!canvas || !canvas.getContext)) {\n      opts = canvas;\n      canvas = undefined;\n    }\n\n    if (!canvas) {\n      canvasEl = getCanvasElement();\n    }\n\n    opts = utils$1.getOptions(opts);\n    var size = utils$1.getImageWidth(qrData.modules.size, opts);\n    var ctx = canvasEl.getContext('2d');\n    var image = ctx.createImageData(size, size);\n    utils$1.qrToImageData(image.data, qrData, opts);\n    clearCanvas(ctx, canvasEl, size);\n    ctx.putImageData(image, 0, 0);\n    return canvasEl;\n  };\n\n  exports.renderToDataURL = function renderToDataURL(qrData, canvas, options) {\n    var opts = options;\n\n    if (typeof opts === 'undefined' && (!canvas || !canvas.getContext)) {\n      opts = canvas;\n      canvas = undefined;\n    }\n\n    if (!opts) opts = {};\n    var canvasEl = exports.render(qrData, canvas, opts);\n    var type = opts.type || 'image/png';\n    var rendererOpts = opts.rendererOpts || {};\n    return canvasEl.toDataURL(type, rendererOpts.quality);\n  };\n});\n\nfunction getColorAttrib(color, attrib) {\n  var alpha = color.a / 255;\n  var str = attrib + '=\"' + color.hex + '\"';\n  return alpha < 1 ? str + ' ' + attrib + '-opacity=\"' + alpha.toFixed(2).slice(1) + '\"' : str;\n}\n\nfunction svgCmd(cmd, x, y) {\n  var str = cmd + x;\n  if (typeof y !== 'undefined') str += ' ' + y;\n  return str;\n}\n\nfunction qrToPath(data, size, margin) {\n  var path = '';\n  var moveBy = 0;\n  var newRow = false;\n  var lineLength = 0;\n\n  for (var i = 0; i < data.length; i++) {\n    var col = Math.floor(i % size);\n    var row = Math.floor(i / size);\n    if (!col && !newRow) newRow = true;\n\n    if (data[i]) {\n      lineLength++;\n\n      if (!(i > 0 && col > 0 && data[i - 1])) {\n        path += newRow ? svgCmd('M', col + margin, 0.5 + row + margin) : svgCmd('m', moveBy, 0);\n        moveBy = 0;\n        newRow = false;\n      }\n\n      if (!(col + 1 < size && data[i + 1])) {\n        path += svgCmd('h', lineLength);\n        lineLength = 0;\n      }\n    } else {\n      moveBy++;\n    }\n  }\n\n  return path;\n}\n\nvar render = function render(qrData, options, cb) {\n  var opts = utils$1.getOptions(options);\n  var size = qrData.modules.size;\n  var data = qrData.modules.data;\n  var qrcodesize = size + opts.margin * 2;\n  var bg = !opts.color.light.a ? '' : '<path ' + getColorAttrib(opts.color.light, 'fill') + ' d=\"M0 0h' + qrcodesize + 'v' + qrcodesize + 'H0z\"/>';\n  var path = '<path ' + getColorAttrib(opts.color.dark, 'stroke') + ' d=\"' + qrToPath(data, size, opts.margin) + '\"/>';\n  var viewBox = 'viewBox=\"' + '0 0 ' + qrcodesize + ' ' + qrcodesize + '\"';\n  var width = !opts.width ? '' : 'width=\"' + opts.width + '\" height=\"' + opts.width + '\" ';\n  var svgTag = '<svg xmlns=\"http://www.w3.org/2000/svg\" ' + width + viewBox + ' shape-rendering=\"crispEdges\">' + bg + path + '</svg>\\n';\n\n  if (typeof cb === 'function') {\n    cb(null, svgTag);\n  }\n\n  return svgTag;\n};\n\nvar svgTag = {\n  render: render\n};\n\nfunction renderCanvas(renderFunc, canvas, text, opts, cb) {\n  var args = [].slice.call(arguments, 1);\n  var argsNum = args.length;\n  var isLastArgCb = typeof args[argsNum - 1] === 'function';\n\n  if (!isLastArgCb && !canPromise()) {\n    throw new Error('Callback required as last argument');\n  }\n\n  if (isLastArgCb) {\n    if (argsNum < 2) {\n      throw new Error('Too few arguments provided');\n    }\n\n    if (argsNum === 2) {\n      cb = text;\n      text = canvas;\n      canvas = opts = undefined;\n    } else if (argsNum === 3) {\n      if (canvas.getContext && typeof cb === 'undefined') {\n        cb = opts;\n        opts = undefined;\n      } else {\n        cb = opts;\n        opts = text;\n        text = canvas;\n        canvas = undefined;\n      }\n    }\n  } else {\n    if (argsNum < 1) {\n      throw new Error('Too few arguments provided');\n    }\n\n    if (argsNum === 1) {\n      text = canvas;\n      canvas = opts = undefined;\n    } else if (argsNum === 2 && !canvas.getContext) {\n      opts = text;\n      text = canvas;\n      canvas = undefined;\n    }\n\n    return new Promise(function (resolve, reject) {\n      try {\n        var data = qrcode.create(text, opts);\n        resolve(renderFunc(data, canvas, opts));\n      } catch (e) {\n        reject(e);\n      }\n    });\n  }\n\n  try {\n    var data = qrcode.create(text, opts);\n    cb(null, renderFunc(data, canvas, opts));\n  } catch (e) {\n    cb(e);\n  }\n}\n\nvar create$1 = qrcode.create;\nvar toCanvas = renderCanvas.bind(null, canvas.render);\nvar toDataURL = renderCanvas.bind(null, canvas.renderToDataURL); // only svg for now.\n\nvar toString_1 = renderCanvas.bind(null, function (data, _, opts) {\n  return svgTag.render(data, opts);\n});\nvar browser = {\n  create: create$1,\n  toCanvas: toCanvas,\n  toDataURL: toDataURL,\n  toString: toString_1\n};\nvar amplifyTotpSetupCss = \".totp-setup{text-align:center;margin-bottom:30px}.totp-setup img{height:128px;width:128px}\";\nvar logger = new _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* ConsoleLogger */ \"a\"]('TOTP');\n\nvar AmplifyTOTPSetup =\n/** @class */\nfunction () {\n  function class_1(hostRef) {\n    Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* r */ \"k\"])(this, hostRef);\n    this.inputProps = {\n      autoFocus: true\n    };\n    /** Auth state change handler for this component */\n\n    this.handleAuthStateChange = _helpers_09e7c279_js__WEBPACK_IMPORTED_MODULE_7__[\"d\"];\n    /** Used for header text in totp setup component */\n\n    this.headerText = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_5__[/* T */ \"a\"].TOTP_HEADER_TEXT;\n    /** Used for customizing the issuer string in the qr code image */\n\n    this.issuer = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_5__[/* T */ \"a\"].TOTP_ISSUER;\n    this.code = null;\n    this.setupMessage = null;\n    this.qrCodeInput = null;\n    this.loading = false;\n  }\n\n  class_1.prototype.componentWillLoad = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var _this = this;\n\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            /**\n             * We didn't use `@Watch` here because it doesn't fire when we go from require-new-password to totp-setup.\n             * That is because `Auth.completeNewPassword` only changes `user` in place and Watch doesn't detect changes\n             * unless we make a clone.\n             */\n            this.removeHubListener = Object(_helpers_09e7c279_js__WEBPACK_IMPORTED_MODULE_7__[/* o */ \"h\"])(function (authState) {\n              if (authState === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_3__[/* A */ \"a\"].TOTPSetup) _this.setup();\n            });\n            return [4\n            /*yield*/\n            , this.setup()];\n\n          case 1:\n            _a.sent();\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.disconnectedCallback = function () {\n    this.removeHubListener && this.removeHubListener(); // stop listening to `onAuthUIStateChange`\n  };\n\n  class_1.prototype.buildOtpAuthPath = function (user, issuer, secretKey) {\n    return \"otpauth://totp/\" + issuer + \":\" + user.username + \"?secret=\" + secretKey + \"&issuer=\" + issuer;\n  };\n\n  class_1.prototype.onTOTPEvent = function (event, data, user) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            logger.debug('on totp event', event, data);\n            if (!(event === _constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_6__[/* S */ \"g\"] && data === _constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_6__[/* i */ \"r\"])) return [3\n            /*break*/\n            , 2];\n            return [4\n            /*yield*/\n            , Object(_auth_helpers_63cc23c0_js__WEBPACK_IMPORTED_MODULE_8__[/* c */ \"a\"])(user, this.handleAuthStateChange)];\n\n          case 1:\n            _a.sent();\n\n            _a.label = 2;\n\n          case 2:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.handleTotpInputChange = function (event) {\n    this.setupMessage = null;\n    this.qrCodeInput = event.target.value;\n  };\n\n  class_1.prototype.generateQRCode = function (codeFromTotp) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a, error_1;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            _b.trys.push([0, 2,, 3]);\n\n            _a = this;\n            return [4\n            /*yield*/\n            , browser.toDataURL(codeFromTotp)];\n\n          case 1:\n            _a.qrCodeImageSource = _b.sent();\n            return [3\n            /*break*/\n            , 3];\n\n          case 2:\n            error_1 = _b.sent();\n            Object(_helpers_09e7c279_js__WEBPACK_IMPORTED_MODULE_7__[\"a\"])(error_1);\n            return [3\n            /*break*/\n            , 3];\n\n          case 3:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.setup = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var encodedIssuer, secretKey, error_2;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            // ensure setup is only run once after totp setup is available\n            if (!this.user || this.user.challengeName !== 'MFA_SETUP' || this.loading) return [2\n            /*return*/\n            ];\n            this.setupMessage = null;\n            encodedIssuer = encodeURI(_aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__[/* I18n */ \"a\"].get(this.issuer));\n\n            if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_4__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_4__[/* Auth */ \"a\"].setupTOTP !== 'function') {\n              throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_6__[/* N */ \"d\"]);\n            }\n\n            this.loading = true;\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3, 4, 5]);\n\n            return [4\n            /*yield*/\n            , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_4__[/* Auth */ \"a\"].setupTOTP(this.user)];\n\n          case 2:\n            secretKey = _a.sent();\n            logger.debug('secret key', secretKey);\n            this.code = this.buildOtpAuthPath(this.user, encodedIssuer, secretKey);\n            this.generateQRCode(this.code);\n            return [3\n            /*break*/\n            , 5];\n\n          case 3:\n            error_2 = _a.sent();\n            Object(_helpers_09e7c279_js__WEBPACK_IMPORTED_MODULE_7__[\"a\"])(error_2);\n            logger.debug(_aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_5__[/* T */ \"a\"].TOTP_SETUP_FAILURE), error_2);\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            this.loading = false;\n            return [7\n            /*endfinally*/\n            ];\n\n          case 5:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.verifyTotpToken = function (event) {\n    return __awaiter(this, void 0, void 0, function () {\n      var user, error_3;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (event) {\n              event.preventDefault();\n            }\n\n            if (!this.qrCodeInput) {\n              logger.debug('No TOTP Code provided');\n              return [2\n              /*return*/\n              ];\n            }\n\n            user = this.user;\n\n            if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_4__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_4__[/* Auth */ \"a\"].verifyTotpToken !== 'function' || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_4__[/* Auth */ \"a\"].setPreferredMFA !== 'function') {\n              throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_6__[/* N */ \"d\"]);\n            }\n\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 5,, 6]);\n\n            return [4\n            /*yield*/\n            , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_4__[/* Auth */ \"a\"].verifyTotpToken(user, this.qrCodeInput)];\n\n          case 2:\n            _a.sent();\n\n            return [4\n            /*yield*/\n            , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_4__[/* Auth */ \"a\"].setPreferredMFA(user, _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_3__[/* M */ \"c\"].TOTP)];\n\n          case 3:\n            _a.sent();\n\n            this.setupMessage = _aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_5__[/* T */ \"a\"].TOTP_SUCCESS_MESSAGE);\n            logger.debug(_aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_5__[/* T */ \"a\"].TOTP_SUCCESS_MESSAGE));\n            return [4\n            /*yield*/\n            , this.onTOTPEvent(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_6__[/* S */ \"g\"], _constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_6__[/* i */ \"r\"], user)];\n\n          case 4:\n            _a.sent();\n\n            return [3\n            /*break*/\n            , 6];\n\n          case 5:\n            error_3 = _a.sent();\n            this.setupMessage = _aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_5__[/* T */ \"a\"].TOTP_SETUP_FAILURE);\n            logger.error(error_3);\n            return [3\n            /*break*/\n            , 6];\n\n          case 6:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  class_1.prototype.render = function () {\n    var _this = this;\n\n    return Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* H */ \"b\"], null, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-form-section\", {\n      headerText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__[/* I18n */ \"a\"].get(this.headerText),\n      submitButtonText: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_5__[/* T */ \"a\"].TOTP_SUBMIT_BUTTON_TEXT),\n      handleSubmit: function handleSubmit(event) {\n        return _this.verifyTotpToken(event);\n      },\n      loading: this.loading\n    }, Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"div\", {\n      class: \"totp-setup\"\n    }, this.qrCodeImageSource && Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"img\", {\n      src: this.qrCodeImageSource,\n      alt: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_5__[/* T */ \"a\"].QR_CODE_ALT)\n    }), Object(_index_3fb5c139_js__WEBPACK_IMPORTED_MODULE_0__[/* h */ \"i\"])(\"amplify-form-field\", {\n      label: _aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__[/* I18n */ \"a\"].get(_Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_5__[/* T */ \"a\"].TOTP_LABEL),\n      inputProps: this.inputProps,\n      fieldId: \"totpCode\",\n      name: \"totpCode\",\n      handleInputChange: function handleInputChange(event) {\n        return _this.handleTotpInputChange(event);\n      }\n    }))));\n  };\n\n  return class_1;\n}();\n\nAmplifyTOTPSetup.style = amplifyTotpSetupCss;\n\n\n/***/ }),\n\n/***/ 224:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return checkContact; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return handleSignIn; });\n/* harmony import */ var _aws_amplify_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(25);\n/* harmony import */ var _aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(18);\n/* harmony import */ var _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(21);\n/* harmony import */ var _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(39);\n/* harmony import */ var _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(11);\n/* harmony import */ var _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(3);\n/* harmony import */ var _constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(13);\n/* harmony import */ var _helpers_09e7c279_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(62);\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = undefined && undefined.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\n\n\n\n\n\n\nvar logger = new _aws_amplify_core__WEBPACK_IMPORTED_MODULE_0__[/* ConsoleLogger */ \"a\"]('auth-helpers');\n\nfunction checkContact(user, handleAuthStateChange) {\n  return __awaiter(this, void 0, void 0, function () {\n    var data, newUser, error_1;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__[/* Auth */ \"a\"].verifiedContact !== 'function') {\n            throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_6__[/* N */ \"d\"]);\n          } // If `user` is a federated user, we shouldn't call `verifiedContact`\n          // since `user` isn't `CognitoUser`\n\n\n          if (!isCognitoUser(user)) {\n            handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].SignedIn, user);\n            return [2\n            /*return*/\n            ];\n          }\n\n          _a.label = 1;\n\n        case 1:\n          _a.trys.push([1, 3,, 4]);\n\n          return [4\n          /*yield*/\n          , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__[/* Auth */ \"a\"].verifiedContact(user)];\n\n        case 2:\n          data = _a.sent();\n\n          if (!Object(_aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* isEmpty */ \"d\"])(data.verified) || Object(_aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__[/* isEmpty */ \"d\"])(data.unverified)) {\n            handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].SignedIn, user);\n          } else {\n            newUser = Object.assign(user, data);\n            handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].VerifyContact, newUser);\n          }\n\n          return [3\n          /*break*/\n          , 4];\n\n        case 3:\n          error_1 = _a.sent();\n          Object(_helpers_09e7c279_js__WEBPACK_IMPORTED_MODULE_7__[\"a\"])(error_1);\n          return [3\n          /*break*/\n          , 4];\n\n        case 4:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n}\n\nvar handleSignIn = function handleSignIn(username, password, handleAuthStateChange) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var user, error_2;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          if (!_aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__[/* Auth */ \"a\"] || typeof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__[/* Auth */ \"a\"].signIn !== 'function') {\n            throw new Error(_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_6__[/* N */ \"d\"]);\n          }\n\n          _a.label = 1;\n\n        case 1:\n          _a.trys.push([1, 9,, 10]);\n\n          return [4\n          /*yield*/\n          , _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_3__[/* Auth */ \"a\"].signIn(username, password)];\n\n        case 2:\n          user = _a.sent();\n          logger.debug(user);\n          if (!(user.challengeName === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* C */ \"b\"].SMSMFA || user.challengeName === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* C */ \"b\"].SoftwareTokenMFA)) return [3\n          /*break*/\n          , 3];\n          logger.debug('confirm user with ' + user.challengeName);\n          handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].ConfirmSignIn, user);\n          return [3\n          /*break*/\n          , 8];\n\n        case 3:\n          if (!(user.challengeName === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* C */ \"b\"].NewPasswordRequired)) return [3\n          /*break*/\n          , 4];\n          logger.debug('require new password', user.challengeParam);\n          handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].ResetPassword, user);\n          return [3\n          /*break*/\n          , 8];\n\n        case 4:\n          if (!(user.challengeName === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* C */ \"b\"].MFASetup)) return [3\n          /*break*/\n          , 5];\n          logger.debug('TOTP setup', user.challengeParam);\n          handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].TOTPSetup, user);\n          return [3\n          /*break*/\n          , 8];\n\n        case 5:\n          if (!(user.challengeName === _auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* C */ \"b\"].CustomChallenge && user.challengeParam && user.challengeParam.trigger === 'true')) return [3\n          /*break*/\n          , 6];\n          logger.debug('custom challenge', user.challengeParam);\n          handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].CustomConfirmSignIn, user);\n          return [3\n          /*break*/\n          , 8];\n\n        case 6:\n          return [4\n          /*yield*/\n          , checkContact(user, handleAuthStateChange)];\n\n        case 7:\n          _a.sent();\n\n          _a.label = 8;\n\n        case 8:\n          return [3\n          /*break*/\n          , 10];\n\n        case 9:\n          error_2 = _a.sent();\n\n          if (error_2.code === 'UserNotConfirmedException') {\n            logger.debug('the user is not confirmed');\n            handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].ConfirmSignUp, {\n              username: username\n            });\n          } else if (error_2.code === 'PasswordResetRequiredException') {\n            logger.debug('the user requires a new password');\n            handleAuthStateChange(_auth_types_78df304e_js__WEBPACK_IMPORTED_MODULE_2__[/* A */ \"a\"].ForgotPassword, {\n              username: username\n            });\n          } else if (error_2.code === 'InvalidParameterException' && password === '') {\n            logger.debug('Password cannot be empty');\n            error_2.message = _Translations_c833f663_js__WEBPACK_IMPORTED_MODULE_5__[/* T */ \"a\"].EMPTY_PASSWORD;\n          }\n\n          Object(_helpers_09e7c279_js__WEBPACK_IMPORTED_MODULE_7__[\"a\"])(error_2);\n          return [3\n          /*break*/\n          , 10];\n\n        case 10:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n};\n\nvar isCognitoUser = function isCognitoUser(user) {\n  return user instanceof _aws_amplify_auth__WEBPACK_IMPORTED_MODULE_4__[/* CognitoUser */ \"e\"];\n};\n\n\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["D:/Bao Phan/School/Python Project/group5project/node_modules/@aws-amplify/ui-components/dist/esm-es5/amplify-radio-button_2.entry.js","D:/Bao Phan/School/Python Project/group5project/node_modules/@aws-amplify/ui-components/dist/esm-es5/auth-helpers-63cc23c0.js"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","amplifyRadioButtonCss","AmplifyRadioButton","hostRef","registerInstance","placeholder","checked","disabled","prototype","render","h","class","Object","assign","type","name","onInput","handleInputChange","id","fieldId","inputProps","htmlFor","style","canPromise","toString","isarray","Array","isArray","arr","typedArraySupport","Uint8Array","__proto__","foo","Buffer","TYPED_ARRAY_SUPPORT","K_MAX_LENGTH","arg","offset","allocUnsafe","from","species","defineProperty","configurable","enumerable","writable","RangeError","isnan","val","createBuffer","that","buf","size","i","fromString","string","byteLength","actual","write","slice","fromArrayLike","array","fromArrayBuffer","byteOffset","undefined","fromObject","obj","isBuffer","len","copy","ArrayBuffer","buffer","data","utf8ToBytes","units","Infinity","codePoint","leadSurrogate","bytes","charCodeAt","Error","isView","blitBuffer","src","dst","utf8Write","isFinite","remaining","start","end","newBuf","subarray","sliceLen","target","targetStart","set","fill","code","concat","list","pos","_isBuffer","b","alloc","from_1","typedarrayBuffer","toSJISFunction","CODEWORDS_COUNT","getSymbolSize","version","getSymbolTotalCodewords","getBCHDigit","digit","setToSJISFunction","isKanjiModeEnabled","toSJIS","kanji","utils","createCommonjsModule","fn","basedir","module","path","exports","require","base","commonjsRequire","errorCorrectionLevel","L","bit","M","Q","H","lcStr","toLowerCase","isValid","level","defaultValue","BitBuffer","get","index","bufIndex","Math","floor","put","num","putBit","getLengthInBits","bitBuffer","BitMatrix","reservedBit","row","col","reserved","xor","isReserved","bitMatrix","alignmentPattern","getRowColCoords","posCount","intervals","ceil","positions","reverse","getPositions","coords","posLength","j","getSymbolSize$1","FINDER_PATTERN_SIZE","finderPattern","maskPattern","Patterns","PATTERN000","PATTERN001","PATTERN010","PATTERN011","PATTERN100","PATTERN101","PATTERN110","PATTERN111","PenaltyScores","N1","N2","N3","N4","mask","isNaN","parseInt","getPenaltyN1","points","sameCountCol","sameCountRow","lastCol","lastRow","getPenaltyN2","last","getPenaltyN3","bitsCol","bitsRow","getPenaltyN4","darkCount","modulesCount","k","abs","getMaskAt","applyMask","pattern","getBestMask","setupFormatFunc","numPatterns","keys","bestPattern","lowerPenalty","p","penalty","EC_BLOCKS_TABLE","EC_CODEWORDS_TABLE","getBlocksCount","errorCorrectionLevel$1","getTotalCodewordsCount","errorCorrectionCode","EXP_TABLE","LOG_TABLE","initTables","x","log","exp","mul","galoisField","polynomial","p1","p2","coeff","mod","divident","divisor","generateECPolynomial","degree","poly","Buffer$1","ReedSolomonEncoder","genPoly","initialize","encode","pad","paddedData","remainder","buff","reedSolomonEncoder","versionCheck","numeric","alphanumeric","replace","byte","KANJI","RegExp","BYTE_KANJI","BYTE","NUMERIC","ALPHANUMERIC","TEST_KANJI","TEST_NUMERIC","TEST_ALPHANUMERIC","testKanji","str","test","testNumeric","testAlphanumeric","regex","mode","ccBits","MIXED","getCharCountIndicator","getBestModeForData","dataStr","G18","G18_BCH","getBestVersionForDataLength","currentVersion","getCapacity","getReservedBitsCount","mode$1","getTotalBitsFromDataArray","segments","totalBits","forEach","reservedBits","getBitsLength","getBestVersionForMixedData","totalCodewords","ecTotalCodewords","dataTotalCodewordsBits","usableBits","getBestVersionForData","seg","ecl","getLength","getEncodedBits","d","G15","G15_MASK","G15_BCH","formatInfo","NumericData","group","substr","remainingNum","numericData","ALPHA_NUM_CHARS","AlphanumericData","indexOf","alphanumericData","ByteData","l","byteData","KanjiData","kanjiData","dijkstra_1","dijkstra","single_source_shortest_paths","graph","s","predecessors","costs","open","PriorityQueue","make","closest","u","cost_of_s_to_u","adjacent_nodes","cost_of_e","cost_of_s_to_u_plus_cost_of_e","cost_of_s_to_v","first_visit","empty","cost","hasOwnProperty","msg","join","extract_shortest_path_from_predecessor_list","nodes","find_path","opts","T","key","queue","sorter","default_sorter","a","item","sort","shift","getStringByteLength","unescape","encodeURIComponent","getSegments","exec","getSegmentsFromString","numSegs","alphaNumSegs","byteSegs","kanjiSegs","segs","s1","s2","map","getSegmentBitsLength","mergeSegments","reduce","acc","curr","prevSeg","buildNodes","buildGraph","table","prevNodeIds","nodeGroup","currentNodeIds","node","lastCount","prevNodeId","buildSingleSegment","modesHint","bestMode","fromArray","optimizedSegs","rawSplit","setupFinderPattern","matrix","r","c","setupTimingPattern","setupAlignmentPattern","setupVersionInfo","version$1","bits","setupFormatInfo","setupData","inc","bitIndex","byteIndex","dark","createData","remainingByte","createCodewords","dataTotalCodewords","ecTotalBlocks","blocksInGroup2","blocksInGroup1","totalCodewordsInGroup1","dataCodewordsInGroup1","dataCodewordsInGroup2","ecCount","rs","dcData","ecData","maxDataSize","dataSize","max","createSymbol","maskPattern$1","segments$1","estimatedVersion","rawSegments","bestVersion","dataBits","moduleCount","modules","bind","create","options","toSJISFunc","qrcode","utils$1","hex2rgba","hex","hexCode","split","hexValue","getOptions","color","margin","width","scale","light","rendererOpts","getScale","qrSize","getImageWidth","qrToImageData","imgData","qr","symbolSize","scaledMargin","palette","posDst","pxColor","iSrc","jSrc","canvas","clearCanvas","ctx","clearRect","height","getCanvasElement","document","createElement","qrData","canvasEl","getContext","image","createImageData","putImageData","renderToDataURL","toDataURL","quality","getColorAttrib","attrib","alpha","toFixed","svgCmd","cmd","qrToPath","moveBy","newRow","lineLength","cb","qrcodesize","bg","viewBox","svgTag","renderCanvas","renderFunc","text","args","arguments","argsNum","isLastArgCb","create$1","toCanvas","toString_1","browser","amplifyTotpSetupCss","logger","Logger","AmplifyTOTPSetup","class_1","autoFocus","handleAuthStateChange","dispatchAuthStateChangeEvent","headerText","Translations","TOTP_HEADER_TEXT","issuer","TOTP_ISSUER","setupMessage","qrCodeInput","loading","componentWillLoad","_this","_a","removeHubListener","onAuthUIStateChange","authState","AuthState","TOTPSetup","setup","disconnectedCallback","buildOtpAuthPath","user","secretKey","username","onTOTPEvent","event","debug","SETUP_TOTP","SUCCESS","checkContact","handleTotpInputChange","generateQRCode","codeFromTotp","error_1","_b","qrCodeImageSource","dispatchToastHubEvent","encodedIssuer","error_2","challengeName","encodeURI","I18n","Auth","setupTOTP","NO_AUTH_MODULE_FOUND","TOTP_SETUP_FAILURE","verifyTotpToken","error_3","preventDefault","setPreferredMFA","MfaOption","TOTP","TOTP_SUCCESS_MESSAGE","error","Host","submitButtonText","TOTP_SUBMIT_BUTTON_TEXT","handleSubmit","alt","QR_CODE_ALT","TOTP_LABEL","newUser","verifiedContact","isCognitoUser","SignedIn","isEmpty","verified","unverified","VerifyContact","handleSignIn","password","signIn","ChallengeName","SMSMFA","SoftwareTokenMFA","ConfirmSignIn","NewPasswordRequired","challengeParam","ResetPassword","MFASetup","CustomChallenge","trigger","CustomConfirmSignIn","ConfirmSignUp","ForgotPassword","message","EMPTY_PASSWORD","CognitoUser"],"mappings":"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","file":"x","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { r as registerInstance, h, H as Host } from './index-3fb5c139.js';\nimport { Logger, I18n } from '@aws-amplify/core';\nimport { M as MfaOption, A as AuthState } from './auth-types-78df304e.js';\nimport { Auth } from '@aws-amplify/auth';\nimport { T as Translations } from './Translations-c833f663.js';\nimport { S as SETUP_TOTP, i as SUCCESS, N as NO_AUTH_MODULE_FOUND } from './constants-d1abe7de.js';\nimport { d as dispatchAuthStateChangeEvent, o as onAuthUIStateChange, a as dispatchToastHubEvent } from './helpers-09e7c279.js';\nimport { c as checkContact } from './auth-helpers-63cc23c0.js';\nimport buffer from 'buffer';\nvar amplifyRadioButtonCss = \":host{--font-family:var(--amplify-font-family)}.radio-button{display:block;width:100%;padding:16px;font-size:var(--amplify-text-sm);font-family:var(--font-family)}.radio-button input{margin-right:12px}\";\nvar AmplifyRadioButton = /** @class */ (function () {\n    function AmplifyRadioButton(hostRef) {\n        registerInstance(this, hostRef);\n        /** (Optional) The placeholder for the input element.  Using hints is recommended, but placeholders can also be useful to convey information to users. */\n        this.placeholder = '';\n        /** If `true`, the radio button is selected. */\n        this.checked = false;\n        /** If `true`, the checkbox is disabled */\n        this.disabled = false;\n    }\n    AmplifyRadioButton.prototype.render = function () {\n        return (h(\"span\", { class: \"radio-button\" }, h(\"input\", Object.assign({ type: \"radio\", name: this.name, value: this.value, onInput: this.handleInputChange, placeholder: this.placeholder, id: this.fieldId, checked: this.checked, disabled: this.disabled }, this.inputProps)), h(\"amplify-label\", { htmlFor: this.fieldId }, this.label)));\n    };\n    return AmplifyRadioButton;\n}());\nAmplifyRadioButton.style = amplifyRadioButtonCss;\n// can-promise has a crash in some versions of react native that dont have\n// standard global objects\n// https://github.com/soldair/node-qrcode/issues/157\nvar canPromise = function () {\n    return typeof Promise === 'function' && Promise.prototype && Promise.prototype.then;\n};\nvar toString = {}.toString;\nvar isarray = Array.isArray || function (arr) {\n    return toString.call(arr) == '[object Array]';\n};\nfunction typedArraySupport() {\n    // Can typed array instances be augmented?\n    try {\n        var arr = new Uint8Array(1);\n        arr.__proto__ = { __proto__: Uint8Array.prototype, foo: function () { return 42; } };\n        return arr.foo() === 42;\n    }\n    catch (e) {\n        return false;\n    }\n}\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport();\nvar K_MAX_LENGTH = Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff;\nfunction Buffer(arg, offset, length) {\n    if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n        return new Buffer(arg, offset, length);\n    }\n    if (typeof arg === 'number') {\n        return allocUnsafe(this, arg);\n    }\n    return from(this, arg, offset, length);\n}\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n    Buffer.prototype.__proto__ = Uint8Array.prototype;\n    Buffer.__proto__ = Uint8Array;\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    if (typeof Symbol !== 'undefined' && Symbol.species &&\n        Buffer[Symbol.species] === Buffer) {\n        Object.defineProperty(Buffer, Symbol.species, {\n            value: null,\n            configurable: true,\n            enumerable: false,\n            writable: false\n        });\n    }\n}\nfunction checked(length) {\n    // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n    // length is NaN (which is otherwise coerced to zero.)\n    if (length >= K_MAX_LENGTH) {\n        throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n            'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes');\n    }\n    return length | 0;\n}\nfunction isnan(val) {\n    return val !== val; // eslint-disable-line no-self-compare\n}\nfunction createBuffer(that, length) {\n    var buf;\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        buf = new Uint8Array(length);\n        buf.__proto__ = Buffer.prototype;\n    }\n    else {\n        // Fallback: Return an object instance of the Buffer class\n        buf = that;\n        if (buf === null) {\n            buf = new Buffer(length);\n        }\n        buf.length = length;\n    }\n    return buf;\n}\nfunction allocUnsafe(that, size) {\n    var buf = createBuffer(that, size < 0 ? 0 : checked(size) | 0);\n    if (!Buffer.TYPED_ARRAY_SUPPORT) {\n        for (var i = 0; i < size; ++i) {\n            buf[i] = 0;\n        }\n    }\n    return buf;\n}\nfunction fromString(that, string) {\n    var length = byteLength(string) | 0;\n    var buf = createBuffer(that, length);\n    var actual = buf.write(string);\n    if (actual !== length) {\n        // Writing a hex string, for example, that contains invalid characters will\n        // cause everything after the first invalid character to be ignored. (e.g.\n        // 'abxxcd' will be treated as 'ab')\n        buf = buf.slice(0, actual);\n    }\n    return buf;\n}\nfunction fromArrayLike(that, array) {\n    var length = array.length < 0 ? 0 : checked(array.length) | 0;\n    var buf = createBuffer(that, length);\n    for (var i = 0; i < length; i += 1) {\n        buf[i] = array[i] & 255;\n    }\n    return buf;\n}\nfunction fromArrayBuffer(that, array, byteOffset, length) {\n    if (byteOffset < 0 || array.byteLength < byteOffset) {\n        throw new RangeError('\\'offset\\' is out of bounds');\n    }\n    if (array.byteLength < byteOffset + (length || 0)) {\n        throw new RangeError('\\'length\\' is out of bounds');\n    }\n    var buf;\n    if (byteOffset === undefined && length === undefined) {\n        buf = new Uint8Array(array);\n    }\n    else if (length === undefined) {\n        buf = new Uint8Array(array, byteOffset);\n    }\n    else {\n        buf = new Uint8Array(array, byteOffset, length);\n    }\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        // Return an augmented `Uint8Array` instance, for best performance\n        buf.__proto__ = Buffer.prototype;\n    }\n    else {\n        // Fallback: Return an object instance of the Buffer class\n        buf = fromArrayLike(that, buf);\n    }\n    return buf;\n}\nfunction fromObject(that, obj) {\n    if (Buffer.isBuffer(obj)) {\n        var len = checked(obj.length) | 0;\n        var buf = createBuffer(that, len);\n        if (buf.length === 0) {\n            return buf;\n        }\n        obj.copy(buf, 0, 0, len);\n        return buf;\n    }\n    if (obj) {\n        if ((typeof ArrayBuffer !== 'undefined' &&\n            obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n            if (typeof obj.length !== 'number' || isnan(obj.length)) {\n                return createBuffer(that, 0);\n            }\n            return fromArrayLike(that, obj);\n        }\n        if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n            return fromArrayLike(that, obj.data);\n        }\n    }\n    throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.');\n}\nfunction utf8ToBytes(string, units) {\n    units = units || Infinity;\n    var codePoint;\n    var length = string.length;\n    var leadSurrogate = null;\n    var bytes = [];\n    for (var i = 0; i < length; ++i) {\n        codePoint = string.charCodeAt(i);\n        // is surrogate component\n        if (codePoint > 0xD7FF && codePoint < 0xE000) {\n            // last char was a lead\n            if (!leadSurrogate) {\n                // no lead yet\n                if (codePoint > 0xDBFF) {\n                    // unexpected trail\n                    if ((units -= 3) > -1)\n                        bytes.push(0xEF, 0xBF, 0xBD);\n                    continue;\n                }\n                else if (i + 1 === length) {\n                    // unpaired lead\n                    if ((units -= 3) > -1)\n                        bytes.push(0xEF, 0xBF, 0xBD);\n                    continue;\n                }\n                // valid lead\n                leadSurrogate = codePoint;\n                continue;\n            }\n            // 2 leads in a row\n            if (codePoint < 0xDC00) {\n                if ((units -= 3) > -1)\n                    bytes.push(0xEF, 0xBF, 0xBD);\n                leadSurrogate = codePoint;\n                continue;\n            }\n            // valid surrogate pair\n            codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;\n        }\n        else if (leadSurrogate) {\n            // valid bmp char, but last char was a lead\n            if ((units -= 3) > -1)\n                bytes.push(0xEF, 0xBF, 0xBD);\n        }\n        leadSurrogate = null;\n        // encode utf8\n        if (codePoint < 0x80) {\n            if ((units -= 1) < 0)\n                break;\n            bytes.push(codePoint);\n        }\n        else if (codePoint < 0x800) {\n            if ((units -= 2) < 0)\n                break;\n            bytes.push(codePoint >> 0x6 | 0xC0, codePoint & 0x3F | 0x80);\n        }\n        else if (codePoint < 0x10000) {\n            if ((units -= 3) < 0)\n                break;\n            bytes.push(codePoint >> 0xC | 0xE0, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n        }\n        else if (codePoint < 0x110000) {\n            if ((units -= 4) < 0)\n                break;\n            bytes.push(codePoint >> 0x12 | 0xF0, codePoint >> 0xC & 0x3F | 0x80, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n        }\n        else {\n            throw new Error('Invalid code point');\n        }\n    }\n    return bytes;\n}\nfunction byteLength(string) {\n    if (Buffer.isBuffer(string)) {\n        return string.length;\n    }\n    if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n        (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n        return string.byteLength;\n    }\n    if (typeof string !== 'string') {\n        string = '' + string;\n    }\n    var len = string.length;\n    if (len === 0)\n        return 0;\n    return utf8ToBytes(string).length;\n}\nfunction blitBuffer(src, dst, offset, length) {\n    for (var i = 0; i < length; ++i) {\n        if ((i + offset >= dst.length) || (i >= src.length))\n            break;\n        dst[i + offset] = src[i];\n    }\n    return i;\n}\nfunction utf8Write(buf, string, offset, length) {\n    return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);\n}\nfunction from(that, value, offset, length) {\n    if (typeof value === 'number') {\n        throw new TypeError('\"value\" argument must not be a number');\n    }\n    if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n        return fromArrayBuffer(that, value, offset, length);\n    }\n    if (typeof value === 'string') {\n        return fromString(that, value);\n    }\n    return fromObject(that, value);\n}\nBuffer.prototype.write = function write(string, offset, length) {\n    // Buffer#write(string)\n    if (offset === undefined) {\n        length = this.length;\n        offset = 0;\n        // Buffer#write(string, encoding)\n    }\n    else if (length === undefined && typeof offset === 'string') {\n        length = this.length;\n        offset = 0;\n        // Buffer#write(string, offset[, length])\n    }\n    else if (isFinite(offset)) {\n        offset = offset | 0;\n        if (isFinite(length)) {\n            length = length | 0;\n        }\n        else {\n            length = undefined;\n        }\n    }\n    var remaining = this.length - offset;\n    if (length === undefined || length > remaining)\n        length = remaining;\n    if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n        throw new RangeError('Attempt to write outside buffer bounds');\n    }\n    return utf8Write(this, string, offset, length);\n};\nBuffer.prototype.slice = function slice(start, end) {\n    var len = this.length;\n    start = ~~start;\n    end = end === undefined ? len : ~~end;\n    if (start < 0) {\n        start += len;\n        if (start < 0)\n            start = 0;\n    }\n    else if (start > len) {\n        start = len;\n    }\n    if (end < 0) {\n        end += len;\n        if (end < 0)\n            end = 0;\n    }\n    else if (end > len) {\n        end = len;\n    }\n    if (end < start)\n        end = start;\n    var newBuf;\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n        newBuf = this.subarray(start, end);\n        // Return an augmented `Uint8Array` instance\n        newBuf.__proto__ = Buffer.prototype;\n    }\n    else {\n        var sliceLen = end - start;\n        newBuf = new Buffer(sliceLen, undefined);\n        for (var i = 0; i < sliceLen; ++i) {\n            newBuf[i] = this[i + start];\n        }\n    }\n    return newBuf;\n};\nBuffer.prototype.copy = function copy(target, targetStart, start, end) {\n    if (!start)\n        start = 0;\n    if (!end && end !== 0)\n        end = this.length;\n    if (targetStart >= target.length)\n        targetStart = target.length;\n    if (!targetStart)\n        targetStart = 0;\n    if (end > 0 && end < start)\n        end = start;\n    // Copy 0 bytes; we're done\n    if (end === start)\n        return 0;\n    if (target.length === 0 || this.length === 0)\n        return 0;\n    // Fatal error conditions\n    if (targetStart < 0) {\n        throw new RangeError('targetStart out of bounds');\n    }\n    if (start < 0 || start >= this.length)\n        throw new RangeError('sourceStart out of bounds');\n    if (end < 0)\n        throw new RangeError('sourceEnd out of bounds');\n    // Are we oob?\n    if (end > this.length)\n        end = this.length;\n    if (target.length - targetStart < end - start) {\n        end = target.length - targetStart + start;\n    }\n    var len = end - start;\n    var i;\n    if (this === target && start < targetStart && targetStart < end) {\n        // descending copy from end\n        for (i = len - 1; i >= 0; --i) {\n            target[i + targetStart] = this[i + start];\n        }\n    }\n    else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n        // ascending copy from start\n        for (i = 0; i < len; ++i) {\n            target[i + targetStart] = this[i + start];\n        }\n    }\n    else {\n        Uint8Array.prototype.set.call(target, this.subarray(start, start + len), targetStart);\n    }\n    return len;\n};\nBuffer.prototype.fill = function fill(val, start, end) {\n    // Handle string cases:\n    if (typeof val === 'string') {\n        if (typeof start === 'string') {\n            start = 0;\n            end = this.length;\n        }\n        else if (typeof end === 'string') {\n            end = this.length;\n        }\n        if (val.length === 1) {\n            var code = val.charCodeAt(0);\n            if (code < 256) {\n                val = code;\n            }\n        }\n    }\n    else if (typeof val === 'number') {\n        val = val & 255;\n    }\n    // Invalid ranges are not set to a default, so can range check early.\n    if (start < 0 || this.length < start || this.length < end) {\n        throw new RangeError('Out of range index');\n    }\n    if (end <= start) {\n        return this;\n    }\n    start = start >>> 0;\n    end = end === undefined ? this.length : end >>> 0;\n    if (!val)\n        val = 0;\n    var i;\n    if (typeof val === 'number') {\n        for (i = start; i < end; ++i) {\n            this[i] = val;\n        }\n    }\n    else {\n        var bytes = Buffer.isBuffer(val)\n            ? val\n            : new Buffer(val);\n        var len = bytes.length;\n        for (i = 0; i < end - start; ++i) {\n            this[i + start] = bytes[i % len];\n        }\n    }\n    return this;\n};\nBuffer.concat = function concat(list, length) {\n    if (!isarray(list)) {\n        throw new TypeError('\"list\" argument must be an Array of Buffers');\n    }\n    if (list.length === 0) {\n        return createBuffer(null, 0);\n    }\n    var i;\n    if (length === undefined) {\n        length = 0;\n        for (i = 0; i < list.length; ++i) {\n            length += list[i].length;\n        }\n    }\n    var buffer = allocUnsafe(null, length);\n    var pos = 0;\n    for (i = 0; i < list.length; ++i) {\n        var buf = list[i];\n        if (!Buffer.isBuffer(buf)) {\n            throw new TypeError('\"list\" argument must be an Array of Buffers');\n        }\n        buf.copy(buffer, pos);\n        pos += buf.length;\n    }\n    return buffer;\n};\nBuffer.byteLength = byteLength;\nBuffer.prototype._isBuffer = true;\nBuffer.isBuffer = function isBuffer(b) {\n    return !!(b != null && b._isBuffer);\n};\nvar alloc = function (size) {\n    var buffer = new Buffer(size);\n    buffer.fill(0);\n    return buffer;\n};\nvar from_1 = function (data) {\n    return new Buffer(data);\n};\nvar typedarrayBuffer = {\n    alloc: alloc,\n    from: from_1\n};\nvar toSJISFunction;\nvar CODEWORDS_COUNT = [\n    0,\n    26, 44, 70, 100, 134, 172, 196, 242, 292, 346,\n    404, 466, 532, 581, 655, 733, 815, 901, 991, 1085,\n    1156, 1258, 1364, 1474, 1588, 1706, 1828, 1921, 2051, 2185,\n    2323, 2465, 2611, 2761, 2876, 3034, 3196, 3362, 3532, 3706\n];\n/**\n * Returns the QR Code size for the specified version\n *\n * @param  {Number} version QR Code version\n * @return {Number}         size of QR code\n */\nvar getSymbolSize = function getSymbolSize(version) {\n    if (!version)\n        throw new Error('\"version\" cannot be null or undefined');\n    if (version < 1 || version > 40)\n        throw new Error('\"version\" should be in range from 1 to 40');\n    return version * 4 + 17;\n};\n/**\n * Returns the total number of codewords used to store data and EC information.\n *\n * @param  {Number} version QR Code version\n * @return {Number}         Data length in bits\n */\nvar getSymbolTotalCodewords = function getSymbolTotalCodewords(version) {\n    return CODEWORDS_COUNT[version];\n};\n/**\n * Encode data with Bose-Chaudhuri-Hocquenghem\n *\n * @param  {Number} data Value to encode\n * @return {Number}      Encoded value\n */\nvar getBCHDigit = function (data) {\n    var digit = 0;\n    while (data !== 0) {\n        digit++;\n        data >>>= 1;\n    }\n    return digit;\n};\nvar setToSJISFunction = function setToSJISFunction(f) {\n    if (typeof f !== 'function') {\n        throw new Error('\"toSJISFunc\" is not a valid function.');\n    }\n    toSJISFunction = f;\n};\nvar isKanjiModeEnabled = function () {\n    return typeof toSJISFunction !== 'undefined';\n};\nvar toSJIS = function toSJIS(kanji) {\n    return toSJISFunction(kanji);\n};\nvar utils = {\n    getSymbolSize: getSymbolSize,\n    getSymbolTotalCodewords: getSymbolTotalCodewords,\n    getBCHDigit: getBCHDigit,\n    setToSJISFunction: setToSJISFunction,\n    isKanjiModeEnabled: isKanjiModeEnabled,\n    toSJIS: toSJIS\n};\nfunction createCommonjsModule(fn, basedir, module) {\n    return module = {\n        path: basedir,\n        exports: {},\n        require: function (path, base) {\n            return commonjsRequire();\n        }\n    }, fn(module, module.exports), module.exports;\n}\nfunction commonjsRequire() {\n    throw new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');\n}\nvar errorCorrectionLevel = createCommonjsModule(function (module, exports) {\n    exports.L = { bit: 1 };\n    exports.M = { bit: 0 };\n    exports.Q = { bit: 3 };\n    exports.H = { bit: 2 };\n    function fromString(string) {\n        if (typeof string !== 'string') {\n            throw new Error('Param is not a string');\n        }\n        var lcStr = string.toLowerCase();\n        switch (lcStr) {\n            case 'l':\n            case 'low':\n                return exports.L;\n            case 'm':\n            case 'medium':\n                return exports.M;\n            case 'q':\n            case 'quartile':\n                return exports.Q;\n            case 'h':\n            case 'high':\n                return exports.H;\n            default:\n                throw new Error('Unknown EC Level: ' + string);\n        }\n    }\n    exports.isValid = function isValid(level) {\n        return level && typeof level.bit !== 'undefined' &&\n            level.bit >= 0 && level.bit < 4;\n    };\n    exports.from = function from(value, defaultValue) {\n        if (exports.isValid(value)) {\n            return value;\n        }\n        try {\n            return fromString(value);\n        }\n        catch (e) {\n            return defaultValue;\n        }\n    };\n});\nfunction BitBuffer() {\n    this.buffer = [];\n    this.length = 0;\n}\nBitBuffer.prototype = {\n    get: function (index) {\n        var bufIndex = Math.floor(index / 8);\n        return ((this.buffer[bufIndex] >>> (7 - index % 8)) & 1) === 1;\n    },\n    put: function (num, length) {\n        for (var i = 0; i < length; i++) {\n            this.putBit(((num >>> (length - i - 1)) & 1) === 1);\n        }\n    },\n    getLengthInBits: function () {\n        return this.length;\n    },\n    putBit: function (bit) {\n        var bufIndex = Math.floor(this.length / 8);\n        if (this.buffer.length <= bufIndex) {\n            this.buffer.push(0);\n        }\n        if (bit) {\n            this.buffer[bufIndex] |= (0x80 >>> (this.length % 8));\n        }\n        this.length++;\n    }\n};\nvar bitBuffer = BitBuffer;\n/**\n * Helper class to handle QR Code symbol modules\n *\n * @param {Number} size Symbol size\n */\nfunction BitMatrix(size) {\n    if (!size || size < 1) {\n        throw new Error('BitMatrix size must be defined and greater than 0');\n    }\n    this.size = size;\n    this.data = typedarrayBuffer.alloc(size * size);\n    this.reservedBit = typedarrayBuffer.alloc(size * size);\n}\n/**\n * Set bit value at specified location\n * If reserved flag is set, this bit will be ignored during masking process\n *\n * @param {Number}  row\n * @param {Number}  col\n * @param {Boolean} value\n * @param {Boolean} reserved\n */\nBitMatrix.prototype.set = function (row, col, value, reserved) {\n    var index = row * this.size + col;\n    this.data[index] = value;\n    if (reserved)\n        this.reservedBit[index] = true;\n};\n/**\n * Returns bit value at specified location\n *\n * @param  {Number}  row\n * @param  {Number}  col\n * @return {Boolean}\n */\nBitMatrix.prototype.get = function (row, col) {\n    return this.data[row * this.size + col];\n};\n/**\n * Applies xor operator at specified location\n * (used during masking process)\n *\n * @param {Number}  row\n * @param {Number}  col\n * @param {Boolean} value\n */\nBitMatrix.prototype.xor = function (row, col, value) {\n    this.data[row * this.size + col] ^= value;\n};\n/**\n * Check if bit at specified location is reserved\n *\n * @param {Number}   row\n * @param {Number}   col\n * @return {Boolean}\n */\nBitMatrix.prototype.isReserved = function (row, col) {\n    return this.reservedBit[row * this.size + col];\n};\nvar bitMatrix = BitMatrix;\nvar alignmentPattern = createCommonjsModule(function (module, exports) {\n    /**\n     * Alignment pattern are fixed reference pattern in defined positions\n     * in a matrix symbology, which enables the decode software to re-synchronise\n     * the coordinate mapping of the image modules in the event of moderate amounts\n     * of distortion of the image.\n     *\n     * Alignment patterns are present only in QR Code symbols of version 2 or larger\n     * and their number depends on the symbol version.\n     */\n    var getSymbolSize = utils.getSymbolSize;\n    /**\n     * Calculate the row/column coordinates of the center module of each alignment pattern\n     * for the specified QR Code version.\n     *\n     * The alignment patterns are positioned symmetrically on either side of the diagonal\n     * running from the top left corner of the symbol to the bottom right corner.\n     *\n     * Since positions are simmetrical only half of the coordinates are returned.\n     * Each item of the array will represent in turn the x and y coordinate.\n     * @see {@link getPositions}\n     *\n     * @param  {Number} version QR Code version\n     * @return {Array}          Array of coordinate\n     */\n    exports.getRowColCoords = function getRowColCoords(version) {\n        if (version === 1)\n            return [];\n        var posCount = Math.floor(version / 7) + 2;\n        var size = getSymbolSize(version);\n        var intervals = size === 145 ? 26 : Math.ceil((size - 13) / (2 * posCount - 2)) * 2;\n        var positions = [size - 7]; // Last coord is always (size - 7)\n        for (var i = 1; i < posCount - 1; i++) {\n            positions[i] = positions[i - 1] - intervals;\n        }\n        positions.push(6); // First coord is always 6\n        return positions.reverse();\n    };\n    /**\n     * Returns an array containing the positions of each alignment pattern.\n     * Each array's element represent the center point of the pattern as (x, y) coordinates\n     *\n     * Coordinates are calculated expanding the row/column coordinates returned by {@link getRowColCoords}\n     * and filtering out the items that overlaps with finder pattern\n     *\n     * @example\n     * For a Version 7 symbol {@link getRowColCoords} returns values 6, 22 and 38.\n     * The alignment patterns, therefore, are to be centered on (row, column)\n     * positions (6,22), (22,6), (22,22), (22,38), (38,22), (38,38).\n     * Note that the coordinates (6,6), (6,38), (38,6) are occupied by finder patterns\n     * and are not therefore used for alignment patterns.\n     *\n     * var pos = getPositions(7)\n     * // [[6,22], [22,6], [22,22], [22,38], [38,22], [38,38]]\n     *\n     * @param  {Number} version QR Code version\n     * @return {Array}          Array of coordinates\n     */\n    exports.getPositions = function getPositions(version) {\n        var coords = [];\n        var pos = exports.getRowColCoords(version);\n        var posLength = pos.length;\n        for (var i = 0; i < posLength; i++) {\n            for (var j = 0; j < posLength; j++) {\n                // Skip if position is occupied by finder patterns\n                if ((i === 0 && j === 0) || // top-left\n                    (i === 0 && j === posLength - 1) || // bottom-left\n                    (i === posLength - 1 && j === 0)) { // top-right\n                    continue;\n                }\n                coords.push([pos[i], pos[j]]);\n            }\n        }\n        return coords;\n    };\n});\nvar getSymbolSize$1 = utils.getSymbolSize;\nvar FINDER_PATTERN_SIZE = 7;\n/**\n * Returns an array containing the positions of each finder pattern.\n * Each array's element represent the top-left point of the pattern as (x, y) coordinates\n *\n * @param  {Number} version QR Code version\n * @return {Array}          Array of coordinates\n */\nvar getPositions = function getPositions(version) {\n    var size = getSymbolSize$1(version);\n    return [\n        // top-left\n        [0, 0],\n        // top-right\n        [size - FINDER_PATTERN_SIZE, 0],\n        // bottom-left\n        [0, size - FINDER_PATTERN_SIZE]\n    ];\n};\nvar finderPattern = {\n    getPositions: getPositions\n};\nvar maskPattern = createCommonjsModule(function (module, exports) {\n    /**\n     * Data mask pattern reference\n     * @type {Object}\n     */\n    exports.Patterns = {\n        PATTERN000: 0,\n        PATTERN001: 1,\n        PATTERN010: 2,\n        PATTERN011: 3,\n        PATTERN100: 4,\n        PATTERN101: 5,\n        PATTERN110: 6,\n        PATTERN111: 7\n    };\n    /**\n     * Weighted penalty scores for the undesirable features\n     * @type {Object}\n     */\n    var PenaltyScores = {\n        N1: 3,\n        N2: 3,\n        N3: 40,\n        N4: 10\n    };\n    /**\n     * Check if mask pattern value is valid\n     *\n     * @param  {Number}  mask    Mask pattern\n     * @return {Boolean}         true if valid, false otherwise\n     */\n    exports.isValid = function isValid(mask) {\n        return mask != null && mask !== '' && !isNaN(mask) && mask >= 0 && mask <= 7;\n    };\n    /**\n     * Returns mask pattern from a value.\n     * If value is not valid, returns undefined\n     *\n     * @param  {Number|String} value        Mask pattern value\n     * @return {Number}                     Valid mask pattern or undefined\n     */\n    exports.from = function from(value) {\n        return exports.isValid(value) ? parseInt(value, 10) : undefined;\n    };\n    /**\n    * Find adjacent modules in row/column with the same color\n    * and assign a penalty value.\n    *\n    * Points: N1 + i\n    * i is the amount by which the number of adjacent modules of the same color exceeds 5\n    */\n    exports.getPenaltyN1 = function getPenaltyN1(data) {\n        var size = data.size;\n        var points = 0;\n        var sameCountCol = 0;\n        var sameCountRow = 0;\n        var lastCol = null;\n        var lastRow = null;\n        for (var row = 0; row < size; row++) {\n            sameCountCol = sameCountRow = 0;\n            lastCol = lastRow = null;\n            for (var col = 0; col < size; col++) {\n                var module = data.get(row, col);\n                if (module === lastCol) {\n                    sameCountCol++;\n                }\n                else {\n                    if (sameCountCol >= 5)\n                        points += PenaltyScores.N1 + (sameCountCol - 5);\n                    lastCol = module;\n                    sameCountCol = 1;\n                }\n                module = data.get(col, row);\n                if (module === lastRow) {\n                    sameCountRow++;\n                }\n                else {\n                    if (sameCountRow >= 5)\n                        points += PenaltyScores.N1 + (sameCountRow - 5);\n                    lastRow = module;\n                    sameCountRow = 1;\n                }\n            }\n            if (sameCountCol >= 5)\n                points += PenaltyScores.N1 + (sameCountCol - 5);\n            if (sameCountRow >= 5)\n                points += PenaltyScores.N1 + (sameCountRow - 5);\n        }\n        return points;\n    };\n    /**\n     * Find 2x2 blocks with the same color and assign a penalty value\n     *\n     * Points: N2 * (m - 1) * (n - 1)\n     */\n    exports.getPenaltyN2 = function getPenaltyN2(data) {\n        var size = data.size;\n        var points = 0;\n        for (var row = 0; row < size - 1; row++) {\n            for (var col = 0; col < size - 1; col++) {\n                var last = data.get(row, col) +\n                    data.get(row, col + 1) +\n                    data.get(row + 1, col) +\n                    data.get(row + 1, col + 1);\n                if (last === 4 || last === 0)\n                    points++;\n            }\n        }\n        return points * PenaltyScores.N2;\n    };\n    /**\n     * Find 1:1:3:1:1 ratio (dark:light:dark:light:dark) pattern in row/column,\n     * preceded or followed by light area 4 modules wide\n     *\n     * Points: N3 * number of pattern found\n     */\n    exports.getPenaltyN3 = function getPenaltyN3(data) {\n        var size = data.size;\n        var points = 0;\n        var bitsCol = 0;\n        var bitsRow = 0;\n        for (var row = 0; row < size; row++) {\n            bitsCol = bitsRow = 0;\n            for (var col = 0; col < size; col++) {\n                bitsCol = ((bitsCol << 1) & 0x7FF) | data.get(row, col);\n                if (col >= 10 && (bitsCol === 0x5D0 || bitsCol === 0x05D))\n                    points++;\n                bitsRow = ((bitsRow << 1) & 0x7FF) | data.get(col, row);\n                if (col >= 10 && (bitsRow === 0x5D0 || bitsRow === 0x05D))\n                    points++;\n            }\n        }\n        return points * PenaltyScores.N3;\n    };\n    /**\n     * Calculate proportion of dark modules in entire symbol\n     *\n     * Points: N4 * k\n     *\n     * k is the rating of the deviation of the proportion of dark modules\n     * in the symbol from 50% in steps of 5%\n     */\n    exports.getPenaltyN4 = function getPenaltyN4(data) {\n        var darkCount = 0;\n        var modulesCount = data.data.length;\n        for (var i = 0; i < modulesCount; i++)\n            darkCount += data.data[i];\n        var k = Math.abs(Math.ceil((darkCount * 100 / modulesCount) / 5) - 10);\n        return k * PenaltyScores.N4;\n    };\n    /**\n     * Return mask value at given position\n     *\n     * @param  {Number} maskPattern Pattern reference value\n     * @param  {Number} i           Row\n     * @param  {Number} j           Column\n     * @return {Boolean}            Mask value\n     */\n    function getMaskAt(maskPattern, i, j) {\n        switch (maskPattern) {\n            case exports.Patterns.PATTERN000: return (i + j) % 2 === 0;\n            case exports.Patterns.PATTERN001: return i % 2 === 0;\n            case exports.Patterns.PATTERN010: return j % 3 === 0;\n            case exports.Patterns.PATTERN011: return (i + j) % 3 === 0;\n            case exports.Patterns.PATTERN100: return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 === 0;\n            case exports.Patterns.PATTERN101: return (i * j) % 2 + (i * j) % 3 === 0;\n            case exports.Patterns.PATTERN110: return ((i * j) % 2 + (i * j) % 3) % 2 === 0;\n            case exports.Patterns.PATTERN111: return ((i * j) % 3 + (i + j) % 2) % 2 === 0;\n            default: throw new Error('bad maskPattern:' + maskPattern);\n        }\n    }\n    /**\n     * Apply a mask pattern to a BitMatrix\n     *\n     * @param  {Number}    pattern Pattern reference number\n     * @param  {BitMatrix} data    BitMatrix data\n     */\n    exports.applyMask = function applyMask(pattern, data) {\n        var size = data.size;\n        for (var col = 0; col < size; col++) {\n            for (var row = 0; row < size; row++) {\n                if (data.isReserved(row, col))\n                    continue;\n                data.xor(row, col, getMaskAt(pattern, row, col));\n            }\n        }\n    };\n    /**\n     * Returns the best mask pattern for data\n     *\n     * @param  {BitMatrix} data\n     * @return {Number} Mask pattern reference number\n     */\n    exports.getBestMask = function getBestMask(data, setupFormatFunc) {\n        var numPatterns = Object.keys(exports.Patterns).length;\n        var bestPattern = 0;\n        var lowerPenalty = Infinity;\n        for (var p = 0; p < numPatterns; p++) {\n            setupFormatFunc(p);\n            exports.applyMask(p, data);\n            // Calculate penalty\n            var penalty = exports.getPenaltyN1(data) +\n                exports.getPenaltyN2(data) +\n                exports.getPenaltyN3(data) +\n                exports.getPenaltyN4(data);\n            // Undo previously applied mask\n            exports.applyMask(p, data);\n            if (penalty < lowerPenalty) {\n                lowerPenalty = penalty;\n                bestPattern = p;\n            }\n        }\n        return bestPattern;\n    };\n});\nvar EC_BLOCKS_TABLE = [\n    // L  M  Q  H\n    1, 1, 1, 1,\n    1, 1, 1, 1,\n    1, 1, 2, 2,\n    1, 2, 2, 4,\n    1, 2, 4, 4,\n    2, 4, 4, 4,\n    2, 4, 6, 5,\n    2, 4, 6, 6,\n    2, 5, 8, 8,\n    4, 5, 8, 8,\n    4, 5, 8, 11,\n    4, 8, 10, 11,\n    4, 9, 12, 16,\n    4, 9, 16, 16,\n    6, 10, 12, 18,\n    6, 10, 17, 16,\n    6, 11, 16, 19,\n    6, 13, 18, 21,\n    7, 14, 21, 25,\n    8, 16, 20, 25,\n    8, 17, 23, 25,\n    9, 17, 23, 34,\n    9, 18, 25, 30,\n    10, 20, 27, 32,\n    12, 21, 29, 35,\n    12, 23, 34, 37,\n    12, 25, 34, 40,\n    13, 26, 35, 42,\n    14, 28, 38, 45,\n    15, 29, 40, 48,\n    16, 31, 43, 51,\n    17, 33, 45, 54,\n    18, 35, 48, 57,\n    19, 37, 51, 60,\n    19, 38, 53, 63,\n    20, 40, 56, 66,\n    21, 43, 59, 70,\n    22, 45, 62, 74,\n    24, 47, 65, 77,\n    25, 49, 68, 81\n];\nvar EC_CODEWORDS_TABLE = [\n    // L  M  Q  H\n    7, 10, 13, 17,\n    10, 16, 22, 28,\n    15, 26, 36, 44,\n    20, 36, 52, 64,\n    26, 48, 72, 88,\n    36, 64, 96, 112,\n    40, 72, 108, 130,\n    48, 88, 132, 156,\n    60, 110, 160, 192,\n    72, 130, 192, 224,\n    80, 150, 224, 264,\n    96, 176, 260, 308,\n    104, 198, 288, 352,\n    120, 216, 320, 384,\n    132, 240, 360, 432,\n    144, 280, 408, 480,\n    168, 308, 448, 532,\n    180, 338, 504, 588,\n    196, 364, 546, 650,\n    224, 416, 600, 700,\n    224, 442, 644, 750,\n    252, 476, 690, 816,\n    270, 504, 750, 900,\n    300, 560, 810, 960,\n    312, 588, 870, 1050,\n    336, 644, 952, 1110,\n    360, 700, 1020, 1200,\n    390, 728, 1050, 1260,\n    420, 784, 1140, 1350,\n    450, 812, 1200, 1440,\n    480, 868, 1290, 1530,\n    510, 924, 1350, 1620,\n    540, 980, 1440, 1710,\n    570, 1036, 1530, 1800,\n    570, 1064, 1590, 1890,\n    600, 1120, 1680, 1980,\n    630, 1204, 1770, 2100,\n    660, 1260, 1860, 2220,\n    720, 1316, 1950, 2310,\n    750, 1372, 2040, 2430\n];\n/**\n * Returns the number of error correction block that the QR Code should contain\n * for the specified version and error correction level.\n *\n * @param  {Number} version              QR Code version\n * @param  {Number} errorCorrectionLevel Error correction level\n * @return {Number}                      Number of error correction blocks\n */\nvar getBlocksCount = function getBlocksCount(version, errorCorrectionLevel$1) {\n    switch (errorCorrectionLevel$1) {\n        case errorCorrectionLevel.L:\n            return EC_BLOCKS_TABLE[(version - 1) * 4 + 0];\n        case errorCorrectionLevel.M:\n            return EC_BLOCKS_TABLE[(version - 1) * 4 + 1];\n        case errorCorrectionLevel.Q:\n            return EC_BLOCKS_TABLE[(version - 1) * 4 + 2];\n        case errorCorrectionLevel.H:\n            return EC_BLOCKS_TABLE[(version - 1) * 4 + 3];\n        default:\n            return undefined;\n    }\n};\n/**\n * Returns the number of error correction codewords to use for the specified\n * version and error correction level.\n *\n * @param  {Number} version              QR Code version\n * @param  {Number} errorCorrectionLevel Error correction level\n * @return {Number}                      Number of error correction codewords\n */\nvar getTotalCodewordsCount = function getTotalCodewordsCount(version, errorCorrectionLevel$1) {\n    switch (errorCorrectionLevel$1) {\n        case errorCorrectionLevel.L:\n            return EC_CODEWORDS_TABLE[(version - 1) * 4 + 0];\n        case errorCorrectionLevel.M:\n            return EC_CODEWORDS_TABLE[(version - 1) * 4 + 1];\n        case errorCorrectionLevel.Q:\n            return EC_CODEWORDS_TABLE[(version - 1) * 4 + 2];\n        case errorCorrectionLevel.H:\n            return EC_CODEWORDS_TABLE[(version - 1) * 4 + 3];\n        default:\n            return undefined;\n    }\n};\nvar errorCorrectionCode = {\n    getBlocksCount: getBlocksCount,\n    getTotalCodewordsCount: getTotalCodewordsCount\n};\nvar EXP_TABLE = typedarrayBuffer.alloc(512);\nvar LOG_TABLE = typedarrayBuffer.alloc(256);\n(function initTables() {\n    var x = 1;\n    for (var i = 0; i < 255; i++) {\n        EXP_TABLE[i] = x;\n        LOG_TABLE[x] = i;\n        x <<= 1; // multiply by 2\n        // The QR code specification says to use byte-wise modulo 100011101 arithmetic.\n        // This means that when a number is 256 or larger, it should be XORed with 0x11D.\n        if (x & 0x100) { // similar to x >= 256, but a lot faster (because 0x100 == 256)\n            x ^= 0x11D;\n        }\n    }\n    // Optimization: double the size of the anti-log table so that we don't need to mod 255 to\n    // stay inside the bounds (because we will mainly use this table for the multiplication of\n    // two GF numbers, no more).\n    // @see {@link mul}\n    for (i = 255; i < 512; i++) {\n        EXP_TABLE[i] = EXP_TABLE[i - 255];\n    }\n}());\n/**\n * Returns log value of n inside Galois Field\n *\n * @param  {Number} n\n * @return {Number}\n */\nvar log = function log(n) {\n    if (n < 1)\n        throw new Error('log(' + n + ')');\n    return LOG_TABLE[n];\n};\n/**\n * Returns anti-log value of n inside Galois Field\n *\n * @param  {Number} n\n * @return {Number}\n */\nvar exp = function exp(n) {\n    return EXP_TABLE[n];\n};\n/**\n * Multiplies two number inside Galois Field\n *\n * @param  {Number} x\n * @param  {Number} y\n * @return {Number}\n */\nvar mul = function mul(x, y) {\n    if (x === 0 || y === 0)\n        return 0;\n    // should be EXP_TABLE[(LOG_TABLE[x] + LOG_TABLE[y]) % 255] if EXP_TABLE wasn't oversized\n    // @see {@link initTables}\n    return EXP_TABLE[LOG_TABLE[x] + LOG_TABLE[y]];\n};\nvar galoisField = {\n    log: log,\n    exp: exp,\n    mul: mul\n};\nvar polynomial = createCommonjsModule(function (module, exports) {\n    /**\n     * Multiplies two polynomials inside Galois Field\n     *\n     * @param  {Buffer} p1 Polynomial\n     * @param  {Buffer} p2 Polynomial\n     * @return {Buffer}    Product of p1 and p2\n     */\n    exports.mul = function mul(p1, p2) {\n        var coeff = typedarrayBuffer.alloc(p1.length + p2.length - 1);\n        for (var i = 0; i < p1.length; i++) {\n            for (var j = 0; j < p2.length; j++) {\n                coeff[i + j] ^= galoisField.mul(p1[i], p2[j]);\n            }\n        }\n        return coeff;\n    };\n    /**\n     * Calculate the remainder of polynomials division\n     *\n     * @param  {Buffer} divident Polynomial\n     * @param  {Buffer} divisor  Polynomial\n     * @return {Buffer}          Remainder\n     */\n    exports.mod = function mod(divident, divisor) {\n        var result = typedarrayBuffer.from(divident);\n        while ((result.length - divisor.length) >= 0) {\n            var coeff = result[0];\n            for (var i = 0; i < divisor.length; i++) {\n                result[i] ^= galoisField.mul(divisor[i], coeff);\n            }\n            // remove all zeros from buffer head\n            var offset = 0;\n            while (offset < result.length && result[offset] === 0)\n                offset++;\n            result = result.slice(offset);\n        }\n        return result;\n    };\n    /**\n     * Generate an irreducible generator polynomial of specified degree\n     * (used by Reed-Solomon encoder)\n     *\n     * @param  {Number} degree Degree of the generator polynomial\n     * @return {Buffer}        Buffer containing polynomial coefficients\n     */\n    exports.generateECPolynomial = function generateECPolynomial(degree) {\n        var poly = typedarrayBuffer.from([1]);\n        for (var i = 0; i < degree; i++) {\n            poly = exports.mul(poly, [1, galoisField.exp(i)]);\n        }\n        return poly;\n    };\n});\nvar Buffer$1 = buffer.Buffer;\nfunction ReedSolomonEncoder(degree) {\n    this.genPoly = undefined;\n    this.degree = degree;\n    if (this.degree)\n        this.initialize(this.degree);\n}\n/**\n * Initialize the encoder.\n * The input param should correspond to the number of error correction codewords.\n *\n * @param  {Number} degree\n */\nReedSolomonEncoder.prototype.initialize = function initialize(degree) {\n    // create an irreducible generator polynomial\n    this.degree = degree;\n    this.genPoly = polynomial.generateECPolynomial(this.degree);\n};\n/**\n * Encodes a chunk of data\n *\n * @param  {Buffer} data Buffer containing input data\n * @return {Buffer}      Buffer containing encoded data\n */\nReedSolomonEncoder.prototype.encode = function encode(data) {\n    if (!this.genPoly) {\n        throw new Error('Encoder not initialized');\n    }\n    // Calculate EC for this data block\n    // extends data size to data+genPoly size\n    var pad = typedarrayBuffer.alloc(this.degree);\n    var paddedData = Buffer$1.concat([data, pad], data.length + this.degree);\n    // The error correction codewords are the remainder after dividing the data codewords\n    // by a generator polynomial\n    var remainder = polynomial.mod(paddedData, this.genPoly);\n    // return EC data blocks (last n byte, where n is the degree of genPoly)\n    // If coefficients number in remainder are less than genPoly degree,\n    // pad with 0s to the left to reach the needed number of coefficients\n    var start = this.degree - remainder.length;\n    if (start > 0) {\n        var buff = typedarrayBuffer.alloc(this.degree);\n        remainder.copy(buff, start);\n        return buff;\n    }\n    return remainder;\n};\nvar reedSolomonEncoder = ReedSolomonEncoder;\n/**\n * Check if QR Code version is valid\n *\n * @param  {Number}  version QR Code version\n * @return {Boolean}         true if valid version, false otherwise\n */\nvar isValid = function isValid(version) {\n    return !isNaN(version) && version >= 1 && version <= 40;\n};\nvar versionCheck = {\n    isValid: isValid\n};\nvar numeric = '[0-9]+';\nvar alphanumeric = '[A-Z $%*+\\\\-./:]+';\nvar kanji = '(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|' +\n    '[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|' +\n    '[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|' +\n    '[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+';\nkanji = kanji.replace(/u/g, '\\\\u');\nvar byte = '(?:(?![A-Z0-9 $%*+\\\\-./:]|' + kanji + ')(?:.|[\\r\\n]))+';\nvar KANJI = new RegExp(kanji, 'g');\nvar BYTE_KANJI = new RegExp('[^A-Z0-9 $%*+\\\\-./:]+', 'g');\nvar BYTE = new RegExp(byte, 'g');\nvar NUMERIC = new RegExp(numeric, 'g');\nvar ALPHANUMERIC = new RegExp(alphanumeric, 'g');\nvar TEST_KANJI = new RegExp('^' + kanji + '$');\nvar TEST_NUMERIC = new RegExp('^' + numeric + '$');\nvar TEST_ALPHANUMERIC = new RegExp('^[A-Z0-9 $%*+\\\\-./:]+$');\nvar testKanji = function testKanji(str) {\n    return TEST_KANJI.test(str);\n};\nvar testNumeric = function testNumeric(str) {\n    return TEST_NUMERIC.test(str);\n};\nvar testAlphanumeric = function testAlphanumeric(str) {\n    return TEST_ALPHANUMERIC.test(str);\n};\nvar regex = {\n    KANJI: KANJI,\n    BYTE_KANJI: BYTE_KANJI,\n    BYTE: BYTE,\n    NUMERIC: NUMERIC,\n    ALPHANUMERIC: ALPHANUMERIC,\n    testKanji: testKanji,\n    testNumeric: testNumeric,\n    testAlphanumeric: testAlphanumeric\n};\nvar mode = createCommonjsModule(function (module, exports) {\n    /**\n     * Numeric mode encodes data from the decimal digit set (0 - 9)\n     * (byte values 30HEX to 39HEX).\n     * Normally, 3 data characters are represented by 10 bits.\n     *\n     * @type {Object}\n     */\n    exports.NUMERIC = {\n        id: 'Numeric',\n        bit: 1 << 0,\n        ccBits: [10, 12, 14]\n    };\n    /**\n     * Alphanumeric mode encodes data from a set of 45 characters,\n     * i.e. 10 numeric digits (0 - 9),\n     *      26 alphabetic characters (A - Z),\n     *   and 9 symbols (SP, $, %, *, +, -, ., /, :).\n     * Normally, two input characters are represented by 11 bits.\n     *\n     * @type {Object}\n     */\n    exports.ALPHANUMERIC = {\n        id: 'Alphanumeric',\n        bit: 1 << 1,\n        ccBits: [9, 11, 13]\n    };\n    /**\n     * In byte mode, data is encoded at 8 bits per character.\n     *\n     * @type {Object}\n     */\n    exports.BYTE = {\n        id: 'Byte',\n        bit: 1 << 2,\n        ccBits: [8, 16, 16]\n    };\n    /**\n     * The Kanji mode efficiently encodes Kanji characters in accordance with\n     * the Shift JIS system based on JIS X 0208.\n     * The Shift JIS values are shifted from the JIS X 0208 values.\n     * JIS X 0208 gives details of the shift coded representation.\n     * Each two-byte character value is compacted to a 13-bit binary codeword.\n     *\n     * @type {Object}\n     */\n    exports.KANJI = {\n        id: 'Kanji',\n        bit: 1 << 3,\n        ccBits: [8, 10, 12]\n    };\n    /**\n     * Mixed mode will contain a sequences of data in a combination of any of\n     * the modes described above\n     *\n     * @type {Object}\n     */\n    exports.MIXED = {\n        bit: -1\n    };\n    /**\n     * Returns the number of bits needed to store the data length\n     * according to QR Code specifications.\n     *\n     * @param  {Mode}   mode    Data mode\n     * @param  {Number} version QR Code version\n     * @return {Number}         Number of bits\n     */\n    exports.getCharCountIndicator = function getCharCountIndicator(mode, version) {\n        if (!mode.ccBits)\n            throw new Error('Invalid mode: ' + mode);\n        if (!versionCheck.isValid(version)) {\n            throw new Error('Invalid version: ' + version);\n        }\n        if (version >= 1 && version < 10)\n            return mode.ccBits[0];\n        else if (version < 27)\n            return mode.ccBits[1];\n        return mode.ccBits[2];\n    };\n    /**\n     * Returns the most efficient mode to store the specified data\n     *\n     * @param  {String} dataStr Input data string\n     * @return {Mode}           Best mode\n     */\n    exports.getBestModeForData = function getBestModeForData(dataStr) {\n        if (regex.testNumeric(dataStr))\n            return exports.NUMERIC;\n        else if (regex.testAlphanumeric(dataStr))\n            return exports.ALPHANUMERIC;\n        else if (regex.testKanji(dataStr))\n            return exports.KANJI;\n        else\n            return exports.BYTE;\n    };\n    /**\n     * Return mode name as string\n     *\n     * @param {Mode} mode Mode object\n     * @returns {String}  Mode name\n     */\n    exports.toString = function toString(mode) {\n        if (mode && mode.id)\n            return mode.id;\n        throw new Error('Invalid mode');\n    };\n    /**\n     * Check if input param is a valid mode object\n     *\n     * @param   {Mode}    mode Mode object\n     * @returns {Boolean} True if valid mode, false otherwise\n     */\n    exports.isValid = function isValid(mode) {\n        return mode && mode.bit && mode.ccBits;\n    };\n    /**\n     * Get mode object from its name\n     *\n     * @param   {String} string Mode name\n     * @returns {Mode}          Mode object\n     */\n    function fromString(string) {\n        if (typeof string !== 'string') {\n            throw new Error('Param is not a string');\n        }\n        var lcStr = string.toLowerCase();\n        switch (lcStr) {\n            case 'numeric':\n                return exports.NUMERIC;\n            case 'alphanumeric':\n                return exports.ALPHANUMERIC;\n            case 'kanji':\n                return exports.KANJI;\n            case 'byte':\n                return exports.BYTE;\n            default:\n                throw new Error('Unknown mode: ' + string);\n        }\n    }\n    /**\n     * Returns mode from a value.\n     * If value is not a valid mode, returns defaultValue\n     *\n     * @param  {Mode|String} value        Encoding mode\n     * @param  {Mode}        defaultValue Fallback value\n     * @return {Mode}                     Encoding mode\n     */\n    exports.from = function from(value, defaultValue) {\n        if (exports.isValid(value)) {\n            return value;\n        }\n        try {\n            return fromString(value);\n        }\n        catch (e) {\n            return defaultValue;\n        }\n    };\n});\nvar version = createCommonjsModule(function (module, exports) {\n    // Generator polynomial used to encode version information\n    var G18 = (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0);\n    var G18_BCH = utils.getBCHDigit(G18);\n    function getBestVersionForDataLength(mode, length, errorCorrectionLevel) {\n        for (var currentVersion = 1; currentVersion <= 40; currentVersion++) {\n            if (length <= exports.getCapacity(currentVersion, errorCorrectionLevel, mode)) {\n                return currentVersion;\n            }\n        }\n        return undefined;\n    }\n    function getReservedBitsCount(mode$1, version) {\n        // Character count indicator + mode indicator bits\n        return mode.getCharCountIndicator(mode$1, version) + 4;\n    }\n    function getTotalBitsFromDataArray(segments, version) {\n        var totalBits = 0;\n        segments.forEach(function (data) {\n            var reservedBits = getReservedBitsCount(data.mode, version);\n            totalBits += reservedBits + data.getBitsLength();\n        });\n        return totalBits;\n    }\n    function getBestVersionForMixedData(segments, errorCorrectionLevel) {\n        for (var currentVersion = 1; currentVersion <= 40; currentVersion++) {\n            var length = getTotalBitsFromDataArray(segments, currentVersion);\n            if (length <= exports.getCapacity(currentVersion, errorCorrectionLevel, mode.MIXED)) {\n                return currentVersion;\n            }\n        }\n        return undefined;\n    }\n    /**\n     * Returns version number from a value.\n     * If value is not a valid version, returns defaultValue\n     *\n     * @param  {Number|String} value        QR Code version\n     * @param  {Number}        defaultValue Fallback value\n     * @return {Number}                     QR Code version number\n     */\n    exports.from = function from(value, defaultValue) {\n        if (versionCheck.isValid(value)) {\n            return parseInt(value, 10);\n        }\n        return defaultValue;\n    };\n    /**\n     * Returns how much data can be stored with the specified QR code version\n     * and error correction level\n     *\n     * @param  {Number} version              QR Code version (1-40)\n     * @param  {Number} errorCorrectionLevel Error correction level\n     * @param  {Mode}   mode                 Data mode\n     * @return {Number}                      Quantity of storable data\n     */\n    exports.getCapacity = function getCapacity(version, errorCorrectionLevel, mode$1) {\n        if (!versionCheck.isValid(version)) {\n            throw new Error('Invalid QR Code version');\n        }\n        // Use Byte mode as default\n        if (typeof mode$1 === 'undefined')\n            mode$1 = mode.BYTE;\n        // Total codewords for this QR code version (Data + Error correction)\n        var totalCodewords = utils.getSymbolTotalCodewords(version);\n        // Total number of error correction codewords\n        var ecTotalCodewords = errorCorrectionCode.getTotalCodewordsCount(version, errorCorrectionLevel);\n        // Total number of data codewords\n        var dataTotalCodewordsBits = (totalCodewords - ecTotalCodewords) * 8;\n        if (mode$1 === mode.MIXED)\n            return dataTotalCodewordsBits;\n        var usableBits = dataTotalCodewordsBits - getReservedBitsCount(mode$1, version);\n        // Return max number of storable codewords\n        switch (mode$1) {\n            case mode.NUMERIC:\n                return Math.floor((usableBits / 10) * 3);\n            case mode.ALPHANUMERIC:\n                return Math.floor((usableBits / 11) * 2);\n            case mode.KANJI:\n                return Math.floor(usableBits / 13);\n            case mode.BYTE:\n            default:\n                return Math.floor(usableBits / 8);\n        }\n    };\n    /**\n     * Returns the minimum version needed to contain the amount of data\n     *\n     * @param  {Segment} data                    Segment of data\n     * @param  {Number} [errorCorrectionLevel=H] Error correction level\n     * @param  {Mode} mode                       Data mode\n     * @return {Number}                          QR Code version\n     */\n    exports.getBestVersionForData = function getBestVersionForData(data, errorCorrectionLevel$1) {\n        var seg;\n        var ecl = errorCorrectionLevel.from(errorCorrectionLevel$1, errorCorrectionLevel.M);\n        if (isarray(data)) {\n            if (data.length > 1) {\n                return getBestVersionForMixedData(data, ecl);\n            }\n            if (data.length === 0) {\n                return 1;\n            }\n            seg = data[0];\n        }\n        else {\n            seg = data;\n        }\n        return getBestVersionForDataLength(seg.mode, seg.getLength(), ecl);\n    };\n    /**\n     * Returns version information with relative error correction bits\n     *\n     * The version information is included in QR Code symbols of version 7 or larger.\n     * It consists of an 18-bit sequence containing 6 data bits,\n     * with 12 error correction bits calculated using the (18, 6) Golay code.\n     *\n     * @param  {Number} version QR Code version\n     * @return {Number}         Encoded version info bits\n     */\n    exports.getEncodedBits = function getEncodedBits(version) {\n        if (!versionCheck.isValid(version) || version < 7) {\n            throw new Error('Invalid QR Code version');\n        }\n        var d = version << 12;\n        while (utils.getBCHDigit(d) - G18_BCH >= 0) {\n            d ^= (G18 << (utils.getBCHDigit(d) - G18_BCH));\n        }\n        return (version << 12) | d;\n    };\n});\nvar G15 = (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0);\nvar G15_MASK = (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1);\nvar G15_BCH = utils.getBCHDigit(G15);\n/**\n * Returns format information with relative error correction bits\n *\n * The format information is a 15-bit sequence containing 5 data bits,\n * with 10 error correction bits calculated using the (15, 5) BCH code.\n *\n * @param  {Number} errorCorrectionLevel Error correction level\n * @param  {Number} mask                 Mask pattern\n * @return {Number}                      Encoded format information bits\n */\nvar getEncodedBits = function getEncodedBits(errorCorrectionLevel, mask) {\n    var data = ((errorCorrectionLevel.bit << 3) | mask);\n    var d = data << 10;\n    while (utils.getBCHDigit(d) - G15_BCH >= 0) {\n        d ^= (G15 << (utils.getBCHDigit(d) - G15_BCH));\n    }\n    // xor final data with mask pattern in order to ensure that\n    // no combination of Error Correction Level and data mask pattern\n    // will result in an all-zero data string\n    return ((data << 10) | d) ^ G15_MASK;\n};\nvar formatInfo = {\n    getEncodedBits: getEncodedBits\n};\nfunction NumericData(data) {\n    this.mode = mode.NUMERIC;\n    this.data = data.toString();\n}\nNumericData.getBitsLength = function getBitsLength(length) {\n    return 10 * Math.floor(length / 3) + ((length % 3) ? ((length % 3) * 3 + 1) : 0);\n};\nNumericData.prototype.getLength = function getLength() {\n    return this.data.length;\n};\nNumericData.prototype.getBitsLength = function getBitsLength() {\n    return NumericData.getBitsLength(this.data.length);\n};\nNumericData.prototype.write = function write(bitBuffer) {\n    var i, group, value;\n    // The input data string is divided into groups of three digits,\n    // and each group is converted to its 10-bit binary equivalent.\n    for (i = 0; i + 3 <= this.data.length; i += 3) {\n        group = this.data.substr(i, 3);\n        value = parseInt(group, 10);\n        bitBuffer.put(value, 10);\n    }\n    // If the number of input digits is not an exact multiple of three,\n    // the final one or two digits are converted to 4 or 7 bits respectively.\n    var remainingNum = this.data.length - i;\n    if (remainingNum > 0) {\n        group = this.data.substr(i);\n        value = parseInt(group, 10);\n        bitBuffer.put(value, remainingNum * 3 + 1);\n    }\n};\nvar numericData = NumericData;\n/**\n * Array of characters available in alphanumeric mode\n *\n * As per QR Code specification, to each character\n * is assigned a value from 0 to 44 which in this case coincides\n * with the array index\n *\n * @type {Array}\n */\nvar ALPHA_NUM_CHARS = [\n    '0', '1', '2', '3', '4', '5', '6', '7', '8', '9',\n    'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M',\n    'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z',\n    ' ', '$', '%', '*', '+', '-', '.', '/', ':'\n];\nfunction AlphanumericData(data) {\n    this.mode = mode.ALPHANUMERIC;\n    this.data = data;\n}\nAlphanumericData.getBitsLength = function getBitsLength(length) {\n    return 11 * Math.floor(length / 2) + 6 * (length % 2);\n};\nAlphanumericData.prototype.getLength = function getLength() {\n    return this.data.length;\n};\nAlphanumericData.prototype.getBitsLength = function getBitsLength() {\n    return AlphanumericData.getBitsLength(this.data.length);\n};\nAlphanumericData.prototype.write = function write(bitBuffer) {\n    var i;\n    // Input data characters are divided into groups of two characters\n    // and encoded as 11-bit binary codes.\n    for (i = 0; i + 2 <= this.data.length; i += 2) {\n        // The character value of the first character is multiplied by 45\n        var value = ALPHA_NUM_CHARS.indexOf(this.data[i]) * 45;\n        // The character value of the second digit is added to the product\n        value += ALPHA_NUM_CHARS.indexOf(this.data[i + 1]);\n        // The sum is then stored as 11-bit binary number\n        bitBuffer.put(value, 11);\n    }\n    // If the number of input data characters is not a multiple of two,\n    // the character value of the final character is encoded as a 6-bit binary number.\n    if (this.data.length % 2) {\n        bitBuffer.put(ALPHA_NUM_CHARS.indexOf(this.data[i]), 6);\n    }\n};\nvar alphanumericData = AlphanumericData;\nfunction ByteData(data) {\n    this.mode = mode.BYTE;\n    this.data = typedarrayBuffer.from(data);\n}\nByteData.getBitsLength = function getBitsLength(length) {\n    return length * 8;\n};\nByteData.prototype.getLength = function getLength() {\n    return this.data.length;\n};\nByteData.prototype.getBitsLength = function getBitsLength() {\n    return ByteData.getBitsLength(this.data.length);\n};\nByteData.prototype.write = function (bitBuffer) {\n    for (var i = 0, l = this.data.length; i < l; i++) {\n        bitBuffer.put(this.data[i], 8);\n    }\n};\nvar byteData = ByteData;\nfunction KanjiData(data) {\n    this.mode = mode.KANJI;\n    this.data = data;\n}\nKanjiData.getBitsLength = function getBitsLength(length) {\n    return length * 13;\n};\nKanjiData.prototype.getLength = function getLength() {\n    return this.data.length;\n};\nKanjiData.prototype.getBitsLength = function getBitsLength() {\n    return KanjiData.getBitsLength(this.data.length);\n};\nKanjiData.prototype.write = function (bitBuffer) {\n    var i;\n    // In the Shift JIS system, Kanji characters are represented by a two byte combination.\n    // These byte values are shifted from the JIS X 0208 values.\n    // JIS X 0208 gives details of the shift coded representation.\n    for (i = 0; i < this.data.length; i++) {\n        var value = utils.toSJIS(this.data[i]);\n        // For characters with Shift JIS values from 0x8140 to 0x9FFC:\n        if (value >= 0x8140 && value <= 0x9FFC) {\n            // Subtract 0x8140 from Shift JIS value\n            value -= 0x8140;\n            // For characters with Shift JIS values from 0xE040 to 0xEBBF\n        }\n        else if (value >= 0xE040 && value <= 0xEBBF) {\n            // Subtract 0xC140 from Shift JIS value\n            value -= 0xC140;\n        }\n        else {\n            throw new Error('Invalid SJIS character: ' + this.data[i] + '\\n' +\n                'Make sure your charset is UTF-8');\n        }\n        // Multiply most significant byte of result by 0xC0\n        // and add least significant byte to product\n        value = (((value >>> 8) & 0xff) * 0xC0) + (value & 0xff);\n        // Convert result to a 13-bit binary string\n        bitBuffer.put(value, 13);\n    }\n};\nvar kanjiData = KanjiData;\nvar dijkstra_1 = createCommonjsModule(function (module) {\n    /******************************************************************************\n     * Created 2008-08-19.\n     *\n     * Dijkstra path-finding functions. Adapted from the Dijkstar Python project.\n     *\n     * Copyright (C) 2008\n     *   Wyatt Baldwin <self@wyattbaldwin.com>\n     *   All rights reserved\n     *\n     * Licensed under the MIT license.\n     *\n     *   http://www.opensource.org/licenses/mit-license.php\n     *\n     * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n     * THE SOFTWARE.\n     *****************************************************************************/\n    var dijkstra = {\n        single_source_shortest_paths: function (graph, s, d) {\n            // Predecessor map for each node that has been encountered.\n            // node ID => predecessor node ID\n            var predecessors = {};\n            // Costs of shortest paths from s to all nodes encountered.\n            // node ID => cost\n            var costs = {};\n            costs[s] = 0;\n            // Costs of shortest paths from s to all nodes encountered; differs from\n            // `costs` in that it provides easy access to the node that currently has\n            // the known shortest path from s.\n            // XXX: Do we actually need both `costs` and `open`?\n            var open = dijkstra.PriorityQueue.make();\n            open.push(s, 0);\n            var closest, u, v, cost_of_s_to_u, adjacent_nodes, cost_of_e, cost_of_s_to_u_plus_cost_of_e, cost_of_s_to_v, first_visit;\n            while (!open.empty()) {\n                // In the nodes remaining in graph that have a known cost from s,\n                // find the node, u, that currently has the shortest path from s.\n                closest = open.pop();\n                u = closest.value;\n                cost_of_s_to_u = closest.cost;\n                // Get nodes adjacent to u...\n                adjacent_nodes = graph[u] || {};\n                // ...and explore the edges that connect u to those nodes, updating\n                // the cost of the shortest paths to any or all of those nodes as\n                // necessary. v is the node across the current edge from u.\n                for (v in adjacent_nodes) {\n                    if (adjacent_nodes.hasOwnProperty(v)) {\n                        // Get the cost of the edge running from u to v.\n                        cost_of_e = adjacent_nodes[v];\n                        // Cost of s to u plus the cost of u to v across e--this is *a*\n                        // cost from s to v that may or may not be less than the current\n                        // known cost to v.\n                        cost_of_s_to_u_plus_cost_of_e = cost_of_s_to_u + cost_of_e;\n                        // If we haven't visited v yet OR if the current known cost from s to\n                        // v is greater than the new cost we just found (cost of s to u plus\n                        // cost of u to v across e), update v's cost in the cost list and\n                        // update v's predecessor in the predecessor list (it's now u).\n                        cost_of_s_to_v = costs[v];\n                        first_visit = (typeof costs[v] === 'undefined');\n                        if (first_visit || cost_of_s_to_v > cost_of_s_to_u_plus_cost_of_e) {\n                            costs[v] = cost_of_s_to_u_plus_cost_of_e;\n                            open.push(v, cost_of_s_to_u_plus_cost_of_e);\n                            predecessors[v] = u;\n                        }\n                    }\n                }\n            }\n            if (typeof d !== 'undefined' && typeof costs[d] === 'undefined') {\n                var msg = ['Could not find a path from ', s, ' to ', d, '.'].join('');\n                throw new Error(msg);\n            }\n            return predecessors;\n        },\n        extract_shortest_path_from_predecessor_list: function (predecessors, d) {\n            var nodes = [];\n            var u = d;\n            while (u) {\n                nodes.push(u);\n                u = predecessors[u];\n            }\n            nodes.reverse();\n            return nodes;\n        },\n        find_path: function (graph, s, d) {\n            var predecessors = dijkstra.single_source_shortest_paths(graph, s, d);\n            return dijkstra.extract_shortest_path_from_predecessor_list(predecessors, d);\n        },\n        /**\n         * A very naive priority queue implementation.\n         */\n        PriorityQueue: {\n            make: function (opts) {\n                var T = dijkstra.PriorityQueue, t = {}, key;\n                opts = opts || {};\n                for (key in T) {\n                    if (T.hasOwnProperty(key)) {\n                        t[key] = T[key];\n                    }\n                }\n                t.queue = [];\n                t.sorter = opts.sorter || T.default_sorter;\n                return t;\n            },\n            default_sorter: function (a, b) {\n                return a.cost - b.cost;\n            },\n            /**\n             * Add a new item to the queue and ensure the highest priority element\n             * is at the front of the queue.\n             */\n            push: function (value, cost) {\n                var item = { value: value, cost: cost };\n                this.queue.push(item);\n                this.queue.sort(this.sorter);\n            },\n            /**\n             * Return the highest priority element in the queue.\n             */\n            pop: function () {\n                return this.queue.shift();\n            },\n            empty: function () {\n                return this.queue.length === 0;\n            }\n        }\n    };\n    // node.js module exports\n    {\n        module.exports = dijkstra;\n    }\n});\nvar segments = createCommonjsModule(function (module, exports) {\n    /**\n     * Returns UTF8 byte length\n     *\n     * @param  {String} str Input string\n     * @return {Number}     Number of byte\n     */\n    function getStringByteLength(str) {\n        return unescape(encodeURIComponent(str)).length;\n    }\n    /**\n     * Get a list of segments of the specified mode\n     * from a string\n     *\n     * @param  {Mode}   mode Segment mode\n     * @param  {String} str  String to process\n     * @return {Array}       Array of object with segments data\n     */\n    function getSegments(regex, mode, str) {\n        var segments = [];\n        var result;\n        while ((result = regex.exec(str)) !== null) {\n            segments.push({\n                data: result[0],\n                index: result.index,\n                mode: mode,\n                length: result[0].length\n            });\n        }\n        return segments;\n    }\n    /**\n     * Extracts a series of segments with the appropriate\n     * modes from a string\n     *\n     * @param  {String} dataStr Input string\n     * @return {Array}          Array of object with segments data\n     */\n    function getSegmentsFromString(dataStr) {\n        var numSegs = getSegments(regex.NUMERIC, mode.NUMERIC, dataStr);\n        var alphaNumSegs = getSegments(regex.ALPHANUMERIC, mode.ALPHANUMERIC, dataStr);\n        var byteSegs;\n        var kanjiSegs;\n        if (utils.isKanjiModeEnabled()) {\n            byteSegs = getSegments(regex.BYTE, mode.BYTE, dataStr);\n            kanjiSegs = getSegments(regex.KANJI, mode.KANJI, dataStr);\n        }\n        else {\n            byteSegs = getSegments(regex.BYTE_KANJI, mode.BYTE, dataStr);\n            kanjiSegs = [];\n        }\n        var segs = numSegs.concat(alphaNumSegs, byteSegs, kanjiSegs);\n        return segs\n            .sort(function (s1, s2) {\n            return s1.index - s2.index;\n        })\n            .map(function (obj) {\n            return {\n                data: obj.data,\n                mode: obj.mode,\n                length: obj.length\n            };\n        });\n    }\n    /**\n     * Returns how many bits are needed to encode a string of\n     * specified length with the specified mode\n     *\n     * @param  {Number} length String length\n     * @param  {Mode} mode     Segment mode\n     * @return {Number}        Bit length\n     */\n    function getSegmentBitsLength(length, mode$1) {\n        switch (mode$1) {\n            case mode.NUMERIC:\n                return numericData.getBitsLength(length);\n            case mode.ALPHANUMERIC:\n                return alphanumericData.getBitsLength(length);\n            case mode.KANJI:\n                return kanjiData.getBitsLength(length);\n            case mode.BYTE:\n                return byteData.getBitsLength(length);\n        }\n    }\n    /**\n     * Merges adjacent segments which have the same mode\n     *\n     * @param  {Array} segs Array of object with segments data\n     * @return {Array}      Array of object with segments data\n     */\n    function mergeSegments(segs) {\n        return segs.reduce(function (acc, curr) {\n            var prevSeg = acc.length - 1 >= 0 ? acc[acc.length - 1] : null;\n            if (prevSeg && prevSeg.mode === curr.mode) {\n                acc[acc.length - 1].data += curr.data;\n                return acc;\n            }\n            acc.push(curr);\n            return acc;\n        }, []);\n    }\n    /**\n     * Generates a list of all possible nodes combination which\n     * will be used to build a segments graph.\n     *\n     * Nodes are divided by groups. Each group will contain a list of all the modes\n     * in which is possible to encode the given text.\n     *\n     * For example the text '12345' can be encoded as Numeric, Alphanumeric or Byte.\n     * The group for '12345' will contain then 3 objects, one for each\n     * possible encoding mode.\n     *\n     * Each node represents a possible segment.\n     *\n     * @param  {Array} segs Array of object with segments data\n     * @return {Array}      Array of object with segments data\n     */\n    function buildNodes(segs) {\n        var nodes = [];\n        for (var i = 0; i < segs.length; i++) {\n            var seg = segs[i];\n            switch (seg.mode) {\n                case mode.NUMERIC:\n                    nodes.push([seg,\n                        { data: seg.data, mode: mode.ALPHANUMERIC, length: seg.length },\n                        { data: seg.data, mode: mode.BYTE, length: seg.length }\n                    ]);\n                    break;\n                case mode.ALPHANUMERIC:\n                    nodes.push([seg,\n                        { data: seg.data, mode: mode.BYTE, length: seg.length }\n                    ]);\n                    break;\n                case mode.KANJI:\n                    nodes.push([seg,\n                        { data: seg.data, mode: mode.BYTE, length: getStringByteLength(seg.data) }\n                    ]);\n                    break;\n                case mode.BYTE:\n                    nodes.push([\n                        { data: seg.data, mode: mode.BYTE, length: getStringByteLength(seg.data) }\n                    ]);\n            }\n        }\n        return nodes;\n    }\n    /**\n     * Builds a graph from a list of nodes.\n     * All segments in each node group will be connected with all the segments of\n     * the next group and so on.\n     *\n     * At each connection will be assigned a weight depending on the\n     * segment's byte length.\n     *\n     * @param  {Array} nodes    Array of object with segments data\n     * @param  {Number} version QR Code version\n     * @return {Object}         Graph of all possible segments\n     */\n    function buildGraph(nodes, version) {\n        var table = {};\n        var graph = { 'start': {} };\n        var prevNodeIds = ['start'];\n        for (var i = 0; i < nodes.length; i++) {\n            var nodeGroup = nodes[i];\n            var currentNodeIds = [];\n            for (var j = 0; j < nodeGroup.length; j++) {\n                var node = nodeGroup[j];\n                var key = '' + i + j;\n                currentNodeIds.push(key);\n                table[key] = { node: node, lastCount: 0 };\n                graph[key] = {};\n                for (var n = 0; n < prevNodeIds.length; n++) {\n                    var prevNodeId = prevNodeIds[n];\n                    if (table[prevNodeId] && table[prevNodeId].node.mode === node.mode) {\n                        graph[prevNodeId][key] =\n                            getSegmentBitsLength(table[prevNodeId].lastCount + node.length, node.mode) -\n                                getSegmentBitsLength(table[prevNodeId].lastCount, node.mode);\n                        table[prevNodeId].lastCount += node.length;\n                    }\n                    else {\n                        if (table[prevNodeId])\n                            table[prevNodeId].lastCount = node.length;\n                        graph[prevNodeId][key] = getSegmentBitsLength(node.length, node.mode) +\n                            4 + mode.getCharCountIndicator(node.mode, version); // switch cost\n                    }\n                }\n            }\n            prevNodeIds = currentNodeIds;\n        }\n        for (n = 0; n < prevNodeIds.length; n++) {\n            graph[prevNodeIds[n]]['end'] = 0;\n        }\n        return { map: graph, table: table };\n    }\n    /**\n     * Builds a segment from a specified data and mode.\n     * If a mode is not specified, the more suitable will be used.\n     *\n     * @param  {String} data             Input data\n     * @param  {Mode | String} modesHint Data mode\n     * @return {Segment}                 Segment\n     */\n    function buildSingleSegment(data, modesHint) {\n        var mode$1;\n        var bestMode = mode.getBestModeForData(data);\n        mode$1 = mode.from(modesHint, bestMode);\n        // Make sure data can be encoded\n        if (mode$1 !== mode.BYTE && mode$1.bit < bestMode.bit) {\n            throw new Error('\"' + data + '\"' +\n                ' cannot be encoded with mode ' + mode.toString(mode$1) +\n                '.\\n Suggested mode is: ' + mode.toString(bestMode));\n        }\n        // Use Mode.BYTE if Kanji support is disabled\n        if (mode$1 === mode.KANJI && !utils.isKanjiModeEnabled()) {\n            mode$1 = mode.BYTE;\n        }\n        switch (mode$1) {\n            case mode.NUMERIC:\n                return new numericData(data);\n            case mode.ALPHANUMERIC:\n                return new alphanumericData(data);\n            case mode.KANJI:\n                return new kanjiData(data);\n            case mode.BYTE:\n                return new byteData(data);\n        }\n    }\n    /**\n     * Builds a list of segments from an array.\n     * Array can contain Strings or Objects with segment's info.\n     *\n     * For each item which is a string, will be generated a segment with the given\n     * string and the more appropriate encoding mode.\n     *\n     * For each item which is an object, will be generated a segment with the given\n     * data and mode.\n     * Objects must contain at least the property \"data\".\n     * If property \"mode\" is not present, the more suitable mode will be used.\n     *\n     * @param  {Array} array Array of objects with segments data\n     * @return {Array}       Array of Segments\n     */\n    exports.fromArray = function fromArray(array) {\n        return array.reduce(function (acc, seg) {\n            if (typeof seg === 'string') {\n                acc.push(buildSingleSegment(seg, null));\n            }\n            else if (seg.data) {\n                acc.push(buildSingleSegment(seg.data, seg.mode));\n            }\n            return acc;\n        }, []);\n    };\n    /**\n     * Builds an optimized sequence of segments from a string,\n     * which will produce the shortest possible bitstream.\n     *\n     * @param  {String} data    Input string\n     * @param  {Number} version QR Code version\n     * @return {Array}          Array of segments\n     */\n    exports.fromString = function fromString(data, version) {\n        var segs = getSegmentsFromString(data, utils.isKanjiModeEnabled());\n        var nodes = buildNodes(segs);\n        var graph = buildGraph(nodes, version);\n        var path = dijkstra_1.find_path(graph.map, 'start', 'end');\n        var optimizedSegs = [];\n        for (var i = 1; i < path.length - 1; i++) {\n            optimizedSegs.push(graph.table[path[i]].node);\n        }\n        return exports.fromArray(mergeSegments(optimizedSegs));\n    };\n    /**\n     * Splits a string in various segments with the modes which\n     * best represent their content.\n     * The produced segments are far from being optimized.\n     * The output of this function is only used to estimate a QR Code version\n     * which may contain the data.\n     *\n     * @param  {string} data Input string\n     * @return {Array}       Array of segments\n     */\n    exports.rawSplit = function rawSplit(data) {\n        return exports.fromArray(getSegmentsFromString(data, utils.isKanjiModeEnabled()));\n    };\n});\n/**\n * QRCode for JavaScript\n *\n * modified by Ryan Day for nodejs support\n * Copyright (c) 2011 Ryan Day\n *\n * Licensed under the MIT license:\n *   http://www.opensource.org/licenses/mit-license.php\n *\n//---------------------------------------------------------------------\n// QRCode for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//   http://www.opensource.org/licenses/mit-license.php\n//\n// The word \"QR Code\" is registered trademark of\n// DENSO WAVE INCORPORATED\n//   http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\n*/\n/**\n * Add finder patterns bits to matrix\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\nfunction setupFinderPattern(matrix, version) {\n    var size = matrix.size;\n    var pos = finderPattern.getPositions(version);\n    for (var i = 0; i < pos.length; i++) {\n        var row = pos[i][0];\n        var col = pos[i][1];\n        for (var r = -1; r <= 7; r++) {\n            if (row + r <= -1 || size <= row + r)\n                continue;\n            for (var c = -1; c <= 7; c++) {\n                if (col + c <= -1 || size <= col + c)\n                    continue;\n                if ((r >= 0 && r <= 6 && (c === 0 || c === 6)) ||\n                    (c >= 0 && c <= 6 && (r === 0 || r === 6)) ||\n                    (r >= 2 && r <= 4 && c >= 2 && c <= 4)) {\n                    matrix.set(row + r, col + c, true, true);\n                }\n                else {\n                    matrix.set(row + r, col + c, false, true);\n                }\n            }\n        }\n    }\n}\n/**\n * Add timing pattern bits to matrix\n *\n * Note: this function must be called before {@link setupAlignmentPattern}\n *\n * @param  {BitMatrix} matrix Modules matrix\n */\nfunction setupTimingPattern(matrix) {\n    var size = matrix.size;\n    for (var r = 8; r < size - 8; r++) {\n        var value = r % 2 === 0;\n        matrix.set(r, 6, value, true);\n        matrix.set(6, r, value, true);\n    }\n}\n/**\n * Add alignment patterns bits to matrix\n *\n * Note: this function must be called after {@link setupTimingPattern}\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\nfunction setupAlignmentPattern(matrix, version) {\n    var pos = alignmentPattern.getPositions(version);\n    for (var i = 0; i < pos.length; i++) {\n        var row = pos[i][0];\n        var col = pos[i][1];\n        for (var r = -2; r <= 2; r++) {\n            for (var c = -2; c <= 2; c++) {\n                if (r === -2 || r === 2 || c === -2 || c === 2 ||\n                    (r === 0 && c === 0)) {\n                    matrix.set(row + r, col + c, true, true);\n                }\n                else {\n                    matrix.set(row + r, col + c, false, true);\n                }\n            }\n        }\n    }\n}\n/**\n * Add version info bits to matrix\n *\n * @param  {BitMatrix} matrix  Modules matrix\n * @param  {Number}    version QR Code version\n */\nfunction setupVersionInfo(matrix, version$1) {\n    var size = matrix.size;\n    var bits = version.getEncodedBits(version$1);\n    var row, col, mod;\n    for (var i = 0; i < 18; i++) {\n        row = Math.floor(i / 3);\n        col = i % 3 + size - 8 - 3;\n        mod = ((bits >> i) & 1) === 1;\n        matrix.set(row, col, mod, true);\n        matrix.set(col, row, mod, true);\n    }\n}\n/**\n * Add format info bits to matrix\n *\n * @param  {BitMatrix} matrix               Modules matrix\n * @param  {ErrorCorrectionLevel}    errorCorrectionLevel Error correction level\n * @param  {Number}    maskPattern          Mask pattern reference value\n */\nfunction setupFormatInfo(matrix, errorCorrectionLevel, maskPattern) {\n    var size = matrix.size;\n    var bits = formatInfo.getEncodedBits(errorCorrectionLevel, maskPattern);\n    var i, mod;\n    for (i = 0; i < 15; i++) {\n        mod = ((bits >> i) & 1) === 1;\n        // vertical\n        if (i < 6) {\n            matrix.set(i, 8, mod, true);\n        }\n        else if (i < 8) {\n            matrix.set(i + 1, 8, mod, true);\n        }\n        else {\n            matrix.set(size - 15 + i, 8, mod, true);\n        }\n        // horizontal\n        if (i < 8) {\n            matrix.set(8, size - i - 1, mod, true);\n        }\n        else if (i < 9) {\n            matrix.set(8, 15 - i - 1 + 1, mod, true);\n        }\n        else {\n            matrix.set(8, 15 - i - 1, mod, true);\n        }\n    }\n    // fixed module\n    matrix.set(size - 8, 8, 1, true);\n}\n/**\n * Add encoded data bits to matrix\n *\n * @param  {BitMatrix} matrix Modules matrix\n * @param  {Buffer}    data   Data codewords\n */\nfunction setupData(matrix, data) {\n    var size = matrix.size;\n    var inc = -1;\n    var row = size - 1;\n    var bitIndex = 7;\n    var byteIndex = 0;\n    for (var col = size - 1; col > 0; col -= 2) {\n        if (col === 6)\n            col--;\n        while (true) {\n            for (var c = 0; c < 2; c++) {\n                if (!matrix.isReserved(row, col - c)) {\n                    var dark = false;\n                    if (byteIndex < data.length) {\n                        dark = (((data[byteIndex] >>> bitIndex) & 1) === 1);\n                    }\n                    matrix.set(row, col - c, dark);\n                    bitIndex--;\n                    if (bitIndex === -1) {\n                        byteIndex++;\n                        bitIndex = 7;\n                    }\n                }\n            }\n            row += inc;\n            if (row < 0 || size <= row) {\n                row -= inc;\n                inc = -inc;\n                break;\n            }\n        }\n    }\n}\n/**\n * Create encoded codewords from data input\n *\n * @param  {Number}   version              QR Code version\n * @param  {ErrorCorrectionLevel}   errorCorrectionLevel Error correction level\n * @param  {ByteData} data                 Data input\n * @return {Buffer}                        Buffer containing encoded codewords\n */\nfunction createData(version, errorCorrectionLevel, segments) {\n    // Prepare data buffer\n    var buffer = new bitBuffer();\n    segments.forEach(function (data) {\n        // prefix data with mode indicator (4 bits)\n        buffer.put(data.mode.bit, 4);\n        // Prefix data with character count indicator.\n        // The character count indicator is a string of bits that represents the\n        // number of characters that are being encoded.\n        // The character count indicator must be placed after the mode indicator\n        // and must be a certain number of bits long, depending on the QR version\n        // and data mode\n        // @see {@link Mode.getCharCountIndicator}.\n        buffer.put(data.getLength(), mode.getCharCountIndicator(data.mode, version));\n        // add binary data sequence to buffer\n        data.write(buffer);\n    });\n    // Calculate required number of bits\n    var totalCodewords = utils.getSymbolTotalCodewords(version);\n    var ecTotalCodewords = errorCorrectionCode.getTotalCodewordsCount(version, errorCorrectionLevel);\n    var dataTotalCodewordsBits = (totalCodewords - ecTotalCodewords) * 8;\n    // Add a terminator.\n    // If the bit string is shorter than the total number of required bits,\n    // a terminator of up to four 0s must be added to the right side of the string.\n    // If the bit string is more than four bits shorter than the required number of bits,\n    // add four 0s to the end.\n    if (buffer.getLengthInBits() + 4 <= dataTotalCodewordsBits) {\n        buffer.put(0, 4);\n    }\n    // If the bit string is fewer than four bits shorter, add only the number of 0s that\n    // are needed to reach the required number of bits.\n    // After adding the terminator, if the number of bits in the string is not a multiple of 8,\n    // pad the string on the right with 0s to make the string's length a multiple of 8.\n    while (buffer.getLengthInBits() % 8 !== 0) {\n        buffer.putBit(0);\n    }\n    // Add pad bytes if the string is still shorter than the total number of required bits.\n    // Extend the buffer to fill the data capacity of the symbol corresponding to\n    // the Version and Error Correction Level by adding the Pad Codewords 11101100 (0xEC)\n    // and 00010001 (0x11) alternately.\n    var remainingByte = (dataTotalCodewordsBits - buffer.getLengthInBits()) / 8;\n    for (var i = 0; i < remainingByte; i++) {\n        buffer.put(i % 2 ? 0x11 : 0xEC, 8);\n    }\n    return createCodewords(buffer, version, errorCorrectionLevel);\n}\n/**\n * Encode input data with Reed-Solomon and return codewords with\n * relative error correction bits\n *\n * @param  {BitBuffer} bitBuffer            Data to encode\n * @param  {Number}    version              QR Code version\n * @param  {ErrorCorrectionLevel} errorCorrectionLevel Error correction level\n * @return {Buffer}                         Buffer containing encoded codewords\n */\nfunction createCodewords(bitBuffer, version, errorCorrectionLevel) {\n    // Total codewords for this QR code version (Data + Error correction)\n    var totalCodewords = utils.getSymbolTotalCodewords(version);\n    // Total number of error correction codewords\n    var ecTotalCodewords = errorCorrectionCode.getTotalCodewordsCount(version, errorCorrectionLevel);\n    // Total number of data codewords\n    var dataTotalCodewords = totalCodewords - ecTotalCodewords;\n    // Total number of blocks\n    var ecTotalBlocks = errorCorrectionCode.getBlocksCount(version, errorCorrectionLevel);\n    // Calculate how many blocks each group should contain\n    var blocksInGroup2 = totalCodewords % ecTotalBlocks;\n    var blocksInGroup1 = ecTotalBlocks - blocksInGroup2;\n    var totalCodewordsInGroup1 = Math.floor(totalCodewords / ecTotalBlocks);\n    var dataCodewordsInGroup1 = Math.floor(dataTotalCodewords / ecTotalBlocks);\n    var dataCodewordsInGroup2 = dataCodewordsInGroup1 + 1;\n    // Number of EC codewords is the same for both groups\n    var ecCount = totalCodewordsInGroup1 - dataCodewordsInGroup1;\n    // Initialize a Reed-Solomon encoder with a generator polynomial of degree ecCount\n    var rs = new reedSolomonEncoder(ecCount);\n    var offset = 0;\n    var dcData = new Array(ecTotalBlocks);\n    var ecData = new Array(ecTotalBlocks);\n    var maxDataSize = 0;\n    var buffer = typedarrayBuffer.from(bitBuffer.buffer);\n    // Divide the buffer into the required number of blocks\n    for (var b = 0; b < ecTotalBlocks; b++) {\n        var dataSize = b < blocksInGroup1 ? dataCodewordsInGroup1 : dataCodewordsInGroup2;\n        // extract a block of data from buffer\n        dcData[b] = buffer.slice(offset, offset + dataSize);\n        // Calculate EC codewords for this data block\n        ecData[b] = rs.encode(dcData[b]);\n        offset += dataSize;\n        maxDataSize = Math.max(maxDataSize, dataSize);\n    }\n    // Create final data\n    // Interleave the data and error correction codewords from each block\n    var data = typedarrayBuffer.alloc(totalCodewords);\n    var index = 0;\n    var i, r;\n    // Add data codewords\n    for (i = 0; i < maxDataSize; i++) {\n        for (r = 0; r < ecTotalBlocks; r++) {\n            if (i < dcData[r].length) {\n                data[index++] = dcData[r][i];\n            }\n        }\n    }\n    // Apped EC codewords\n    for (i = 0; i < ecCount; i++) {\n        for (r = 0; r < ecTotalBlocks; r++) {\n            data[index++] = ecData[r][i];\n        }\n    }\n    return data;\n}\n/**\n * Build QR Code symbol\n *\n * @param  {String} data                 Input string\n * @param  {Number} version              QR Code version\n * @param  {ErrorCorretionLevel} errorCorrectionLevel Error level\n * @param  {MaskPattern} maskPattern     Mask pattern\n * @return {Object}                      Object containing symbol data\n */\nfunction createSymbol(data, version$1, errorCorrectionLevel, maskPattern$1) {\n    var segments$1;\n    if (isarray(data)) {\n        segments$1 = segments.fromArray(data);\n    }\n    else if (typeof data === 'string') {\n        var estimatedVersion = version$1;\n        if (!estimatedVersion) {\n            var rawSegments = segments.rawSplit(data);\n            // Estimate best version that can contain raw splitted segments\n            estimatedVersion = version.getBestVersionForData(rawSegments, errorCorrectionLevel);\n        }\n        // Build optimized segments\n        // If estimated version is undefined, try with the highest version\n        segments$1 = segments.fromString(data, estimatedVersion || 40);\n    }\n    else {\n        throw new Error('Invalid data');\n    }\n    // Get the min version that can contain data\n    var bestVersion = version.getBestVersionForData(segments$1, errorCorrectionLevel);\n    // If no version is found, data cannot be stored\n    if (!bestVersion) {\n        throw new Error('The amount of data is too big to be stored in a QR Code');\n    }\n    // If not specified, use min version as default\n    if (!version$1) {\n        version$1 = bestVersion;\n        // Check if the specified version can contain the data\n    }\n    else if (version$1 < bestVersion) {\n        throw new Error('\\n' +\n            'The chosen QR Code version cannot contain this amount of data.\\n' +\n            'Minimum version required to store current data is: ' + bestVersion + '.\\n');\n    }\n    var dataBits = createData(version$1, errorCorrectionLevel, segments$1);\n    // Allocate matrix buffer\n    var moduleCount = utils.getSymbolSize(version$1);\n    var modules = new bitMatrix(moduleCount);\n    // Add function modules\n    setupFinderPattern(modules, version$1);\n    setupTimingPattern(modules);\n    setupAlignmentPattern(modules, version$1);\n    // Add temporary dummy bits for format info just to set them as reserved.\n    // This is needed to prevent these bits from being masked by {@link MaskPattern.applyMask}\n    // since the masking operation must be performed only on the encoding region.\n    // These blocks will be replaced with correct values later in code.\n    setupFormatInfo(modules, errorCorrectionLevel, 0);\n    if (version$1 >= 7) {\n        setupVersionInfo(modules, version$1);\n    }\n    // Add data codewords\n    setupData(modules, dataBits);\n    if (isNaN(maskPattern$1)) {\n        // Find best mask pattern\n        maskPattern$1 = maskPattern.getBestMask(modules, setupFormatInfo.bind(null, modules, errorCorrectionLevel));\n    }\n    // Apply mask pattern\n    maskPattern.applyMask(maskPattern$1, modules);\n    // Replace format info bits with correct values\n    setupFormatInfo(modules, errorCorrectionLevel, maskPattern$1);\n    return {\n        modules: modules,\n        version: version$1,\n        errorCorrectionLevel: errorCorrectionLevel,\n        maskPattern: maskPattern$1,\n        segments: segments$1\n    };\n}\n/**\n * QR Code\n *\n * @param {String | Array} data                 Input data\n * @param {Object} options                      Optional configurations\n * @param {Number} options.version              QR Code version\n * @param {String} options.errorCorrectionLevel Error correction level\n * @param {Function} options.toSJISFunc         Helper func to convert utf8 to sjis\n */\nvar create = function create(data, options) {\n    if (typeof data === 'undefined' || data === '') {\n        throw new Error('No input text');\n    }\n    var errorCorrectionLevel$1 = errorCorrectionLevel.M;\n    var version$1;\n    var mask;\n    if (typeof options !== 'undefined') {\n        // Use higher error correction level as default\n        errorCorrectionLevel$1 = errorCorrectionLevel.from(options.errorCorrectionLevel, errorCorrectionLevel.M);\n        version$1 = version.from(options.version);\n        mask = maskPattern.from(options.maskPattern);\n        if (options.toSJISFunc) {\n            utils.setToSJISFunction(options.toSJISFunc);\n        }\n    }\n    return createSymbol(data, version$1, errorCorrectionLevel$1, mask);\n};\nvar qrcode = {\n    create: create\n};\nvar utils$1 = createCommonjsModule(function (module, exports) {\n    function hex2rgba(hex) {\n        if (typeof hex === 'number') {\n            hex = hex.toString();\n        }\n        if (typeof hex !== 'string') {\n            throw new Error('Color should be defined as hex string');\n        }\n        var hexCode = hex.slice().replace('#', '').split('');\n        if (hexCode.length < 3 || hexCode.length === 5 || hexCode.length > 8) {\n            throw new Error('Invalid hex color: ' + hex);\n        }\n        // Convert from short to long form (fff -> ffffff)\n        if (hexCode.length === 3 || hexCode.length === 4) {\n            hexCode = Array.prototype.concat.apply([], hexCode.map(function (c) {\n                return [c, c];\n            }));\n        }\n        // Add default alpha value\n        if (hexCode.length === 6)\n            hexCode.push('F', 'F');\n        var hexValue = parseInt(hexCode.join(''), 16);\n        return {\n            r: (hexValue >> 24) & 255,\n            g: (hexValue >> 16) & 255,\n            b: (hexValue >> 8) & 255,\n            a: hexValue & 255,\n            hex: '#' + hexCode.slice(0, 6).join('')\n        };\n    }\n    exports.getOptions = function getOptions(options) {\n        if (!options)\n            options = {};\n        if (!options.color)\n            options.color = {};\n        var margin = typeof options.margin === 'undefined' ||\n            options.margin === null ||\n            options.margin < 0 ? 4 : options.margin;\n        var width = options.width && options.width >= 21 ? options.width : undefined;\n        var scale = options.scale || 4;\n        return {\n            width: width,\n            scale: width ? 4 : scale,\n            margin: margin,\n            color: {\n                dark: hex2rgba(options.color.dark || '#000000ff'),\n                light: hex2rgba(options.color.light || '#ffffffff')\n            },\n            type: options.type,\n            rendererOpts: options.rendererOpts || {}\n        };\n    };\n    exports.getScale = function getScale(qrSize, opts) {\n        return opts.width && opts.width >= qrSize + opts.margin * 2\n            ? opts.width / (qrSize + opts.margin * 2)\n            : opts.scale;\n    };\n    exports.getImageWidth = function getImageWidth(qrSize, opts) {\n        var scale = exports.getScale(qrSize, opts);\n        return Math.floor((qrSize + opts.margin * 2) * scale);\n    };\n    exports.qrToImageData = function qrToImageData(imgData, qr, opts) {\n        var size = qr.modules.size;\n        var data = qr.modules.data;\n        var scale = exports.getScale(size, opts);\n        var symbolSize = Math.floor((size + opts.margin * 2) * scale);\n        var scaledMargin = opts.margin * scale;\n        var palette = [opts.color.light, opts.color.dark];\n        for (var i = 0; i < symbolSize; i++) {\n            for (var j = 0; j < symbolSize; j++) {\n                var posDst = (i * symbolSize + j) * 4;\n                var pxColor = opts.color.light;\n                if (i >= scaledMargin && j >= scaledMargin &&\n                    i < symbolSize - scaledMargin && j < symbolSize - scaledMargin) {\n                    var iSrc = Math.floor((i - scaledMargin) / scale);\n                    var jSrc = Math.floor((j - scaledMargin) / scale);\n                    pxColor = palette[data[iSrc * size + jSrc] ? 1 : 0];\n                }\n                imgData[posDst++] = pxColor.r;\n                imgData[posDst++] = pxColor.g;\n                imgData[posDst++] = pxColor.b;\n                imgData[posDst] = pxColor.a;\n            }\n        }\n    };\n});\nvar canvas = createCommonjsModule(function (module, exports) {\n    function clearCanvas(ctx, canvas, size) {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        if (!canvas.style)\n            canvas.style = {};\n        canvas.height = size;\n        canvas.width = size;\n        canvas.style.height = size + 'px';\n        canvas.style.width = size + 'px';\n    }\n    function getCanvasElement() {\n        try {\n            return document.createElement('canvas');\n        }\n        catch (e) {\n            throw new Error('You need to specify a canvas element');\n        }\n    }\n    exports.render = function render(qrData, canvas, options) {\n        var opts = options;\n        var canvasEl = canvas;\n        if (typeof opts === 'undefined' && (!canvas || !canvas.getContext)) {\n            opts = canvas;\n            canvas = undefined;\n        }\n        if (!canvas) {\n            canvasEl = getCanvasElement();\n        }\n        opts = utils$1.getOptions(opts);\n        var size = utils$1.getImageWidth(qrData.modules.size, opts);\n        var ctx = canvasEl.getContext('2d');\n        var image = ctx.createImageData(size, size);\n        utils$1.qrToImageData(image.data, qrData, opts);\n        clearCanvas(ctx, canvasEl, size);\n        ctx.putImageData(image, 0, 0);\n        return canvasEl;\n    };\n    exports.renderToDataURL = function renderToDataURL(qrData, canvas, options) {\n        var opts = options;\n        if (typeof opts === 'undefined' && (!canvas || !canvas.getContext)) {\n            opts = canvas;\n            canvas = undefined;\n        }\n        if (!opts)\n            opts = {};\n        var canvasEl = exports.render(qrData, canvas, opts);\n        var type = opts.type || 'image/png';\n        var rendererOpts = opts.rendererOpts || {};\n        return canvasEl.toDataURL(type, rendererOpts.quality);\n    };\n});\nfunction getColorAttrib(color, attrib) {\n    var alpha = color.a / 255;\n    var str = attrib + '=\"' + color.hex + '\"';\n    return alpha < 1\n        ? str + ' ' + attrib + '-opacity=\"' + alpha.toFixed(2).slice(1) + '\"'\n        : str;\n}\nfunction svgCmd(cmd, x, y) {\n    var str = cmd + x;\n    if (typeof y !== 'undefined')\n        str += ' ' + y;\n    return str;\n}\nfunction qrToPath(data, size, margin) {\n    var path = '';\n    var moveBy = 0;\n    var newRow = false;\n    var lineLength = 0;\n    for (var i = 0; i < data.length; i++) {\n        var col = Math.floor(i % size);\n        var row = Math.floor(i / size);\n        if (!col && !newRow)\n            newRow = true;\n        if (data[i]) {\n            lineLength++;\n            if (!(i > 0 && col > 0 && data[i - 1])) {\n                path += newRow\n                    ? svgCmd('M', col + margin, 0.5 + row + margin)\n                    : svgCmd('m', moveBy, 0);\n                moveBy = 0;\n                newRow = false;\n            }\n            if (!(col + 1 < size && data[i + 1])) {\n                path += svgCmd('h', lineLength);\n                lineLength = 0;\n            }\n        }\n        else {\n            moveBy++;\n        }\n    }\n    return path;\n}\nvar render = function render(qrData, options, cb) {\n    var opts = utils$1.getOptions(options);\n    var size = qrData.modules.size;\n    var data = qrData.modules.data;\n    var qrcodesize = size + opts.margin * 2;\n    var bg = !opts.color.light.a\n        ? ''\n        : '<path ' + getColorAttrib(opts.color.light, 'fill') +\n            ' d=\"M0 0h' + qrcodesize + 'v' + qrcodesize + 'H0z\"/>';\n    var path = '<path ' + getColorAttrib(opts.color.dark, 'stroke') +\n        ' d=\"' + qrToPath(data, size, opts.margin) + '\"/>';\n    var viewBox = 'viewBox=\"' + '0 0 ' + qrcodesize + ' ' + qrcodesize + '\"';\n    var width = !opts.width ? '' : 'width=\"' + opts.width + '\" height=\"' + opts.width + '\" ';\n    var svgTag = '<svg xmlns=\"http://www.w3.org/2000/svg\" ' + width + viewBox + ' shape-rendering=\"crispEdges\">' + bg + path + '</svg>\\n';\n    if (typeof cb === 'function') {\n        cb(null, svgTag);\n    }\n    return svgTag;\n};\nvar svgTag = {\n    render: render\n};\nfunction renderCanvas(renderFunc, canvas, text, opts, cb) {\n    var args = [].slice.call(arguments, 1);\n    var argsNum = args.length;\n    var isLastArgCb = typeof args[argsNum - 1] === 'function';\n    if (!isLastArgCb && !canPromise()) {\n        throw new Error('Callback required as last argument');\n    }\n    if (isLastArgCb) {\n        if (argsNum < 2) {\n            throw new Error('Too few arguments provided');\n        }\n        if (argsNum === 2) {\n            cb = text;\n            text = canvas;\n            canvas = opts = undefined;\n        }\n        else if (argsNum === 3) {\n            if (canvas.getContext && typeof cb === 'undefined') {\n                cb = opts;\n                opts = undefined;\n            }\n            else {\n                cb = opts;\n                opts = text;\n                text = canvas;\n                canvas = undefined;\n            }\n        }\n    }\n    else {\n        if (argsNum < 1) {\n            throw new Error('Too few arguments provided');\n        }\n        if (argsNum === 1) {\n            text = canvas;\n            canvas = opts = undefined;\n        }\n        else if (argsNum === 2 && !canvas.getContext) {\n            opts = text;\n            text = canvas;\n            canvas = undefined;\n        }\n        return new Promise(function (resolve, reject) {\n            try {\n                var data = qrcode.create(text, opts);\n                resolve(renderFunc(data, canvas, opts));\n            }\n            catch (e) {\n                reject(e);\n            }\n        });\n    }\n    try {\n        var data = qrcode.create(text, opts);\n        cb(null, renderFunc(data, canvas, opts));\n    }\n    catch (e) {\n        cb(e);\n    }\n}\nvar create$1 = qrcode.create;\nvar toCanvas = renderCanvas.bind(null, canvas.render);\nvar toDataURL = renderCanvas.bind(null, canvas.renderToDataURL);\n// only svg for now.\nvar toString_1 = renderCanvas.bind(null, function (data, _, opts) {\n    return svgTag.render(data, opts);\n});\nvar browser = {\n    create: create$1,\n    toCanvas: toCanvas,\n    toDataURL: toDataURL,\n    toString: toString_1\n};\nvar amplifyTotpSetupCss = \".totp-setup{text-align:center;margin-bottom:30px}.totp-setup img{height:128px;width:128px}\";\nvar logger = new Logger('TOTP');\nvar AmplifyTOTPSetup = /** @class */ (function () {\n    function class_1(hostRef) {\n        registerInstance(this, hostRef);\n        this.inputProps = {\n            autoFocus: true,\n        };\n        /** Auth state change handler for this component */\n        this.handleAuthStateChange = dispatchAuthStateChangeEvent;\n        /** Used for header text in totp setup component */\n        this.headerText = Translations.TOTP_HEADER_TEXT;\n        /** Used for customizing the issuer string in the qr code image */\n        this.issuer = Translations.TOTP_ISSUER;\n        this.code = null;\n        this.setupMessage = null;\n        this.qrCodeInput = null;\n        this.loading = false;\n    }\n    class_1.prototype.componentWillLoad = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        /**\n                         * We didn't use `@Watch` here because it doesn't fire when we go from require-new-password to totp-setup.\n                         * That is because `Auth.completeNewPassword` only changes `user` in place and Watch doesn't detect changes\n                         * unless we make a clone.\n                         */\n                        this.removeHubListener = onAuthUIStateChange(function (authState) {\n                            if (authState === AuthState.TOTPSetup)\n                                _this.setup();\n                        });\n                        return [4 /*yield*/, this.setup()];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.disconnectedCallback = function () {\n        this.removeHubListener && this.removeHubListener(); // stop listening to `onAuthUIStateChange`\n    };\n    class_1.prototype.buildOtpAuthPath = function (user, issuer, secretKey) {\n        return \"otpauth://totp/\" + issuer + \":\" + user.username + \"?secret=\" + secretKey + \"&issuer=\" + issuer;\n    };\n    class_1.prototype.onTOTPEvent = function (event, data, user) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        logger.debug('on totp event', event, data);\n                        if (!(event === SETUP_TOTP && data === SUCCESS)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, checkContact(user, this.handleAuthStateChange)];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.handleTotpInputChange = function (event) {\n        this.setupMessage = null;\n        this.qrCodeInput = event.target.value;\n    };\n    class_1.prototype.generateQRCode = function (codeFromTotp) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, error_1;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _b.trys.push([0, 2, , 3]);\n                        _a = this;\n                        return [4 /*yield*/, browser.toDataURL(codeFromTotp)];\n                    case 1:\n                        _a.qrCodeImageSource = _b.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        error_1 = _b.sent();\n                        dispatchToastHubEvent(error_1);\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.setup = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var encodedIssuer, secretKey, error_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        // ensure setup is only run once after totp setup is available\n                        if (!this.user || this.user.challengeName !== 'MFA_SETUP' || this.loading)\n                            return [2 /*return*/];\n                        this.setupMessage = null;\n                        encodedIssuer = encodeURI(I18n.get(this.issuer));\n                        if (!Auth || typeof Auth.setupTOTP !== 'function') {\n                            throw new Error(NO_AUTH_MODULE_FOUND);\n                        }\n                        this.loading = true;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, 4, 5]);\n                        return [4 /*yield*/, Auth.setupTOTP(this.user)];\n                    case 2:\n                        secretKey = _a.sent();\n                        logger.debug('secret key', secretKey);\n                        this.code = this.buildOtpAuthPath(this.user, encodedIssuer, secretKey);\n                        this.generateQRCode(this.code);\n                        return [3 /*break*/, 5];\n                    case 3:\n                        error_2 = _a.sent();\n                        dispatchToastHubEvent(error_2);\n                        logger.debug(I18n.get(Translations.TOTP_SETUP_FAILURE), error_2);\n                        return [3 /*break*/, 5];\n                    case 4:\n                        this.loading = false;\n                        return [7 /*endfinally*/];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.verifyTotpToken = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            var user, error_3;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (event) {\n                            event.preventDefault();\n                        }\n                        if (!this.qrCodeInput) {\n                            logger.debug('No TOTP Code provided');\n                            return [2 /*return*/];\n                        }\n                        user = this.user;\n                        if (!Auth || typeof Auth.verifyTotpToken !== 'function' || typeof Auth.setPreferredMFA !== 'function') {\n                            throw new Error(NO_AUTH_MODULE_FOUND);\n                        }\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 5, , 6]);\n                        return [4 /*yield*/, Auth.verifyTotpToken(user, this.qrCodeInput)];\n                    case 2:\n                        _a.sent();\n                        return [4 /*yield*/, Auth.setPreferredMFA(user, MfaOption.TOTP)];\n                    case 3:\n                        _a.sent();\n                        this.setupMessage = I18n.get(Translations.TOTP_SUCCESS_MESSAGE);\n                        logger.debug(I18n.get(Translations.TOTP_SUCCESS_MESSAGE));\n                        return [4 /*yield*/, this.onTOTPEvent(SETUP_TOTP, SUCCESS, user)];\n                    case 4:\n                        _a.sent();\n                        return [3 /*break*/, 6];\n                    case 5:\n                        error_3 = _a.sent();\n                        this.setupMessage = I18n.get(Translations.TOTP_SETUP_FAILURE);\n                        logger.error(error_3);\n                        return [3 /*break*/, 6];\n                    case 6: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_1.prototype.render = function () {\n        var _this = this;\n        return (h(Host, null, h(\"amplify-form-section\", { headerText: I18n.get(this.headerText), submitButtonText: I18n.get(Translations.TOTP_SUBMIT_BUTTON_TEXT), handleSubmit: function (event) { return _this.verifyTotpToken(event); }, loading: this.loading }, h(\"div\", { class: \"totp-setup\" }, this.qrCodeImageSource && h(\"img\", { src: this.qrCodeImageSource, alt: I18n.get(Translations.QR_CODE_ALT) }), h(\"amplify-form-field\", { label: I18n.get(Translations.TOTP_LABEL), inputProps: this.inputProps, fieldId: \"totpCode\", name: \"totpCode\", handleInputChange: function (event) { return _this.handleTotpInputChange(event); } })))));\n    };\n    return class_1;\n}());\nAmplifyTOTPSetup.style = amplifyTotpSetupCss;\nexport { AmplifyRadioButton as amplify_radio_button, AmplifyTOTPSetup as amplify_totp_setup };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { Logger, isEmpty } from '@aws-amplify/core';\nimport { A as AuthState, C as ChallengeName } from './auth-types-78df304e.js';\nimport { Auth, CognitoUser } from '@aws-amplify/auth';\nimport { T as Translations } from './Translations-c833f663.js';\nimport { N as NO_AUTH_MODULE_FOUND } from './constants-d1abe7de.js';\nimport { a as dispatchToastHubEvent } from './helpers-09e7c279.js';\nvar logger = new Logger('auth-helpers');\nfunction checkContact(user, handleAuthStateChange) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, newUser, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!Auth || typeof Auth.verifiedContact !== 'function') {\n                        throw new Error(NO_AUTH_MODULE_FOUND);\n                    }\n                    // If `user` is a federated user, we shouldn't call `verifiedContact`\n                    // since `user` isn't `CognitoUser`\n                    if (!isCognitoUser(user)) {\n                        handleAuthStateChange(AuthState.SignedIn, user);\n                        return [2 /*return*/];\n                    }\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, Auth.verifiedContact(user)];\n                case 2:\n                    data = _a.sent();\n                    if (!isEmpty(data.verified) || isEmpty(data.unverified)) {\n                        handleAuthStateChange(AuthState.SignedIn, user);\n                    }\n                    else {\n                        newUser = Object.assign(user, data);\n                        handleAuthStateChange(AuthState.VerifyContact, newUser);\n                    }\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_1 = _a.sent();\n                    dispatchToastHubEvent(error_1);\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    });\n}\nvar handleSignIn = function (username, password, handleAuthStateChange) { return __awaiter(void 0, void 0, void 0, function () {\n    var user, error_2;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!Auth || typeof Auth.signIn !== 'function') {\n                    throw new Error(NO_AUTH_MODULE_FOUND);\n                }\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 9, , 10]);\n                return [4 /*yield*/, Auth.signIn(username, password)];\n            case 2:\n                user = _a.sent();\n                logger.debug(user);\n                if (!(user.challengeName === ChallengeName.SMSMFA || user.challengeName === ChallengeName.SoftwareTokenMFA)) return [3 /*break*/, 3];\n                logger.debug('confirm user with ' + user.challengeName);\n                handleAuthStateChange(AuthState.ConfirmSignIn, user);\n                return [3 /*break*/, 8];\n            case 3:\n                if (!(user.challengeName === ChallengeName.NewPasswordRequired)) return [3 /*break*/, 4];\n                logger.debug('require new password', user.challengeParam);\n                handleAuthStateChange(AuthState.ResetPassword, user);\n                return [3 /*break*/, 8];\n            case 4:\n                if (!(user.challengeName === ChallengeName.MFASetup)) return [3 /*break*/, 5];\n                logger.debug('TOTP setup', user.challengeParam);\n                handleAuthStateChange(AuthState.TOTPSetup, user);\n                return [3 /*break*/, 8];\n            case 5:\n                if (!(user.challengeName === ChallengeName.CustomChallenge &&\n                    user.challengeParam &&\n                    user.challengeParam.trigger === 'true')) return [3 /*break*/, 6];\n                logger.debug('custom challenge', user.challengeParam);\n                handleAuthStateChange(AuthState.CustomConfirmSignIn, user);\n                return [3 /*break*/, 8];\n            case 6: return [4 /*yield*/, checkContact(user, handleAuthStateChange)];\n            case 7:\n                _a.sent();\n                _a.label = 8;\n            case 8: return [3 /*break*/, 10];\n            case 9:\n                error_2 = _a.sent();\n                if (error_2.code === 'UserNotConfirmedException') {\n                    logger.debug('the user is not confirmed');\n                    handleAuthStateChange(AuthState.ConfirmSignUp, { username: username });\n                }\n                else if (error_2.code === 'PasswordResetRequiredException') {\n                    logger.debug('the user requires a new password');\n                    handleAuthStateChange(AuthState.ForgotPassword, { username: username });\n                }\n                else if (error_2.code === 'InvalidParameterException' && password === '') {\n                    logger.debug('Password cannot be empty');\n                    error_2.message = Translations.EMPTY_PASSWORD;\n                }\n                dispatchToastHubEvent(error_2);\n                return [3 /*break*/, 10];\n            case 10: return [2 /*return*/];\n        }\n    });\n}); };\nvar isCognitoUser = function (user) {\n    return user instanceof CognitoUser;\n};\nexport { checkContact as c, handleSignIn as h };\n"]}}